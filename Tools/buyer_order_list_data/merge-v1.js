if(!function(t){if(!t.just||!t.just.fmd){if(t.lofty)t.lofty.appframe("just"),t.just.fmd=t.fmd;else{var e=function(){};t.just={config:e,define:e,fmd:e,on:e,off:e,emit:e}}var i={},n=function(t){return i[t]},o=function(t,e,o){if(void 0===i[t]){if(o||(o=e,e=[]),"function"==typeof o){for(var s=[],r=0,a=e.length;a>r;r++)s.push(n(e[r]));o=o.apply(null,s)}i[t]=o||null}};o("global",t),t.just.put=o,t.just.out=n,t.just.cache=i,t.just.version="2.5.9",t.just.fmd("just/event",["event"],function(e){t.just.emit=e.emit})}}("undefined"==typeof window?global:window),just.put("lang",function(){var t={}.toString,e={forEach:function(t,e){for(var i=0,n=t.length;n>i;i++)e(t[i],i)},extend:function(t,e){for(var i in e)t[i]=e[i];return t},type:function(e){return null==e?String(e):t.call(e).slice(8,-1).toLowerCase()},isFunction:function(t){return"function"===this.type(t)}};return e}),just.put("util",["lang","global"],function(t,e){var i=/\{\s*\[(?:native code|function)\]\s*\}/i,n=e.document,o=e.encodeURIComponent,s={guid:1,encode:o,now:Date.now||function(){return(new Date).getTime()},param:function(t){var e=[];for(var i in t)e.push(i+"="+o(t[i]));return e.join("&")},isUserDefined:function(e){if(t.isFunction(e)&&!i.test(e)){for(var n in e)return!1;return!0}return!1},inject:function(t,e,i){var n=e.method,o=t[n];t[n]=function(){var t;i.before&&i.before(e);try{t=o.apply(this,arguments)}catch(n){i.afterThrow&&i.afterThrow(e,n)}return i.after&&i.after(e),t}},hasInit:function(e){return e&&e.init&&t.isFunction(e.init)},send:function(t){if(n.images){var i=new Image,o="_just_tracker_"+this.guid++;e[o]=i,i.onload=i.onerror=function(){e[o]=null},i.src=t}}};return s}),just.put("def",["fly"],function(t){just.def=t?just.define?function(){t.define.apply(t,arguments),just.define.apply(just,arguments)}:t.define:just.define}),just.put("justConfig",["global"],function(t){var e=/\.css(?:\?|$)/,i=/\//,n=/^(just|doit|way|flow|wall|stair|prop|lift|cart|make|payment|trade|meta|refund|rate|favorite|module|widget)(\/)(.+)/;just.config({async:!1,debug:function(){return t.location.href.indexOf("just.debug=true")>0}(),resolve:function(t){var o,s=e.test(t)?"/css/":"/js/";return t.replace(n,function(t,e,n,r){switch(e){case"just":case"doit":o=e+s+r;break;case"way":case"flow":case"wall":case"stair":case"prop":o=e+"/"+r.replace(i,s);break;case"cart":case"make":case"favorite":o="way/"+e+s+r;break;case"payment":case"trade":case"refund":case"lift":o="flow/"+e+s+r;break;case"rate":o="wall/"+e+s+r;break;case"meta":o="prop/"+e+s+r;break;case"module":case"widget":o="trade"+s+t}return"app/"+o})},alias:{k:"knight","lofty/observer":"just/as/observer","lofty/lang/observer":"just/as/observer","just/lang/delayer":"just/fit/delayer","just/lang/io":"just/fit/io","just/lang/observer":"just/fit/observer","just/lang/mvc":"just/fit/mvc"},stamp:{".*":"20160413"}})}),just.put("runtime",["global"],function(t){var e=/\w+-(test|dev)\./i,i=t.location,n=t.lofty||t.FE,o={isOnTest:function(){return!(!n.test||!n.test["style.luna.url"])||e.test(i.hostname)||i.port.length>0},isOnline:function(){return!o.isOnTest()||0===i.protocol.indexOf("file")},getTerminal:function(){var t=[];return this.isMobile?(t.push(this.isWap?"wap":"app"),t.push(this.isMainClient?"alibaba":this.isCaiyuanbaoClient?"caiyuanbao":this.isQianniuClient?"qianniu":this.isAlipayClient?"alipay":this.isKoubeiClient?"koubei":"browser"),t.push(this.isIosSystem?"ios":this.isAndroidSystem?"adr":"null"),t.push(this.appVersion||"0.0.0")):(t.push("pc"),t.push(this.isQianniuClient?"qianniu":"browser"),t.push("null"),t.push("0.0.0")),t.join("_")}};return o}),just.define("justRuntime",function(){var t=just.out("global"),e=t.navigator&&t.navigator.userAgent||"",i={isDesktop:!0,isQianniuClient:e.indexOf("Qianniu/")>-1};return just.out("lang").extend(just.out("runtime"),i)}),just.put("everlog",["global","lang","util"],function(t,e,i){var n=t.performance||{},o=t.location||{},s=t.screen||{},r=o.href||"",a=(s.width||"")+"x"+(s.height||""),l=n.timing&&n.timing.fetchStart||t.PAGE_START_TIME||i.now(),c=(i.encode(i.param({screen:a,url:r.length>300?r.substring(0,299):r,pageClientTime:l})),("https:"===o.protocol?"https:":"http:")+"//data.alibench.com/1688/report_data.php?topic_id=fereport_common_metaq",{key:"skey",text:"log",time:"evtClientTime"});return{createRecord:function(t){var e={};for(var n in t)e[c[n]||n]=t[n];return e.bizId=e.bizId||"5",e.evtClientTime=e.evtClientTime||i.now(),e},send:function(t){},log:function(t){this.send(this.createRecord(t))}}}),just.put("goldlog",["global","util","lang"],function(t,e,i){var n,o,s=[],r=function(){return t.goldlog&&t.goldlog.record?(o=t.goldlog,!0):!1},a=function(){n&&t.clearInterval(n)},l=function(){a(),n=t.setInterval(function(){(o||r())&&(a(),i.forEach(s,function(t){o.record.apply(o,t)}))},50)};return function(t,i,n,a){n=e.param(n),o||r()?o.record(t,i,n,a):(s.push([t,i,n,a]),l())}}),just.put("trace",["global","util","goldlog"],function(t,e,i){var n=t.aliclick=function(i,n){return"undefined"!=typeof t.dmtrack?dmtrack.clickstat("//stat.1688.com/tracelog/click.html",n):e.send("//gm.mmstat.com/btob.6?gokey="+e.encode(n.substring(1))+"&time="+e.now()),!0};return function(t,e){e?("/"!==t.charAt(0)&&(t="/trade."+t),i(t,"",{},e)):n(null,"?tracelog="+t)}}),just.put("console",["global","everlog","runtime","platform"],function(t,e,i,n){var o={isSupport:function(){return t.console&&t.console.warn},error:function(t,i){e.log({key:"jsError",intVal:3,strVal:t,text:i})},local:function(t,e){throw just.log(e.stack,"error"),e},remote:function(t,e){o.error((t.id||"")+"#"+t.method,e.message)},canRemote:function(){var t=!just.config("debug")&&i.isOnline();return t&&n&&(t=n.isWap),t}};return o}),just.define("justTracker",function(){"use strict";var t={},e=just.out("everlog"),i=just.out("console");return t.error=i.error,t.trace=just.out("trace"),t.goldlog=just.out("goldlog"),t.everlog=function(t){e.log(t)},t}),just.put("methodMonitor",["global","lang","util","console","runtime"],function(t,e,i,n,o){var s=["jQuery","FE"],r=function(i){var n=i.id.toLowerCase(),o=i.exports;if(n.indexOf("@alife")>-1||n.indexOf("react")>-1)return!0;if("object"!==e.type(o)&&!e.isFunction(o))return!0;for(var r=0,a=s.length;a>r;r++)if(o===t[s[r]])return!0;return!1},a={advices:{afterThrow:n.local},canAutoEnable:function(){return just.config("debug")||!o.isOnline()},listen:function(t,e,n){for(var o in e)i.isUserDefined(e[o])&&i.inject(e,{id:t,method:o},n||a.advices)},setup:function(t){n.canRemote()&&(a.advices.afterThrow=n.remote),t&&e.extend(a.advices,t),just.on("compiled",function(t){t.id&&t.exports&&!r(t)&&a.listen(t.id,t.exports)})}};return a}),just.put("performanceMonitor",["global","lang","everlog"],function(t,e,i){var n=t.performance||{},o=t.chrome||{},s=n.timing,r=n.memory,a=function(){return{dns:s.domainLookupEnd-s.domainLookupStart,tcp:s.connectEnd-s.connectStart,ttfb:s.responseStart-s.navigationStart,network:s.responseStart-s.fetchStart,download:s.responseEnd-s.requestStart,firstPaint:s.msFirstPaint?s.msFirstPaint-s.navigationStart:-1,domCompleted:s.domComplete-s.domLoading}},l=function(t,i){var l={};return"object"==typeof s&&(l=a(),l.domready=t-s.fetchStart,l.load=i-s.fetchStart,e.isFunction(o.loadTimes)&&(l.firstPaint=(1e3*o.loadTimes().firstPaintTime).toFixed(0)-s.navigationStart)),e.isFunction(n.getEntries)&&(l.resourcesTotal=n.getEntries().length),"object"==typeof r&&(l.jsHeapRatio=(r.usedJSHeapSize/r.totalJSHeapSize*100).toFixed(0)),just.emit("justCollectPerformanceData",l),l},c=!1;return{collect:function(t,e){return l(t,e)},execute:function(t,e){if(!c){c=!0;var n=l(t,e),o=[];for(var s in n)o.push(i.createRecord({key:s,intVal:n[s],time:e}));o.length&&i.send(o)}}}}),just.define("justMonitor",["justRuntime"],function(t){"use strict";var e=(just.out("global"),just.out("lang"),just.out("util"),just.out("console")),i=just.out("methodMonitor"),n=just.out("performanceMonitor"),o={listenMethod:i.listen,canAutoMethodMonitor:i.canAutoEnable,canThrowRemote:e.canRemote,isMethodLevelEnabled:!1,enableMethodLevel:function(t){this.isMethodLevelEnabled=!0,i.setup(t)},performance:function(t,e){n.execute(t,e)},collectPerformance:function(t,e){return n.collect(t,e)},_autoEnableMethodLevel:function(){!this.isMethodLevelEnabled&&i.canAutoEnable()&&i.setup()},_autoDebug:function(){e.isSupport()&&!just.config("debug")&&!t.isOnline()&&just.config({debug:!0})}};return o}),just.fmd("just/jquery",["module"],function(t){t.has("jquery",!0)||just.define("jquery",function(){return window.jQuery})}),just.define("justCache",["jquery"],function(t){"use strict";var e=just.out("lang"),i={},n=!1,o=function(){return i.pageStart?(e.forEach([t("#doc").data(),t("#content").data(),t("#just").data()],function(t){if(t)for(var e in t)i[e]=t[e]}),void(n=!0)):!1},s={set:function(t,e){i[t]=e},get:function(t){return n||o(),i[t]}};return s}),just.define("justPage",["require","jquery","justCache","justMonitor"],function(t,e,i,n){"use strict";var o=just.out("lang"),s=just.out("util"),r=[],a=[],l=!1,c=function(e){"string"==typeof e?just.config("async")?t.use(e,function(t){s.hasInit(t)&&t.init()}):(e=t(e),s.hasInit(e)&&e.init()):s.hasInit(e.factory)?((n.isMethodLevelEnabled||n.canAutoMethodMonitor())&&n.listenMethod(e.id,e.factory),e.factory.init()):o.isFunction(e.factory)&&e.factory()},u=function(t){l&&c(t)},d={register:function(t,e){var i;if(e)i={id:t,factory:e};else switch(o.type(t)){case"string":i=t;break;case"array":o.forEach(t,function(t){r.push(t),u(t)});break;default:i={id:"_just_register_"+s.guid++,factory:t}}i&&(r.push(i),u(i))},use:function(e,i){l?t.use(e,i):a.push([e,i])},ready:just.out("ready")||e,_startup:function(){i.set("pageStart",!0),o.forEach(r,function(t){c(t)}),o.forEach(a,function(e){t.use(e[0],e[1])}),l=!0}};return d}),just.put("startup",function(){just.define(["justMonitor","justRuntime","justTracker","justPage","justCache","jquery"],function(t,e,i,n,o,s){"use strict";var r,a=just.out("util"),l=t.canThrowRemote();if(t._autoDebug(),t._autoEnableMethodLevel(),!just.config("debug")&&e.isOnline()&&just.config({hasCatch:!0}),l){var c=/^https?:\/\/\w/i;just.on("compileFailed",function(t,e){i.error(e.uid,t.message)}),just.on("requireFailed",function(t){t.truth&&!c.test(t.id)&&i.error(t.id,"not found")}),just.on("requestTimeout",function(t){i.error(t.id,"request timeout")})}n.ready(function(){r=a.now(),just.log(".....Page ready....."),o.set("domReadyTime",r),n._startup()})})}),define("doit/widget/ui/placeholder",["jquery"],function(t){var e=null,i=null,n="placeholder",o="__ph_hook__",s=!1,r=function(t){this.init(t)};return r.prototype={ct:null,initDefaultOptions:function(){var t={placeholderCss:"input-placeholder",isFixOnly:!0,isClearNative:!0,isFixFormSubmit:!0,isIgnoreUnload:!1,isHackVal:!1,isHookVal:!0,eventNs:"",placeholderStr:null,container:null};return t},initOptions:function(e){var i=this.initDefaultOptions();t.extend(this,i,e||{})},init:function(t){this.initOptions(t),this.createComponent()},_eventFun:null,_bind:function(t,e,i){null!=t&&(this._eventFun||(this._eventFun=[]),this._eventFun.push({el:t,event:e,fun:i}),t.bind(e,i))},_unbindAll:function(){if(this._eventFun){for(var t=null,e=0,i=this._eventFun.length;i>e;e++)t=this._eventFun[e],t.el.unbind(t.event,t.fun);this._eventFun.splice(0,this._eventFun.length)}},destroy:function(t){this.clearPlaceholder(),this._unbindAll(),delete this._eventFun,delete this.container,this.ct&&(t||this.ct.remove(),delete this.ct)},setVal:function(t){this.ct&&(this._isInit?(this.ct.removeClass(this.placeholderCss),this.ct.val(t),this.setPlaceholder()):this.ct.val(t))},getVal:function(){return this.ct?this._isInit&&this._isDo?"":this.ct.val():null},_isDo:!1,_isFocus:!1,_isUnload:!1,_isInit:!1,initText:function(){var e=this,i=this.ct;if(null==this.placeholderStr&&(this.placeholderStr=i.attr(n)),!this.isFixOnly&&this.isClearNative)try{i.prop(n,"")}catch(o){}if(null==this.placeholderStr&&(this.placeholderStr=""),this._bind(i,"blur"+this.eventNs,function(t){e._isFocus=!1,e.setPlaceholder()}),this._bind(i,"focus"+this.eventNs,function(t){e._isFocus=!0,e.clearPlaceholder()}),this._bind(t(window),"beforeunload"+this.eventNs,function(){e.clearPlaceholder(),e._isUnload=!0,window.clearTimeout(e._timeoutId)}),this.isFixFormSubmit&&this._bind(i.closest("form"),"submit"+this.eventNs,function(){e.clearPlaceholder(),e._timeoutId=window.setTimeout(function(){if(!e._isUnload){this._isUnload=!1;try{e.setPlaceholder()}catch(t){}}},25)}),this.isHackVal&&!this.isHookVal){var s=i.val;i.val=function(){e.clearPlaceholder();var t=s.apply(this,arguments);return e.setPlaceholder(),t}}this.isHookVal&&this.hookToJQuery(),this._isInit=!0,this.setPlaceholder()},hookToJQuery:function(){if(!s&&(s=!0,null!=t.fn&&t.fn.val)){var e=t.fn.val;t.fn.val=function(){var i=s;this.each(function(e){var n=t.data(this,o);i&&null!=n&&n._isInit&&n.clearPlaceholder()});var n=e.apply(this,arguments);return this.each(function(e){var n=t.data(this,o);i&&null!=n&&n._isInit&&n.setPlaceholder()}),n}}},setPlaceholderStr:function(t,e){this.placeholderStr=t;var i=this.ct;if(this._isInit)this.clearPlaceholder(),this.setPlaceholder();else if(i&&e!==!1)try{i.attr(n,t)}catch(o){}},setPlaceholder:function(t){var e=this.ct,i=this.isIgnoreUnload;t&&(this._isUnload=!1),this._isInit&&(i||!i&&!this._isUnload)&&e&&e.length>0&&""===e[0].value&&!this._isFocus&&(e.addClass(this.placeholderCss),e[0].value=null==this.placeholderStr?"":this.placeholderStr,this._isDo=!0)},clearPlaceholder:function(){var t=this.ct;this._isInit&&t&&t.length>0&&this._isDo&&(t[0].value="",t.removeClass(this.placeholderCss),this._isDo=!1)},isSupport:function(t){null==e&&(e=n in document.createElement("input"),i=n in document.createElement("textarea"));var o=t.prop("tagName").toUpperCase();return"INPUT"===o&&e?!0:"TEXTAREA"===o&&i?!0:!1},createComponent:function(){var e=t(this.container).first();if(this.ct=e,!(e.length<=0)){var i=this.isSupport(e);this.isFixOnly&&i?this.isFixOnly&&i&&null!=this.placeholderStr&&this.setPlaceholderStr(this.placeholderStr):this.initText(),this.ct.data(o,this)}}},r.registerHook=function(e,i){var n=null,s=null;t(e).each(function(e,a){n=t(a),s=n.prop("tagName").toUpperCase(),"INPUT"!==s&&"TEXTAREA"!==s||null!=n.data(o)||new r(t.extend({},i||{},{container:n,isHookVal:!0,isHackVal:!1}))}),n=null},r.getHookPlaceholder=function(e){var i=[],n=null;return t(e).each(function(e,s){n=t(s).data(o),n&&i.push(n)}),n=null,i},r}),define("doit/widget/util/log-util",["jquery"],function(t){var e="https://g.alicdn.com/retcode/log/log.js",i=[],n=null,o=!1,s={init:function(){try{window.__WPO?(null!=n&&window.__WPO.setConfig(n),o=!0):t.getScript(e).done(function(t,e){if(window.__WPO){if(null!=n&&window.__WPO.setConfig(n),i&&i.length>0)for(var s=0,r=i.length;r>s;s++)window.__WPO[i[s].type]&&window.__WPO[i[s].type].apply(window.__WPO,i[s].args);i.splice(0,i.length)}o=!0}).fail(function(t,e,i){o=!0})}catch(s){}},_call_:function(t,e){try{o?window.__WPO&&window.__WPO[t]&&window.__WPO[t].apply(window.__WPO,e):i.push({type:t,args:Array.prototype.slice.call(e,0)})}catch(n){}},setConfig:function(e){try{n=t.extend({},e),o&&window.__WPO&&window.__WPO.setConfig(n)}catch(i){}},error:function(){this._call_("error",arguments)},custom:function(){this._call_("custom",arguments)},log:function(){this._call_("log",arguments)},logCode:function(){this._call_("retCode",arguments)}};return s.init(),s}),just.define("just/fit/observer",function(){"use strict";var t={}.toString,e=[].slice,i=function(e){return"[object Function]"===t.call(e)},n=Array.isArray||function(e){return"[object Array]"===t.call(e)},o=function(t){return"string"==typeof t},s=function(t,e){var i;if(n(t))for(;i=t.shift();)e(i);else e(t)},r=function(t,e,i,n){if(o(e)){var s=t[e]||(t[e]=[]);s.push({listener:i,context:n})}},a=function(t,e,i,n){var s,r;if(o(e)&&(s=t[e]))if(i||n)for(var a=0;a<s.length;)r=s[a],i&&r.listener===i||n&&r.context===n?s.splice(a,1):a++;else delete t[e]},l=function(t,e,i){var n,s;if(o(e)&&(n=t[e]))for(var r=0,a=n.length;a>r;r++)s=n[r],s.listener.apply(s.context||this._observer_context||this,i)},c=function(t){this._observer_context=t};c.prototype={attach:function(t,e,n){var o;return i(e)?(o=this._observer_group||(this._observer_group={}),s(t,function(t){r(o,t,e,n)}),this):this},detach:function(t,e,i){var n;return(n=this._observer_group)?t?(s(t,function(t){a(n,t,e,i)}),this):(delete this._observer_group,this):this},notify:function(t){var i,n,o;return(i=this._observer_group)?(n=e.call(arguments,1),o=this,s(t,function(t){l.call(o,i,t,n)}),this):this}};var u=new c(window);return u.create=function(t){return new c(t)},u.mixTo=function(t){t=t||{};var e=c.prototype;for(var i in e)t[i]=e[i];return t},u}),just.define("just/as/observer",["just/lang/observer"],function(t){"use strict";var e=function(t){t.on=t.attach,t.off=t.detach,t.trigger=t.notify},i=t.create(window);return e(i),i.create=function(i){var n=t.create(i);return e(n),n},i.mixTo=function(i){var n=t.mixTo(i);return e(n),n},i}),just.def("just/lang/string",["jquery"],function(t){var e={trim:t.trim,limit:function(t,e,i,n){if(null==t)return t;if(n){for(var o="",s=0,r=0,a=t.length;a>r&&(s+=t.charCodeAt(r)>0&&t.charCodeAt(r)<255?1:2,e>=s);r++)o+=t.charAt(r);return i&&o.length<t.length&&(o+=i),o}var o=t;return o.length>e&&(o=o.substring(0,e)),i&&o.length<t.length&&(o+=i),o},substitute:function(t,e){return t.replace(/\{(\w+)\}/g,function(t,i){return void 0!==e[i]?e[i]:"{"+i+"}"})},stringify:function(t,e,i){e=e||"&",i=i||"=";var n=[];for(var o in t)n.push(o+i+t[o]);return n.join(e)},parse:function(t,e,i){for(var n,o={},s=t.split(e),r=0;r<s.length;r++)n=s[r],n=n.split(i),o[n[0]]=n[1];return o},escapeHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"|'/g,"&quot;")},unescapeHTML:function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}};return e}),just.def("just/lang/number",function(){"use strict";var t=function(t){for(var e="";t>0;t--)e+="0";return e},e=function(e){var i="";switch(e){case 1:i="0";break;case 2:i="00";break;default:i=t(e)}return i},i=function(t,i){return 0===i?t:t+"."+e(i)},n={isInt:function(t){return/^\d*$/.test(t)},toNumber:function(t,e){return t=parseFloat(t),isNaN(t)?e||0:t},toInt:function(t,e){return parseInt(n.toNumber(t,e),10)},toFixed:function(t,o){if(t=n.toNumber(t),o=void 0!==o?n.toNumber(o):2,o>20||0>o)throw new RangeError("fraction digits argument must be between 0 and 20");if(0==t)return i("0",o);if(t=t.toString(),t.indexOf("e")>0)return t;if(-1===t.indexOf("."))return i(t,o);var s=t.split("."),r=s[1],a=r.length;if(a===o)return t;if(o>a)return t+e(o-a);var l=o+1,c=(r.substring(0,l)-0+5).toString(),u=l-c.length;switch(u){case 0:s[1]=c.substring(0,o);break;case-1:s[0]=s[0]-0+1,s[1]=c.substring(1,l);break;default:s[1]=(e(u)+c).substring(0,o)}return 0===o?s[0]+"":s.join(".")},abs:function(t){return Math.abs(n.toNumber(t))},sum:function(t){for(var e=0,i=0,o=t.length;o>i;i++)e+=n.toNumber(t[i]);return e},sumAndToFixed:function(t){return this.toFixed(this.sum(t))}};return n}),just.def("just/lang/amount",["just/lang/number"],function(t){"use strict";return{format:function(t){return this.toFormat(this.centToDollar(t))},toFormat:function(t){if("string"!=typeof t)return t;var e=0===t.indexOf("-");e&&(t=t.substring(1,t.length));for(var i=t.lastIndexOf("."),n=3,o=",",s=i>-1?t.substring(0,i):t,r=i>-1?t.substring(i,t.length):"",a=s.length,l=0,c="",u=a-1;u>-1;u--)l++,c=(l%n===0&&a-1>u&&u>0?o:"")+s.charAt(u)+c;return c+=r,e&&(c="-"+c),c},dollarToCent:function(e){return t.toFixed(100*t.toNumber(e),0)},centToDollar:function(e){return t.toFixed(t.toNumber(e)/100)}}}),just.def("just/lang/boolean",function(){"use strict";var t={isTrue:function(t){return t+="","true"===t||"1"===t},isFalse:function(t){return t+="","false"===t||"0"===t},toBoolean:function(e){return"boolean"==typeof e?e:t.isTrue(e)?!0:t.isFalse(e)?!1:!!e},and:function(e){for(var i=0,n=e.length;n>i;i++)if(!t.toBoolean(e[i]))return!1;return!0},len:function(t,e){if(!t)return 0;if("undefined"==typeof e)return t.length;for(var i={"true":0,"false":0},n=this,o=0,s=t.length;s>o;o++){var r=t[o];n.isTrue(r)&&i["true"]++,n.isFalse(r)&&i["false"]++}return i[e+""]},isContainTrue:function(t){for(var e=0,i=t.length;i>e;e++)if(this.isTrue(t[e]))return!0;return!1},isContainFalse:function(t){for(var e=0,i=t.length;i>e;e++)if(this.isFalse(t[e]))return!0;return!1}};return t}),just.def("just/lang/json",["jquery","lofty/util/json/1.0/json"],function(t,e){"use strict";var i=window.JSON||e;return{parseJSON:function(e){return"string"==typeof e?(e=e.replace(/\'/g,'"'),e=t.parseJSON(e.replace(/\t|\r\n|\n/g," "))):e},parse:function(t){return t?i.parse(t):{}},stringify:function(t){return t?i.stringify(t):""}}}),just.define("just/lang/class",["lofty/lang/class"],function(t){"use strict";return function(e,i){var n=t(e,i);return n.superclass&&delete n.superclass,n}}),just.define("just/fit/io",["jquery"],function(t){"use strict";var e,i="POST",n="GET",o="JSONP",s=function(t){return"string"==typeof t},r=!1,a=function(t,e){if(s(t))switch(t){case i:e.type=i,e.dataType="json";break;case n:e.dataType="json";break;case o:e.dataType="jsonp"}},l=function(i){r||(e=t("input[name=_csrf_token]").val()||t("[data-csrf]").attr("data-csrf")||t("[data-csrf-token]").attr("data-csrf-token"),r=!0),e&&(i._csrf_token=e)},c=function(t,e,o){(t===i||t===n)&&(o._csrf_token||l(o),t===i&&(e.url+=(e.url.indexOf("?")>0?"&":"?")+"_input_charset=utf-8"))},u=function(t,e,i){this.init(t,e,i)};return u.prototype={init:function(e,i,n){"function"==typeof e?this._driver=e:(this._driver=t.ajax,this._driverType=e.toUpperCase()),this.server=i||"",this.requesting=!1,this.defaultOptions=n||{}},setDefaultData:function(e){this._ioData=t.extend(this._ioData,e)},setDefaultCallbacks:function(e){this._ioCallbacks=t.extend(this._ioCallbacks,e)},request:function(e,i){var n=this,o=this.defaultOptions||{};!e&&(e={}),n.requesting=!0,o.url=n.server,a(n._driverType,o),c(n._driverType,o,e),o.data=t.extend({},n._ioData,e),i=t.extend({},n._ioCallbacks,i),o.success=function(e){return n.requesting=!1,s(e)&&(e=t.parseJSON(e)),e.success+""=="true"?void(i.onSuccess&&i.onSuccess.call(i.context,e)):void(i.onFailure&&i.onFailure.call(i.context,e))},o.error=function(){n.requesting=!1,i.onError&&i.onError.apply(i.context,arguments)},n._driver(o)}},u}),"ui"in jQuery&&"_defined"in jQuery.ui||function(t,e){function i(t){return t&&t.constructor===Number?t+"px":t}function n(e,i){var n=e.nodeName.toLowerCase();if("area"===n){var s,r=e.parentNode,a=r.name;return e.href&&a&&"map"===r.nodeName.toLowerCase()?(s=t("img[usemap=#"+a+"]")[0],!!s&&o(s)):!1}return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"==n?e.href||i:i)&&o(e)}function o(e){return!t(e).parents().andSelf().filter(function(){return"hidden"===t.curCSS(this,"visibility")||t.expr.filters.hidden(this)}).length}t.extend(t.ui,{_defined:!0,keyCode:{DOWN:40,ENTER:13,ESCAPE:27,LEFT:37,NUMPAD_ENTER:108,RIGHT:39,SHIFT:16,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.curCSS(this,"position",1))&&/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,o,s=t(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(o=parseInt(s.css("zIndex"),10),!isNaN(o)&&0!==o))return o;s=s.parent()}return 0},disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},bgiframe:function(e){if(t.util.ua.ie6){if("close"===e)return this.each(function(){t(this).children("iframe.bgiframe").remove()});e=t.extend({top:"auto",left:"auto",width:"auto",height:"auto",zIndex:-1,opacity:0,src:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var n=['<iframe class="bgiframe"frameborder="0"tabindex="-1"src="',e.src,'"style="display:block;position:absolute;z-index:',e.zIndex,";",e.opacity?"":"filter:Alpha(Opacity='0');","top:","auto"==e.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":i(e.top),";left:","auto"==e.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":i(e.left),";width:","auto"==e.width?"expression(this.parentNode.offsetWidth+'px')":i(e.width),";height:","auto"==e.height?"expression(this.parentNode.offsetHeight+'px')":i(e.height),';"/>'].join("");return this.each(function(){var e=t(this);0===e.children("iframe.bgiframe").length&&this.insertBefore(document.createElement(n),this.firstChild)})}return"close"===e?this.each(function(){t(this).children("div.bgiframe").remove()}):(e=t.extend({position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,backgroundColor:"#FFF",opacity:0},e),e.force?this.each(function(){var i=t(this);0===i.children("div.bgiframe").length&&i.prepend(t("<div>",{"class":"bgiframe",css:e}))}):this)}}),t.extend(t.expr[":"],{data:function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),o=isNaN(i);return(o||i>=0)&&n(e,!o)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),t.extend(t.ui,{plugin:{add:function(e,i,n){var o=t.ui[e].prototype;for(var s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(t,e,i){var n=t.plugins[e];if(n&&t.element[0].parentNode)for(var o=0;o<n.length;o++)t.options[n[o][0]]&&n[o][1].apply(t.element,i)}},isOverAxis:function(t,e,i){return t>e&&e+i>t},isOver:function(e,i,n,o,s,r){return t.ui.isOverAxis(e,n,s)&&t.ui.isOverAxis(i,o,r)}}),t.add("ui-core")}(jQuery),"widget"in jQuery||function(t,e){var i=(Array.prototype.slice,t.cleanData);t.cleanData=function(e){for(var n,o=0;null!=(n=e[o]);o++)t(n).triggerHandler("remove");i(e)},t.widget=function(e,i,n){var o,s=e.split(".")[0];e=e.split(".")[1],o=s+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][o]=function(i){return!!t.data(i,e)},t[s]=t[s]||{},t[s][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var r=new i;r.options=t.extend(!0,{},r.options),t[s][e].prototype=t.extend(!0,r,{namespace:s,widgetName:e,widgetEventPrefix:t[s][e].prototype.widgetEventPrefix||e,widgetBaseClass:o},n),t.widget.bridge(e,t[s][e])},t.widget.bridge=function(i,n){t.fn[i]=function(o){var s="string"==typeof o,r=Array.prototype.slice.call(arguments,1),a=this;return o=!s&&r.length?t.extend.apply(null,[!0,o].concat(r)):o,s&&"_"===o.charAt(0)?a:(this.each(s?function(){var n=t.data(this,i),s=n&&t.isFunction(n[o])?n[o].apply(n,r):n;return s!==n&&s!==e?(a=s,!1):void 0}:function(){var e=t.data(this,i);e?e.option(o||{})._init():t.data(this,i,new n(o,this))}),a)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,i){t.data(i,this.widgetName,this),this.element=t(i),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this.options.classPrefix&&(this.widgetBaseClass=this.options.classPrefix+"-"+this.widgetName),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var o=i;if(0===arguments.length)return t.extend({},this.options);if("string"==typeof i){if(n===e)return this.options[i];o={},o[i]=n}return this._setOptions(o),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,i,n){var o=this.options[e];if(i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n=n||{},i.originalEvent)for(var s,r=t.event.props.length;r;)s=t.event.props[--r],i[s]=i.originalEvent[s];return this.element.trigger(i,n),!(t.isFunction(o)&&o.call(this.element[0],i,n)===!1||i.isDefaultPrevented())}},t.add("ui-core")}(jQuery),"tabs"in jQuery.fn||function(t,e){t.widget("ui.tabs",{options:{isAutoPlay:!0,timeDelay:3,torpid:200,event:"mouseover|mouseout",currentClass:"current",titleSelector:".f-tab-t",boxSelector:".f-tab-b",selected:0},_create:function(){var e,i,n=this,o=this.options,s=o.selected;if(n.titles=n.element.find(o.titleSelector),n.boxes=n.element.find(o.boxSelector),n._setEffectStyle(),n.titles.length>n.boxes.length){n.titles=n.titles.slice(0,n.boxes.length);for(var r=n.boxes.length;r<n.titles.length;r++)t(n.titles[r]).addClass("ui-state-disabled")}if(n.index=0,n.tHandle=null,n.isPause=!1,0>s){var a=0,l=n.length()-1;s=Math.floor(Math.random()*(l-a+1))+a}if(n._setTab(s,null,!0),n._autoPlay(1),e=n._getEvents(),e.length>1){var c=null,u={};u[e[0]]=function(e){n.isPause=!0,c&&clearTimeout(c);var i=t(n.titles).index(t(e.currentTarget));c=setTimeout(function(){n.index!==i&&n._setTab(i,e),n._onTitleFocue()},o.torpid)},u[e[1]]=function(t){n.isPause=!1,clearTimeout(c),c=setTimeout(function(){n._autoPlay(1,t)},o.torpid)},t(n.titles).live(u)}else 1===e.length&&t(n.titles).live(e[0],function(e){n._onTitleFocue();var i=t(n.titles).index(t(e.currentTarget));n.index!==i&&n._setTab(i,e),n._autoPlay(1,e)});i=this._getPrimalBoxes?this._getPrimalBoxes():this.boxes,i.each(function(e){t(this).hover(function(){n.isPause=!0,n._onTitleFocue()},function(){n.isPause=!1,n._autoPlay(1)})})},reset:function(){this.titles=this.element.find(this.options.titleSelector),this.boxes=this.element.find(this.options.boxSelector),"scroll"===this.options.effect&&(this._setEffectStyle(!0),0===this._getScrollBoxes().length&&this.prev())},_setTab:function(e,i,n){var o=e,s=t(this.boxes[e]);i=i||null,e=this._getIndex(e),this._trigger("select",i,{index:e,box:s}),"scroll"!==this.options.effect&&(this._lazyImg(e),this._lazyHtml(e)),this._setTitle(e),n===!0?this._initBox(e):this._setBox(e,o),this.index=e,"scroll"!==this.options.effect&&"fade"!==this.options.effect&&this._trigger("show",i,{index:e,box:s})},_autoPlay:function(t,e){var i=this;t=Number(t)||1,e=e||null,i.options.isAutoPlay===!0&&i.isPause===!1&&(i.tHandle&&clearTimeout(i.tHandle),i.tHandle=setTimeout(function(){i._setTab(i.index+t,e)},1e3*i.options.timeDelay))},_setTitle:function(e){if(this.titles.length>0){var i=this.options.currentClass;this.titles.removeClass(i),t(this.titles[e]).addClass(i)}},_setBox:function(t){this._effectNone(t)},_initBox:function(t){this._effectNone(t)},_effectNone:function(e){this.boxes.hide(),t(this.boxes[e]).show(),
this._autoPlay(1)},_onTitleFocue:function(){this.tHandle&&(clearTimeout(this.tHandle),this.tHandle=null)},_setOption:function(e,i){t.Widget.prototype._setOption.apply(this,arguments),"selected"===e&&this._setTab(i)},_lazyImg:t.noop,_lazyHtml:t.noop,_lazyScrollImg:t.noop,_lazyScrollHtml:t.noop,_setEffectStyle:t.noop,_getIndex:function(t){var e=this.boxes.length;return 0>t?t+e:t>=e?t-e:t},_getEvents:function(){return t.trim(this.options.event).split("|")},prev:function(t){return t=t||1,this._onTitleFocue(),this._setTab(this.index-t),this._autoPlay(),this},next:function(t){return t=t||1,this._onTitleFocue(),this._setTab(this.index+t),this._autoPlay(),this},length:function(){return this.boxes.length},idx:function(){return this.index},select:function(t){return t!==this.index&&this._setTab(t),this}}),t.add("ui-tabs")}(jQuery),!function(t){t.extend(t.util,{cookie:function(t,e,i){null!==e&&"object"==typeof e&&(i=e),i=i||{};var n,o=i.raw?function(t){return t}:escape,s=i.raw?function(t){return t}:unescape;if(arguments.length>1&&(null===e||"object"!=typeof e)){if(i=jQuery.extend({},i),null===e&&(i.expires=-1),"number"==typeof i.expires){var r=i.expires,a=i.expires=new Date;a.setDate(a.getDate()+r)}return/\b1688\.com$/.test(window.location.hostname)&&i&&"alibaba.com"==i.domain&&(i.domain="1688.com"),document.cookie=[o(t),"=",i.raw?String(e):o(String(e)),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}return(n=new RegExp("(?:^|; )"+escape(t)+"=([^;]*)").exec(document.cookie))?s(n[1]):null}}),t.add("util-cookie")}(jQuery),"mouse"in jQuery.fn||function(t,e){t.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(e){if(e.originalEvent=e.originalEvent||{},!e.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1==e.which,o="string"==typeof this.options.cancel?t(e.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),e.originalEvent.mouseHandled=!0,!0)):!0}},_mouseMove:function(e){return!t.browser.msie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target==this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(t){return this.mouseDelayMet},_mouseStart:t.noop,_mouseDrag:t.noop,_mouseStop:t.noop,_mouseCapture:function(t){return!0}}),t.add("ui-mouse")}(jQuery),"draggable"in jQuery.fn||function(t,e){t.widget("ui.draggable",t.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(e),this.handle?!0:!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(e,!0),!0)},_mouseDrag:function(e,i){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=!1;if(t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var n=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()})}else this._trigger("stop",e)!==!1&&this._clear();return!1},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var i=this.options.handle&&t(this.options.handle,this.element).length?!1:!0;return t(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(i=!0)}),i},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"==i.helper?this.element.clone():this.element;return n.parents("body").length||n.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),n[0]==this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=[("document"==e.containment?0:t(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,("document"==e.containment?0:t(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:t(window).scrollLeft())+t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:t(window).scrollTop())+(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var i=t(e.containment)[0];if(!i)return;var n=t(e.containment).offset(),o="hidden"!=t(i).css("overflow");this.containment=[n.left+(parseInt(t(i).css("borderLeftWidth"),10)||0)+(parseInt(t(i).css("paddingLeft"),10)||0),n.top+(parseInt(t(i).css("borderTopWidth"),10)||0)+(parseInt(t(i).css("paddingTop"),10)||0),n.left+(o?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t(i).css("borderLeftWidth"),10)||0)-(parseInt(t(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,n.top+(o?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t(i).css("borderTopWidth"),10)||0)-(parseInt(t(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]}},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"==e?1:-1,o=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),s=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*n),left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*n)}},_generatePosition:function(e){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName),s=e.pageX,r=e.pageY;if(this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid)){var a=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1];r=this.containment&&(a-this.offset.click.top<this.containment[1]||a-this.offset.click.top>this.containment[3])?a-this.offset.click.top<this.containment[1]?a+i.grid[1]:a-i.grid[1]:a;var l=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0];s=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+i.grid[0]:l-i.grid[0]:l}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(t){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.extend(t.ui.draggable,{version:"1.8.11"}),t.ui.plugin.add("draggable","cursor",{start:function(e,i){var n=t("body"),o=t(this).data("draggable").options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i){var n=t(this).data("draggable").options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","iframeFix",{start:function(e,i){var n=t(this).data("draggable").options;t(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){t('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")})},stop:function(e,i){t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),o=t(this).data("draggable").options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i){var n=t(this).data("draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(e,i){var n=t(this).data("draggable");n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset())},drag:function(e,i){var n=t(this).data("draggable"),o=n.options,s=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(o.axis&&"x"==o.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?n.scrollParent[0].scrollTop=s=n.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-n.overflowOffset.top<o.scrollSensitivity&&(n.scrollParent[0].scrollTop=s=n.scrollParent[0].scrollTop-o.scrollSpeed)),o.axis&&"y"==o.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?n.scrollParent[0].scrollLeft=s=n.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-n.overflowOffset.left<o.scrollSensitivity&&(n.scrollParent[0].scrollLeft=s=n.scrollParent[0].scrollLeft-o.scrollSpeed))):(o.axis&&"x"==o.axis||(e.pageY-t(document).scrollTop()<o.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<o.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+o.scrollSpeed))),o.axis&&"y"==o.axis||(e.pageX-t(document).scrollLeft()<o.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<o.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+o.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i){var n=t(this).data("draggable"),o=n.options;n.snapElements=[],t(o.snap.constructor!=String?o.snap.items||":data(draggable)":o.snap).each(function(){var e=t(this),i=e.offset();this!=n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i){for(var n=t(this).data("draggable"),o=n.options,s=o.snapTolerance,r=i.offset.left,a=r+n.helperProportions.width,l=i.offset.top,c=l+n.helperProportions.height,u=n.snapElements.length-1;u>=0;u--){var d=n.snapElements[u].left,h=d+n.snapElements[u].width,f=n.snapElements[u].top,p=f+n.snapElements[u].height;if(r>d-s&&h+s>r&&l>f-s&&p+s>l||r>d-s&&h+s>r&&c>f-s&&p+s>c||a>d-s&&h+s>a&&l>f-s&&p+s>l||a>d-s&&h+s>a&&c>f-s&&p+s>c){if("inner"!=o.snapMode){var g=Math.abs(f-c)<=s,m=Math.abs(p-l)<=s,v=Math.abs(d-a)<=s,y=Math.abs(h-r)<=s;g&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left),y&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left)}var b=g||m||v||y;if("outer"!=o.snapMode){var g=Math.abs(f-l)<=s,m=Math.abs(p-c)<=s,v=Math.abs(d-r)<=s,y=Math.abs(h-a)<=s;g&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),m&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left),y&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[u].snapping&&(g||m||v||y||b)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=g||m||v||y||b}else n.snapElements[u].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(e,i){var n=t(this).data("draggable").options,o=t.makeArray(t(n.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(o.length){var s=parseInt(o[0].style.zIndex)||0;t(o).each(function(t){this.style.zIndex=s+t}),this[0].style.zIndex=s+o.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),o=t(this).data("draggable").options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i){var n=t(this).data("draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.add("ui-draggable")}(jQuery),"dialog"in jQuery.fn||function(t,e){var i,n=t.util.ua.ie6;t.widget("ui.dialog",{options:{fixed:!1,center:!1,modalCSS:{backgroundColor:"#000",opacity:.3},css:{left:0,top:0},fadeIn:!1,fadeOut:!1,modal:!0,draggable:!1,timeout:0,classPrefix:""},_create:function(){var e,o=this,s=o.options,r=o.widget();s.shim=s.shim||s.bgiframe,o.position={left:s.css.left,top:s.css.top},r[0].style&&(o.elementDisplay=r[0].style.display,o.elementPosition=r[0].style.position),o.elementParent=r.parent(),n&&t("input:checkbox,input:radio",r).each(function(){this.defaultChecked=this.checked}),e=o.contentLyr=t("<div>",{"class":o.widgetBaseClass,css:t.extend({display:"none",position:!n&&s.fixed?"fixed":"absolute"},s.css||{})}).appendTo("body").append(r.show()),s.modal?(t.ui.dialog.overlay.create(o),e.css("z-index",i.zIndex++).bind("keydown."+o.widgetBaseClass,function(e){if(e.keyCode===t.ui.keyCode.TAB){var i=t(":tabbable",this),n=i.filter(":first"),o=i.filter(":last");return e.target!=o[0]||e.shiftKey?e.target===n[0]&&e.shiftKey?(o.focus(1),!1):void 0:(n.focus(1),!1)}})):(e.css("z-index",i.zIndex++),s.shim&&e.bgiframe()),n&&s.fixed&&t(window).bind("scroll."+o.widgetBaseClass,t.proxy(function(t){this._offsetContent()},o)),s.fadeIn?(o.isAnimated=!0,e.fadeIn(s.fadeIn,function(){o.isAnimated=!1,o._trigger("open")})):(e.show(),o._trigger("open")),s.center?(o._center(),s.fixed&&t(window).bind("resize."+o.widgetBaseClass,t.proxy(o,"_center"))):o._offsetContent(),s.draggable&&t.fn.draggable&&o._makeDraggable(),s.timeout&&(o.timeout=setTimeout(t.proxy(o,"close"),(s.fadeIn||0)+s.timeout))},destroy:function(){var e=this,i=(e.options,e.widget()),o=e.contentLyr,s=e.elementParent,r=e.elementPosition,a=e.elementDisplay;s.length&&(n&&t("input:checkbox,input:radio",o).each(function(){this.defaultChecked=this.checked}),i.css({position:r||"",display:a||""}),s.append(i),e.elementParent=e.elementPosition=e.elementDisplay=null),t.Widget.prototype.destroy.apply(e,arguments),t(window).unbind("."+e.widgetBaseClass),o.unbind("."+e.widgetBaseClass).remove(),e._trigger("close"),e.contentLyr=null,e.isAnimated=!1},_makeDraggable:function(){var t=this,i=t.options;t.contentLyr.draggable(i.draggable===!0?e:i.draggable)},close:function(){var e=this;if(e.isAnimated)return void t.log("close: another dialog is closing!");var i=e.options,o=e.contentLyr;e._trigger("beforeClose")&&(e.timeout&&(clearTimeout(e.timeout),e.timeout=null),i.modal&&t.ui.dialog.overlay.close(e),n&&o.bgiframe("close"),i.fadeOut?(e.isAnimated=!0,o.fadeOut(i.fadeOut,t.proxy(e,"destroy"))):e.destroy())},_setOption:function(e,n){var o=this;switch(e){case"zIndex":i.zIndex=n;break;case"css":case"modalCSS":t.extend(o.options.key,n);break;case"draggable":var s=o.contentLyr.is(":data(draggable)");s&&!n&&o.contentLyr.draggable("destroy"),!s&&n&&o._makeDraggable()}},_offsetContent:function(){var e=this,i=e.options,o=t(window),s=e.position,r=(!n&&i.fixed?0:o.scrollTop())+s.top;e.contentLyr.css({left:(!n&&i.fixed?0:o.scrollLeft())+s.left,top:0>r?0:r})},_center:function(){var e=this,i=(e.options,t(window)),n=e.contentLyr;t.extend(e.position,{left:(i.width()-n.width())/2,top:(i.height()-n.height())/2}),e._offsetContent()}}),t.extend(t.ui.dialog,{version:"1.0",overlay:function(e){t.ui.dialog.overlay.create(e)}}),t.extend(t.ui.dialog.overlay,{dialogs:[],maxZ:0,create:function(e){var o=this,s=e.options,r=o.modal,a=t(document),l=t(document.body);o.dialogs.push(e),r?(r.css("z-index",e.zIndex=o.maxZ=i.zIndex++),s.shim&&r.bgiframe("close")):(a.bind("keydown."+e.widgetBaseClass+"-overlay,keypress."+e.widgetBaseClass+"-overlay",function(e){var i=t.ui.dialog.overlay.dialogs;return"HTML"!==e.target.nodeName&&!t.contains(i[i.length-1].contentLyr[0],e.target)&&t(e.target).zIndex()<t.ui.dialog.overlay.maxZ?!1:void 0}),r=o.modal=t("<div>",{"class":e.widgetBaseClass+"-overlay",css:t.extend(s.modalCSS,{display:"none",zIndex:e.zIndex=o.maxZ=i.zIndex++,left:0,top:0},n?{position:"absolute",width:l.width(),height:a.height()}:{position:"fixed",width:"100%",height:"100%"})}).attr("tabindex","-1").appendTo(l),n&&t(window).bind("resize."+e.widgetBaseClass+"-overlay",function(){r.css({width:l.width(),height:a.height()})}),s.fadeIn?r.fadeIn(s.fadeIn,function(){s.shim&&r.bgiframe()}):(r.show(),s.shim&&r.bgiframe()))},close:function(t){var e=this,i=(t.options,e.dialogs),n=i.indexOf(t),o=i.length;n===o-1?(i.pop(),o>1?e.modal.css("z-index",e.maxZ=i[o-2].zIndex):e._destroy(t)):i.splice(n,1)},_destroy:function(e){var i=this;t(document).unbind("."+e.widgetBaseClass+"-overlay"),n&&t(window).unbind("."+e.widgetBaseClass+"-overlay"),i.modal.remove(),i.modal=null}}),i=t.ui.dialog,i.zIndex=2e3,t.add("ui-dialog")}(jQuery),define("lofty/util/template/2.0/tplhandler",["lofty/util/template/2.0/template","jquery"],function(t,e){var i={process:function(i){var n=this.get("extendTplData");if(n||i){var o=e.extend(!0,{},i,n),s=this.get("tpl"),r=t.compile(s),a=r(o);this.set("tpl",a)}}};return i}),define("lofty/util/webp/1.0/webp",[],function(){var t={},e={isSupport:function(e,i){if(i||(i=e,e="lossy"),"function"==typeof i){if(void 0!==t[e])return void i(t[e]);var n=function(n){t[e]=n,i(n)};this._isSupport(e,n)}},isSupportAll:function(t,e){if(e||(e=t,t=["lossy","lossless","alpha","animation"]),"function"==typeof e)for(var i=0,n=t.length,o=!1,s=function(n){if(n)++i==t.length&&e(!0);else{if(o)return;o=!0,e(!1)}},r=0;n>r;r++)this.isSupport(t[r],s)},convertSrc:function(t,e){var i=/https?:\/\/(img.c.aliimg.com|img.china.alibaba.com|i00.c.aliimg.com|i01.c.aliimg.com|i02.c.aliimg.com|i03.c.aliimg.com|i04.c.aliimg.com|i05.c.aliimg.com|i06.c.aliimg.com|i07.c.aliimg.com|i08.c.aliimg.com|i09.c.aliimg.com|i10.c.aliimg.com|i11.c.aliimg.com|i12.c.aliimg.com|bimg.c.aliimg.com|cbu01.alicdn.com|cbu02.alicdn.com|i01.1688.alicdn.com|i02.1688.alicdn.com|i03.1688.alicdn.com|i04.1688.alicdn.com|i05.1688.alicdn.com)\/.*\.jpg$/i;if(!i.test(t))return void e(t);var n=function(i){e(i?t+"_.webp":t)};this.isSupport(n)},_isSupport:function(t,e){try{if(!window.localStorage)return void e(!1)}catch(n){return void e(!1)}var o="webpsupport_"+t;if(null!==window.localStorage.getItem(o)){var s=window.localStorage.getItem(o);return void e("true"===s)}var r=new Image;r.onload=function(){var t=r.width>0&&r.height>0;window.localStorage.setItem(o,t.toString()),e(t)},r.onerror=function(){window.localStorage.setItem(o,"false"),e(!1)},r.src="data:image/webp;base64,"+i[t]}},i={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return e}),!function(t){var e=function(t,i){return e["object"==typeof i?"render":"compile"].apply(e,arguments)};!function(t,e){"use strict";t.version="2.0.1",t.openTag="<%",t.closeTag="%>",t.isEscape=!1,t.isCompress=!1,t.parser=null,t.render=function(t,e){var i=n(t);return void 0===i?o({id:t,name:"Render Error",message:"No Template"}):i(e)},t.compile=function(e,n){function r(i){try{return new u(i)+""}catch(s){return l?(s.id=e||n,s.name="Render Error",s.source=n,o(s)):t.compile(e,n,!0)(i)}}var a=arguments,l=a[2],c="anonymous";"string"!=typeof n&&(l=a[1],n=a[0],e=c);try{var u=s(n,l)}catch(d){return d.id=e||n,d.name="Syntax Error",o(d)}return r.prototype=u.prototype,r.toString=function(){return u.toString()},e!==c&&(i[e]=r),r},t.helper=function(e,i){t.prototype[e]=i},t.onerror=function(t){var i="[template]:\n"+t.id+"\n\n[name]:\n"+t.name;t.message&&(i+="\n\n[message]:\n"+t.message),t.line&&(i+="\n\n[line]:\n"+t.line,i+="\n\n[source]:\n"+t.source.split(/\n/)[t.line-1].replace(/^[\s\t]+/,"")),t.temp&&(i+="\n\n[temp]:\n"+t.temp),e.console&&console.error(i)};var i={},n=function(n){var o=i[n];if(void 0===o&&"document"in e){var s=document.getElementById(n);if(s){var r=s.value||s.innerHTML;return t.compile(n,r.replace(/^\s*|\s*$/g,""))}}else if(i.hasOwnProperty(n))return o},o=function(e){function i(){return i+""}return t.onerror(e),i.toString=function(){return"{Template Error}"},i},s=function(){t.prototype={$render:t.render,$escape:function(t){return"string"==typeof t?t.replace(/&(?![\w#]+;)|[<>"']/g,function(t){return{"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"}[t]}):t},$string:function(t){return"string"==typeof t||"number"==typeof t?t:"function"==typeof t?t():""}};var e=Array.prototype.forEach||function(t,e){for(var i=this.length>>>0,n=0;i>n;n++)n in this&&t.call(e,this[n],n,this)},i=function(t,i){e.call(t,i)},n="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",o=/\/\*(?:.|\n)*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|'[^']*'|"[^"]*"|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,s=/[^\w$]+/g,r=new RegExp(["\\b"+n.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),a=/\b\d[^,]*/g,l=/^,+|,+$/g,c=function(t){return t=t.replace(o,"").replace(s,",").replace(r,"").replace(a,"").replace(l,""),t=t?t.split(/,+/):[]};return function(e,n){function o(e){return p+=e.split(/\n/).length-1,t.isCompress&&(e=e.replace(/[\n\r\t\s]+/g," ")),e=e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n"),e=w[1]+"'"+e+"'"+w[2],e+"\n"}function s(e){var i=p;if(d?e=d(e):n&&(e=e.replace(/\n/g,function(){return p++,"$line="+p+";"})),0===e.indexOf("=")){var o=0!==e.indexOf("==");if(e=e.replace(/^=*|[\s;]*$/g,""),o&&t.isEscape){var s=e.replace(/\s*\([^\)]+\)/,"");m.hasOwnProperty(s)||/^(include|print)$/.test(s)||(e="$escape($string("+e+"))")}else e="$string("+e+")";e=w[1]+e+w[2]}return n&&(e="$line="+i+";"+e),r(e),e+"\n"}function r(t){t=c(t),i(t,function(t){g.hasOwnProperty(t)||(a(t),g[t]=!0)})}function a(t){var e;"print"===t?e=C:"include"===t?(v.$render=m.$render,e=k):(e="$data."+t,m.hasOwnProperty(t)&&(v[t]=m[t],e=0===t.indexOf("$")?"$helpers."+t:e+"===undefined?$helpers."+t+":"+e)),y+=t+"="+e+","}var l=t.openTag,u=t.closeTag,d=t.parser,h=e,f="",p=1,g={$data:!0,$helpers:!0,$out:!0,$line:!0},m=t.prototype,v={},y="var $helpers=this,"+(n?"$line=0,":""),b="".trim,w=b?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],_=b?"if(content!==undefined){$out+=content;return content}":"$out.push(content);",C="function(content){"+_+"}",k="function(id,data){if(data===undefined){data=$data}var content=$helpers.$render(id,data);"+_+"}";i(h.split(l),function(t,e){t=t.split(u);var i=t[0],n=t[1];1===t.length?f+=o(i):(f+=s(i),n&&(f+=o(n)))}),h=f,n&&(h="try{"+h+"}catch(e){e.line=$line;throw e}"),h="'use strict';"+y+w[0]+h+"return new String("+w[3]+")";try{var S=new Function("$data",h);return S.prototype=v,S}catch(x){throw x.temp="function anonymous($data) {"+h+"}",x}}}()}(e,this),"function"==typeof define?define("lofty/util/template/1.0/template",["require","exports","module"],function(t,i,n){n.exports=e}):t.template=e}(window),define("lofty/util/exposure/1.0/exposure",["lofty/lang/class","lofty/lang/base","jquery"],function(t,e,i){"use strict";function n(){if(!this._hasBindEvent){this._hasBindEvent=!0;var t=this,e=this.get("timecell");i(window).on("scroll."+l.call(this),function(){t.scrollTimeoutId&&clearTimeout(t.scrollTimeoutId),t.scrollTimeoutId=setTimeout(function(){p.call(t)},e)}),i(window).on("resize."+l.call(this),function(){t.resizeTimeoutId&&clearTimeout(t.resizeTimeoutId),t.resizeTimeoutId=setTimeout(function(){p.call(t)},e)})}}function o(){n.call(this),this._groupArr&&a.call(this,0)}function s(){i(window).off("scroll."+l.call(this)),i(window).off("resize."+l.call(this)),this._hasBindEvent=!1}function r(t){if(this._allUnbind=!1,n.call(this),!this._overflowScrollBind[t]){var e=this;i(this._overflowContainerArr[t]).on("scroll."+l.call(this),function(){
p.call(e,t)}),this._overflowScrollBind[t]=!0}}function a(t){for(var e=t,i=this._overflowContainerArr.length;i>e;e++)r.call(this,e)}function l(){return this._guid||(this._guid="_exposure_"+y++),this._guid}function c(t,e){if(t.length){f.call(this);for(var n=this._currentScrollTop+this._viewportHeight,o=this._currentScrollLeft+this._viewportWidth,s=this.get("threshold"),r=0;r<t.length;){var a,l=i(t[r]),c=l.offset(),u=c.top,d=c.left,h=l.outerHeight(),p=l.outerWidth();a=this.get("onlyTop")?!0:u+h+s>this._currentScrollTop,n+s>=u&&a&&o+s>=d&&d+p+s>this._currentScrollLeft?this._onlyOnce?(this.trigger("exposure",l),t.splice(r,1)):(e[r]||this.trigger("exposure",l),u>=this._currentScrollTop&&n>=u+h?2!=e[r]&&(e[r]=2,this.trigger("completeShow",l)):1!=e[r]&&(e[r]=1,this.trigger("partShow",l)),r++):(!this._onlyOnce&&e[r]&&(e[r]=0,this.trigger("hide",l)),r++)}}}function u(t){if(this._overflowScrollBind[t]){i(this._overflowContainerArr[t]).off("scroll."+l.call(this)),this._overflowScrollBind[t]=!1,this._allUnbind=!0;for(var e=0;e<this._overflowScrollBind.length;e++)if(this._overflowScrollBind[e]){this._allUnbind=!1;break}this._allUnbind&&(this._groupArr.length>this._overflowContainerArr.length&&!this._groupArr[this._groupArr.length-1].length||this._groupArr.length==this._overflowContainerArr.length)&&s.call(this)}}function d(t){if(!this._groupArr[t].length)return void u.call(this,t);var e=this._overflowContainerArr[t],n=this._currentScrollTop+this._viewportHeight,o=this._currentScrollLeft+this._viewportWidth,s=this.get("threshold"),r=i(e).offset(),a=parseInt(i(e).css("borderLeftWidth"),10)||0,l=parseInt(i(e).css("paddingLeft"),10),c=parseInt(i(e).css("borderTopWidth"),10)||0,d=parseInt(i(e).css("paddingTop"),10),h=r.top+c+d,f=r.left+a+l,p=i(e).innerHeight(),g=i(e).innerWidth();if(n>=h&&h+p>this._currentScrollTop&&o>=f&&f+g>this._currentScrollLeft){var m,v=Math.max(h,this._currentScrollTop),y=Math.max(f,this._currentScrollLeft),b=Math.min(o,f+g),w=Math.min(n,h+p),_=this._groupArr[t];this._onlyOnce||(m=this._groupStateArr[t]);for(var C=0;C<_.length;){var k,S=i(_[C]),x=S.offset(),D=x.top,T=x.left,O=S.outerHeight(),E=S.outerWidth();k=this.get("onlyTop")?!0:D+O+s>v,w+s>=D&&k&&b+s>=T&&T+E+s>y?this._onlyOnce?(this.trigger("exposure",S),_.splice(C,1)):(m[C]||this.trigger("exposure",S),D>=v&&w>=D+O?2!=m[C]&&(m[C]=2,this.trigger("completeShow",S)):1!=m[C]&&(m[C]=1,this.trigger("partShow",S)),C++):(this._onlyOnce||m[C]&&(m[C]=0,this.trigger("hide",S)),C++)}}}function h(t){if(f.call(this),void 0!==t)return void d.call(this,t);for(var e=0,i=this._overflowContainerArr.length;i>e;e++)d.call(this,e);var n=this._groupArr.length;this._overflowContainerArr.length<n&&(this._onlyOnce?c.call(this,this._groupArr[n-1]):c.call(this,this._groupArr[n-1],this._groupStateArr[n-1]),!this._groupArr[n-1].length&&this._allUnbind&&s.call(this))}function f(){this._currentScrollTop=i(document).scrollTop(),this._currentScrollLeft=i(document).scrollLeft(),this._viewportWidth=i(window).width(),this._viewportHeight=i(window).height()}function p(t){this._targetArr?(c.call(this,this._targetArr,this._targetLastStateArr),this._targetArr.length||s.call(this)):h.call(this,t)}function g(t){var t=this.get("container").find(t),e=t.toArray();if(this.get("overflowContainer")){for(var s=[],a=[],l=i(this.get("overflowContainer")),c=i(this.get("target")),u=0,d=e.length;d>u;u++){if(i(e[u]).is(l))s.push(e[u]);else{var h=i(e[u]).find(this.get("overflowContainer")).toArray();h.length&&(s=s.concat(h))}i(e[u]).is(c)&&a.push(e[u]);var f=i(e[u]).find(this.get("target")).toArray();a=a.concat(f)}var p,g=[],m=this._overflowContainerArr.length;if(m<this._groupArr.length){var v=this._groupArr.length-1;g=this._groupArr[v],this._groupArr.length=v,this._onlyOnce||(p=this._groupStateArr[v],this._groupStateArr.length=v)}this._overflowContainerArr=this._overflowContainerArr.concat(s);for(var y=0,b=s.length;b>y;y++)this._overflowScrollBind.push(!1),this._groupArr.push([]),this._onlyOnce||this._groupStateArr.push([]);for(var w=0,_=a.length;_>w;w++){for(var C=!1,k=0,S=this._overflowContainerArr.length;S>k;k++)if(i(this._overflowContainerArr[k]).find(a[w]).length){this._groupArr[k].push(a[w]),this._onlyOnce||this._groupStateArr[k].push(0),r.call(this,k),C=!0;break}C||(g.push(a[w]),this._onlyOnce||p.push(0))}g.length&&(this._groupArr.push(g),this._onlyOnce||this._groupStateArr.push(p),n.call(this))}else{for(var a=[],c=i(this.get("target")),u=0,d=e.length;d>u;u++){i(e[u]).is(c)&&a.push(e[u]);var f=i(e[u]).find(this.get("target")).toArray();a=a.concat(f)}if(this._targetArr=this._targetArr.concat(a),!this._onlyOnce)for(var x=a.length,u=0;x>u;u++)this._targetLastStateArr.push(0);this._targetArr.length&&o.call(this)}}function m(){if(this.get("overflowContainer")){this._overflowContainerArr=this.get("container").find(this.get("overflowContainer")).toArray(),this._overflowScrollBind=[],this._allUnbind=!0,this._groupArr=[],this._onlyOnce||(this._groupStateArr=[]);for(var t,e,n,o=this.get("container").find(this.get("target")).toArray(),s=0,r=this._overflowContainerArr.length;r>s;s++){this._overflowScrollBind.push(!1),t=[],n=[],e=[];for(var a=0,l=o.length;l>a;a++)i(this._overflowContainerArr[s]).find(i(o[a])).length?(t.push(o[a]),this._onlyOnce||n.push(0)):e.push(o[a]);this._groupArr.push(t),this._onlyOnce||this._groupStateArr.push(n),o=e,t=null,e=null}if(o.length&&(this._groupArr.push(o),!this._onlyOnce)){for(var c=[],u=0,d=o.length;d>u;u++)c.push(0);this._groupStateArr.push(c)}}else if(this._targetArr=this.get("container").find(this.get("target")).toArray(),!this._onlyOnce){var d=this._targetArr.length;this._targetLastStateArr=new Array(d);for(var s=0;d>s;s++)this._targetLastStateArr[s]=0}}var v=t(e,{options:{container:{value:"body",getter:function(t){return"string"==typeof t&&(t=i(t)),t}},target:null,overflowContainer:null,onlyTop:!1,onlyOnce:!0,threshold:200,timecell:100},init:function(t){e.prototype.init.call(this,t||{}),this._onlyOnce=this.get("onlyOnce"),m.call(this),o.call(this)},execute:function(){p.call(this)},collectResouce:function(t){g.call(this,i(t)),p.call(this)},destroy:function(){this.scrollTimeoutId&&clearTimeout(this.scrollTimeoutId),this.resizeTimeoutId&&clearTimeout(this.resizeTimeoutId),i(window).off("scroll."+l.call(this)),i(window).off("resize."+l.call(this)),this._hasBindEvent=!1,this.constructor.superclass.destroy.call(this)}}),y=1;return v}),define("lofty/util/datalazyload/2.0/datalazyload",["lofty/lang/class","lofty/lang/base","lofty/util/exposure/1.0/exposure","jquery","lofty/util/webp/1.0/webp"],function(t,e,i,n,o){"use strict";function s(t,e){o.convertSrc(e,function(e){t.attr("src",e)})}var r=t(e,{options:{container:{value:"body",getter:function(t){return"string"==typeof t&&(t=n(t)),t}},overflowContainer:null,imgSrcName:"lazy-src",lazyAreaCls:"lazy-area",webp:!0,threshold:200},init:function(t){e.prototype.init.call(this,t||{});var o={container:this.get("container"),target:"img["+this.get("imgSrcName")+"],."+this.get("lazyAreaCls"),overflowContainer:this.get("overflowContainer"),threshold:this.get("threshold")};this._exposObj=new i(o);var r=this;this._exposObj.on("exposure",function(t){var e=n(t);if(e.is(n("img"))){var i=e.attr(r.get("imgSrcName"));i&&(e.one("load",function(){n(this).css("zoom",1)}),r.get("webp")?s(e,i):e.attr("src",i),e.removeAttr(r.get("imgSrcName")))}else{var o=n(e.html());if(o.filter("script").length&&(o=n(o.html())),!o.length)return;e.replaceWith(o),r._exposObj.collectResouce(o)}}),this._exposObj.execute()},execute:function(){this._exposObj.execute()},collectResouce:function(t){this._exposObj.collectResouce(t)},destroy:function(){this._exposObj.destroy()}});return r}),define("lofty/ui/tabs/2.0/tabs",["lofty/lang/class","lofty/ui/widget/1.0/widget","lofty/util/template/2.0/tplhandler","jquery","lofty/util/webp/1.0/webp","lofty/util/exposure/1.0/exposure","lofty/util/datalazyload/2.0/datalazyload"],function(t,e,i,n,o,s,r){"use strict";function a(){var t=this.get("effect");"string"==typeof t&&(this.get("el").addClass("fui-tab-effect-"+t),t=d.Effect[t]),this.get("size")&&this.get("el").addClass("fui-tab-l"),t="function"==typeof t?{show:t}:t,t.setup&&t.setup(this),this.effect=t}function l(){var t=this.get("autoPlay");if(t&&!(this.boxes.length<=1)){var e=this,i=this.get("interval"),n=!1,o=!0;this.get("stopWhenHide")||this.get("playWhenCompleteShow")?(e._exposureObj=new s({target:e.get("el"),threshold:0,onlyOnce:!1}),this.get("playWhenCompleteShow")?(e._exposureObj.on("completeShow",function(t){t.is(e.get("el"))&&(o=!1)}),e._exposureObj.on("partShow",function(t){t.is(e.get("el"))&&(o=!0)})):e._exposureObj.on("exposure",function(t){t.is(e.get("el"))&&(o=!1)}),e._exposureObj.on("hide",function(t){t.is(e.get("el"))&&(o=!0)}),e._exposureObj.execute()):o=!1,this.get("el").on("mouseenter",function(){n=!0}).on("mouseleave",function(){n=!1});var r=function(){if(e._pause||o||n)return void(e.loopTimer=setTimeout(r,i));var s=0;if("random"===t)for(;e.index===(s=Math.floor(Math.random()*e.boxes.length)););else{var a=e.index+e.get("step");s=a%e.boxes.length,e.loopAndAnim&&(e.simulateIndex=a)}e._switchTo(s,function(){e.loopTimer2=setTimeout(r,i)})};e.loopTimer=setTimeout(r,i)}}function c(t,e){o.convertSrc(e,function(e){t.attr("src",e)})}function u(t){if(this.get("isLazy")){var e=this;if(t){var i={container:e.get("el"),imgSrcName:e.get("imgSrcName"),threshold:e.get("threshold"),webp:e.get("webp")};i.overflowContainer=e.get("overflowContainer"),e._lazyObj=new r(i)}else e.on("beforeSwitch",function(t){for(var i=e.get("el").find(t.boxSelector).eq(t.index).find("img["+e.get("imgSrcName")+"]"),o=0,s=i.length;s>o;o++){var r=n(i[o]),a=r.attr(e.get("imgSrcName"));e.get("webp")?c(r,a):r.attr("src",a),r.removeAttr(e.get("imgSrcName"))}})}}var d=t(e,{options:{autoPlay:"",stopWhenHide:!1,playWhenCompleteShow:!1,interval:3e3,event:"mouseenter",currentCls:"fui-tab-current",disableCls:"disabled",size:"small",titleSelector:".fui-tab-t",boxSelector:".fui-tab-b",selected:0,effect:"default",overflowContainer:".fui-d-container",isLoop:!0,isLazy:!1,webp:!0,step:1,listenDefault:!1,titleEvtPrevent:!0,imgSrcName:"data-lazyload-src",threshold:10,duration:500,prev:".fui-tab-prev",next:".fui-tab-next",items:[],classPrefix:"fui"},events:{"{options.titleSelector}":{"{options.event}":"onTitleEvent"},"{options.prev}":{click:"prev"},"{options.next}":{click:"next"},"{options.titleSelector} a":{click:function(t){this.get("titleEvtPrevent")&&t.preventDefault()}}},_create:function(){this.render();var t=this;this.index=-1;var e=this.get("selected")||0,i=this.get("el");this.titles=i.find(this.get("titleSelector")),this.boxes=i.find(this.get("boxSelector")),this.prevNode=i.find(this.get("prev")),this.nextNode=i.find(this.get("next")),0!==this.boxes.length&&(a.call(this),l.call(this),this.loopAndAnim=this.get("isLoop")&&this.effect.moveAnim,this.get("listenDefault")?setTimeout(function(){t._switchTo(e)},0):this._switchTo(e))},_switchTo:function(t,e){if(this._maxIndex&&t>this._maxIndex&&(t=this._maxIndex),t!==this.index){var i=this,n={lastIndex:this.index,index:t,element:this.get("el"),duration:this.get("duration"),titles:this.titles,boxes:this.boxes,boxSelector:this.get("boxSelector"),overflowContainer:this.get("el").is(this.get("overflowContainer"))?this.get("el"):this.get("el").find(this.get("overflowContainer")),self:i};this.simulateIndex&&(n.simulateIndex=this.simulateIndex),this.trigger("beforeSwitch",n);var o=this.get("currentCls"),s=this.get("disableCls");this.titles.eq(this.index).removeClass(o);var r=this.get("isLoop");this.titles.eq(t).addClass(o),this.index=t,this.effect.show(n,function(){i.boxes.eq(n.lastIndex).removeClass(o),i.boxes.eq(n.index).addClass(o),r||(i.prevNode.toggleClass(s,0===n.index),i.nextNode.toggleClass(s,n.index===i.boxes.length-1)),e&&e(),i.trigger("switch",n)})}},onTitleEvent:function(t){this.get("titleEvtPrevent")&&t.preventDefault();var e=n(t.currentTarget),i=this.titles.index(e);this.loopAndAnim&&(this.simulateIndex=i),this._switchTo(i)},switchTo:function(t,e){this.loopAndAnim&&(this.simulateIndex=t),this._switchTo(t,e)},prev:function(t){if(t&&t.preventDefault&&t.preventDefault(),this._canClick!==!1){var e=this.index-this.get("step");return e>=0?(this.loopAndAnim&&(this.simulateIndex=e),this._switchTo(e)):this.get("isLoop")?(this.effect.moveAnim&&(this.simulateIndex=e),this._switchTo(this.boxes.length+e)):this.index>0&&this._switchTo(0),this}},next:function(t){if(t&&t.preventDefault&&t.preventDefault(),this._canClick!==!1){var e=this.index+this.get("step");return e<this.boxes.length?(this.loopAndAnim&&(this.simulateIndex=e),this._switchTo(e)):this.get("isLoop")?(this.effect.moveAnim&&(this.simulateIndex=e),this._switchTo(e-this.boxes.length)):this.index<this.boxes.length-1&&this._switchTo(this.boxes.length-1),this}},addTab:function(t,e){return this},removeTab:function(t){return this},getLength:function(){return this.boxes.length},getCurrentIndex:function(){return this.index},pause:function(){this._pause=!0},resume:function(){this._pause=!1},handleTpl:function(){var t={};t.classPrefix=this.get("classPrefix"),t.items=this.get("items")||[],i.process.call(this,t)},tpl:['<div class="{{classPrefix}}-tab">','<div class="{{classPrefix}}-t">','<ul class="{{classPrefix}}-tab-ul">',"{{each items as item}}",'<li class="{{classPrefix}}-tab-t"><a href="#">{{item.label}}</a></li>',"{{/each}}","</ul>","</div>",'<div class="{{classPrefix}}-d-container">','<div class="{{classPrefix}}-d">',"{{each items as item}}",'<div class="{{classPrefix}}-tab-b">{{item.content}}</div>',"{{/each}}","</div>","</div>","</div>"].join(""),end:0,destroy:function(){this._exposureObj&&this._exposureObj.destroy(),this.loopTimer&&clearTimeout(this.loopTimer),this.loopTimer2&&clearTimeout(this.loopTimer2),n(this.get("overflowContainer")).stop(!0),e.prototype.destroy.call(this)}});return d.Effect={"default":{setup:function(t){u.call(t,!1)},show:function(t,e){t.boxes.hide(),t.boxes.eq(t.index).show(),e()}},updown:{moveAnim:!0,setup:function(t){var e=t.get("el").is(t.get("overflowContainer"))?t.get("el"):t.get("el").find(t.get("overflowContainer")),i=e.height(),n=0,o=0,s=t.boxes.length;if(t.get("isLoop")){for(var r=t.boxes.eq(0).parent(),a=t.get("step")-1;a>o;o++){var l=t.boxes.eq(o).clone();l.addClass("_tab_simulate_item_"),r.append(l)}for(;i>n&&s>o;){var c=t.boxes.eq(o),d=c.clone();d.addClass("_tab_simulate_item_"),r.append(d),o++,n+=c.outerHeight(!0)}}else{for(o=s;i>n&&o>0;){o--;var c=t.boxes.eq(o);n+=c.outerHeight(!0)}t._maxIndex=o}u.call(t,!0)},show:function(t,e){t.self._canClick=!1;var i,o=!1,s=!1,r=t.overflowContainer?n(t.overflowContainer):n();t.simulateIndex&&t.simulateIndex!==t.index?(t.simulateIndex<0?(t.simulateIndex=t.index,s=!0):o=!0,i=t.element.find(t.boxSelector).eq(t.simulateIndex)):i=t.boxes.eq(t.index);var a,l=t.overflowContainer;s&&(a=r.scrollTop(),r.stop(!0).scrollTop(t.element.find(t.boxSelector).eq(t.boxes.length+t.lastIndex).offset().top-l.offset().top+a));var c=function(){o&&(a=r.scrollTop(),r.stop(!0).scrollTop(t.boxes.eq(t.simulateIndex-t.boxes.length).offset().top-l.offset().top+a)),e(),t.self._canClick=!0},u=i.offset().top,d=l.offset().top;a=r.scrollTop(),r.stop(!0).animate({scrollTop:u-d+a},t.duration,c)}},leftright:{moveAnim:!0,setup:function(t){var e=t.get("el").is(t.get("overflowContainer"))?t.get("el"):t.get("el").find(t.get("overflowContainer")),i=e.width(),o=0,s=0,r=t.boxes.length;if(t.get("isLoop")){for(var a=t.boxes.eq(0).parent(),l=t.get("step")-1;l>s;s++){var c=t.boxes.eq(s).clone();c.addClass("_tab_simulate_item_"),a.append(c)}for(;i>o&&r>s;){var d=t.boxes.eq(s),h=d.clone();h.addClass("_tab_simulate_item_"),a.append(h),s++,o+=d.outerWidth(!0)}}else{for(s=r;i>o&&s>0;){s--;var d=t.boxes.eq(s);o+=d.outerWidth(!0)}t._maxIndex=s}var f=t.get("el").find(t.get("boxSelector")),p=0,g=f.eq(0).parent();f.each(function(){var t=n(this),e=t.outerWidth(!0);p+=e}),g.addClass("fd-clr").width(p+100),f.css("float","left"),u.call(t,!0)},show:function(t,e){t.self._canClick=!1;var i,o=!1,s=!1,r=t.overflowContainer?n(t.overflowContainer):n();t.simulateIndex&&t.simulateIndex!==t.index?(t.simulateIndex<0?(t.simulateIndex=t.index,s=!0):o=!0,i=t.element.find(t.boxSelector).eq(t.simulateIndex)):i=t.boxes.eq(t.index);var a,l=t.overflowContainer;s&&(a=r.scrollLeft(),r.stop(!0).scrollLeft(t.element.find(t.boxSelector).eq(t.boxes.length+t.lastIndex).offset().left-l.offset().left+a));var c=function(){o&&(a=r.scrollLeft(),r.stop(!0).scrollLeft(t.boxes.eq(t.simulateIndex-t.boxes.length).offset().left-l.offset().left+a)),e(),t.self._canClick=!0},u=i.offset().left,d=l.offset().left;a=r.scrollLeft(),r.stop(!0).animate({scrollLeft:u-d+a},t.duration,c)}},fade:{setup:function(t){u.call(t,!1)},show:function(t,e){return t.boxes.eq(t.index).hasClass(t.self.get("currentCls"))?void e():(t.boxes.hide(),void t.boxes.eq(t.index).fadeIn(t.duration,e))}},intersectFade:{setup:function(t){t.prevNode.css("z-index","3"),t.nextNode.css("z-index","3");var e=t.boxes.eq(0).parent();e.css("position","relative"),t.boxes.css({position:"absolute",left:"0",top:"0"}),t.boxes.not(t.boxes.eq(0)).hide(),u.call(t,!1)},show:function(t,e){var i=t.self;return t.boxes.eq(t.index).hasClass(t.self.get("currentCls"))?void e():(t.boxes.stop(!0).not(t.lastIndex).css({"z-index":1,opacity:0}).hide(),t.boxes.eq(t.lastIndex).css({"z-index":2,opacity:1}).show(),i.tmId&&(clearTimeout(i.tmId),i.tmId=null),t.boxes.eq(t.lastIndex).animate({"z-index":1,opacity:0},t.duration),i.tmId=setTimeout(function(){t.boxes.eq(t.index).show().animate({"z-index":2,opacity:1},t.duration)},.5*t.duration),void e())}}},d}),define("lofty/lang/base",["lofty/lang/class","lofty/lang/attribute","lofty/lang/observer","lofty/lang/pluginhost"],function(t,e,i,n){"use strict";var o=function(t,e){var i,n;e=e.prototype||e;for(n in e)i=e[n],void 0!==i&&(t[n]=i)},s=t({init:function(t){this.initOptions(t),t&&t.plugins&&this.install(t.plugins)},destroy:function(){this.uninstall(),this.off();for(var t in this)this.hasOwnProperty(t)&&delete this[t]}});return o(s.prototype,e),o(s.prototype,n),i.mixTo(s.prototype),s}),define("lofty/lang/attribute",["lofty/lang/class"],function(t){"use strict";function e(t){return"[object String]"===g.call(t)}function i(t){return null!=t&&t==t.window}function n(t){if(!t||"[object Object]"!==g.call(t)||t.nodeType||i(t))return!1;try{if(t.constructor&&!m.call(t,"constructor")&&!m.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;if(f)for(n in t)return m.call(t,n);for(n in t);return void 0===n||m.call(t,n)}function o(t){if(!t||"[object Object]"!==g.call(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function s(t,e){var i,o;for(i in e)if(e.hasOwnProperty(i)){if(o=e[i],v(o))o=o.slice();else if(n(o)){var r=t[i];n(r)||(r={}),o=s(r,o)}t[i]=o}return t}function r(t,e){for(var i=[],n=e.constructor.prototype;n;)n.hasOwnProperty("options")||(n.options={}),o(n.options)||i.unshift(n.options),n=n.constructor.superclass;for(var r=0,a=i.length;a>r;r++)s(t,c(i[r]))}function a(t,e){s(t,c(e,!0))}function l(t,e,i){var n={silent:!0};t.__initializingAttrs=!0;for(var o in i)i.hasOwnProperty(o)&&e[o].setter&&t.set(o,e[o].value,n);delete t.__initializingAttrs}function c(t,e){var i={};for(var o in t){var s=t[o];i[o]=!e&&n(s)&&u(s,b)?s:{value:s}}return i}function u(t,e){for(var i=0,n=e.length;n>i;i++)if(t.hasOwnProperty(e[i]))return!0;return!1}function d(t){return null==t||(e(t)||v(t))&&0===t.length||o(t)}function h(t,e){if(t===e)return!0;if(d(t)&&d(e))return!0;var i=g.call(t);if(i!=g.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase;case"[object Array]":var o=t.toString(),s=e.toString();return-1===o.indexOf("[object")&&-1===s.indexOf("[object")&&o===s}if("object"!=typeof t||"object"!=typeof e)return!1;if(n(t)&&n(e)){if(!h(y(t),y(e)))return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}return!1}var f,p=t({initOptions:function(t){var e=this.options={};r(e,this),t&&a(e,t),l(this,e,t)},get:function(t){var e=this.options[t]||{},i=e.value;return e.getter?e.getter.call(this,i,t):i},set:function(t,i,o){var r={};e(t)?r[t]=i:(r=t,o=i),o||(o={});var a=o.silent,l=o.override,c=this.options,u=this.__changedAttrs||(this.__changedAttrs={});for(t in r)if(r.hasOwnProperty(t)){var d=c[t]||(c[t]={});if(i=r[t],d.readOnly)throw new Error("This attribute is readOnly: "+t);d.setter&&(i=d.setter.call(this,i,t));var f=this.get(t);!l&&n(f)&&n(i)&&(i=s(s({},f),i)),c[t].value=i,this.__initializingAttrs||h(f,i)||(a?u[t]=[i,f]:this.trigger(t+"Changed",i,f,t))}return this},change:function(){var t=this.__changedAttrs;if(t){for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];this.trigger(e+"Changed",i[0],i[1],e)}delete this.__changedAttrs}return this}}),g=Object.prototype.toString,m=Object.prototype.hasOwnProperty;!function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var i in new t)e.push(i);f="x"!==e[0]}();var v=Array.isArray||function(t){return"[object Array]"===g.call(t)},y=Object.keys;y||(y=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e});var b=["value","getter","setter","readOnly"];return p}),define("lofty/lang/pluginhost",["lofty/lang/class"],function(t){"use strict";var e=t({install:function(t,e){var i,s,r;if(this._plugins||(this._plugins={}),o(t))for(i=0,s=t.length;s>i;i++)this.install(t[i]);else t&&!n(t)&&(e=t.cfg,t=t.plg),t&&t.Name&&(r=t.Name,e=e||{},e.host=this,this.hasPlugin(r)?this[r].set&&this[r].set(e):(this[r]=new t(e),this._plugins[r]=t));return this},uninstall:function(t){if(!this._plugins)return this;var e=t,i=this._plugins;if(t)n(t)&&(e=t.Name,!e||i[e]&&i[e]===t||(e=null)),e&&(this[e]&&(this[e].destroy&&this[e].destroy(),delete this[e]),i[e]&&delete i[e]);else for(e in this._plugins)this._plugins.hasOwnProperty(e)&&this.uninstall(e);return this},hasPlugin:function(t){return this._plugins?this._plugins[t]&&this[t]:!1}}),i={}.toString,n=function(t){return"[object Function]"===i.call(t)},o=Array.isArray||function(t){return"[object Array]"===i.call(t)};return e}),define("lofty/lang/class",function(){"use strict";function t(){}var e={}.toString,i=function(t){return"[object Function]"===e.call(t)},n=function(t,e){var i,n;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t},o=function(e,o){o||(o=e,e=null);var s=function(){var t=this.initialize||this.init;i(t)&&t.apply(this,arguments)},r={};return e&&(t.prototype=s.superclass=i(e)?e.prototype:e,r=new t),s.prototype=n(r,o),s.prototype.constructor=s,s};return o}),just.define("just/bom/exposure",["jquery"],function(t){"use strict";var e=t(window),i=t(document),n=t.isFunction,o=0,s=[],r=!1,a=function(e){return("string"==typeof e||1===e.nodeType)&&(e=t(e)),e},l=function(t,e,i){var o={};return t=a(t),o.$el=t.jquery&&t.length?t:[],o.spacing=i||0,n(e)&&(o.callback=e),o},c=function(t,e,i){var n={$el:t.$el.eq(e),callback:t.callback,spacing:t.spacing};i&&(n.selector=t.$el.selector),s.push(n)},u=function(t,e,i,n){var o,r,a=l(t,e,i);if(r=a.$el.length,r>1)for(o=0;r>o;o++)c(a,o,n);else s.push(a)},d=function(){var t=null,i=200;o=e.height(),e.bind("scroll.exposure",function(e){t&&clearTimeout(t),t=setTimeout(function(){h()},i)}).bind("resize.exposure",function(n){t&&clearTimeout(t),t=setTimeout(function(){o=e.height(),h()},i)}),r=!0},h=function(){s.length>0?f():v()},f=function(){p(function(t){return g(t)})},p=function(t){for(var e,i={i:0};i.i<s.length;)e=s[i.i],t(e)?(m(e,i),e.callback&&e.callback.call(null,e.$el)):i.i++;0===s.length&&v()},g=function(t){var e=!1;if(t.$el.length>0){var n=i.scrollTop(),s=o+n+t.spacing,r=t.$el.offset().top,a=r+t.$el.height()+t.spacing;s>=r&&a>=n&&t.$el.is(":visible")&&(e=!0)}return e},m=function(t,e){var i,n=t.selector;if(n)for(i=0;i<s.length;)s[i].selector===n?(s.splice(i,1),i<e.i&&e.i--):i++;else s.splice(e.i,1)},v=function(){r&&(e.unbind("resize.exposure").unbind("scroll.exposure"),r=!1)},y=function(){r||d(),f()};return{bind:function(t,e,i){u(t,e,i),y()},one:function(t,e,i){u(t,e,i,!0),y()},trigger:function(){h()},force:function(t){t=a(t),t.length>0&&p(function(e){return t.index(e.$el[0])>-1?!0:!1})}}}),!function(t){t.knight||(t.knight={version:"0.6.9"},function(e){if("function"==typeof define)define.amd||define.cmd?define(["exports","jquery"],facotry):define.fmd&&define("knight",["exports","jquery"],e);else{var i={};e(i,jQuery);for(var n in i)t.knight[n]=i[n]}}(function(e,i){"use strict";t.knight||(t.knight={});var n=t.knight.cache={},o={slice:[].slice,inArray:i.inArray,isArray:i.isArray,isFunction:i.isFunction,forEach:i.each,trim:i.trim,isString:function(t){return"string"==typeof t},hasDefined:function(t){return"undefined"!=typeof t},isDollar:function(t){return t instanceof i},each:function(t,e){for(var i,n=0;i=t[n++];)e(i)},wrapEach:function(t,e,i){o.isArray(t)?o.forEach(t,function(t,n){e.call(i,n)}):e.call(i,t)},push:function(t,e){o.inArray(e,t)<0&&t.push(e)},extend:function(t,e,i){for(var n in e)(i||!o.hasDefined(t[n]))&&(t[n]=e[n]);return t},proxy:function(t,e){return function(){return t.apply(e,arguments)}},destroy:function(t){for(var e in t)delete t[e]},inject:function(t,e,i,n){var s=e[i];return s?(t="_injected_"+t,s._injected?void s[t].push(n):(e[i]=function(){for(var t,n=o.slice.call(arguments),r=e[i],a=r._injected_before,l=r._injected_after,c=a.length,u=0,d={args:n};t=a[--c];)if(t.call(this,d)===!1)return;for(d.result=s.apply(this,d.args);t=l[u++];)t.call(this,d);return d.result},e[i]._injected_before=[],e[i]._injected_after=[],e[i]._injected=!0,void e[i][t].push(n))):void(e[i]=n)}};o.error=t.console&&console.error?function(t){console.error(t)}:function(){};var s=function(){this.guid=0,this.listeners={},this.order=[]};s.prototype.push=function(t){var e="observer_"+this.guid++;t.id=e,this.listeners[e]=t,this.order.push(e)},s.prototype.remove=function(t){var e=o.inArray(t,this.order);this.order.splice(e,1),delete this.listeners[t]},s.prototype.each=function(t,e){for(var i,n,o=this.order.slice(),s=0,r=o.length;r>s&&(i=o[s],this.listeners[i]&&(n=t.call(e,this.listeners[i])),n!==!1);s++);};var r={createAttach:function(t){return function(e,i,n){var r,a;return o.isString(e)&&o.isFunction(i)?(r=this[t]||(this[t]={}),a=r[e]||(r[e]=new s),a.push({listener:i,context:n}),this):this}},createDetach:function(t){return function(e,i,n){var s,r;return(s=this[t])?e?o.isString(e)&&(r=s[e])?(i||n?r.each(function(t){(i&&t.listener===i||n&&t.context===n)&&r.remove(t.id)}):delete s[e],this):this:(delete this[t],this):this}},createNotify:function(t,e){return function(i){var n,s,r,a;return(n=this[t])&&o.isString(i)&&(s=n[i])?(r=o.slice.call(arguments,1),s.each(function(t){return a=t.listener.apply(t.context||this,r),e?a:void 0},this),this):this}}},a="_observer_group",l={attach:r.createAttach(a),detach:r.createDetach(a),notify:r.createNotify(a,!1),invoker:"knight",_crypt:{}},c=/^(before|after) (\w+)/,u=0,d={guid:function(){return u++},keyChanged:function(t){return t+":changed"},isRoot:function(t){return"root"===t},eventName:function(t){return[t.event,t.uid].join(".")},inject:function(t,e){var i,n,s;o.forEach(e,function(e,r){i=e.match(c),i?(n=i[1],s=i[2],o.inject(n,t,s,r)):t[e]=r})},signUid:function(t){t.$root&&t.$root.attr("data-knight-uid",t.uid)},pushWare:function(t,e){t._indexing[e]=t.members.length,t.members.push(e)},connect:function(t,e,i){var n=i.startup(e,t);n&&d.pushWare(t,n.uid)},invokeCallbacks:function(t){for(var e,i=0;e=t.callbacks[i++];)e(t.ret)},attachWithWare:function(t,e,i,n){e.attachChanged(i,function(){this.notify(n,this._indexing[e.uid],e.get(i))},t)}},h=n.directives={},f={get:function(t){return h[t]},create:function(t,e){if(!h[t]){var i=h[t]=function(t,e,i,n){this.uid="directive_"+d.guid(),this.name=t.name,this.handler=t.handler,this.args=t.args,this.pipes=t.pipes,this.scope=e,this.selector=i,this.ctrl=n,this.$el=e.$(i)};i.prototype=o.extend(e,f.fn)}}};f.fn={setHandler:function(t){this.scope.set(this.handler,t,{carried:{type:"behavior",invoker:this.uid}})},_update:function(t){return o.each(this.pipes,function(e){var i=g.get(e.name);i&&(e.unshifted?e.args[0]=t:(e.args.splice(0,0,t),e.unshifted=!0),t=i.apply(null,e.args))}),t}};var p=n.pipes={},g={get:function(t){return p[t]},register:function(t,e){p[t]||(p[t]=e)}},m=function(t,e){this.observed={},this.field=t,this.responder=e};m.prototype={observe:function(t){var e=this;o.forEach(e.observed,function(i){e.respond(t,i),t.attachChanged(i,function(){e.respond(t,i)},e)})},respond:function(t,e){this.observed[e]=t.get(e),this.result=this.responder.call(this.observed),o.hasDefined(this.result)&&t.set(this.field,this.result)}};var v=/\bthis\.[\w\d]+/g,y={resolve:function(t){var e=t.responder.toString(),i=e.match(v);i&&o.each(i,function(e){t.observed[e.substring(5)]=void 0})},observe:function(t,e){o.forEach(e,function(i,n){if(o.isFunction(n)){var s=new m(i,n);y.resolve(s),s.observe(t),e[i]=s}else t.set(i,n)})}},b={parsePipe:function(t){var e=t.split(" "),i=e[0],n=[],o=e.length;if(o>1)for(var s=1;o>s;s++)!e[s]&&n.push(e[s]);return{name:i,args:n}},parse:function(t){var e=[],i=t.split(",");return o.forEach(i,function(t,i){for(var n,s=i.split(":"),r=s[1].split("|"),a=o.trim(r.shift()).split(" "),l=a.shift(),c=[];n=r.shift();)c.push(b.parsePipe(o.trim(n)));e.push({name:o.trim(s[0]),handler:l,args:a,pipes:c})}),e}},w={compile:function(t,e){t.init&&t.init(),t.changed&&(e.attachChanged(t.handler,function(t){t&&t.invoker===this.uid||this.changed(this._update(e.get(this.handler)))},t),o.hasDefined(e.get(t.handler))&&t.changed(t._update(e.get(t.handler)))),t.bind&&(d.isRoot(t.selector)?e.$root.on(d.eventName(t),function(e){return t.bind(e)}):e.$root.on(d.eventName(t),t.selector,function(e){return t.bind(e)})),t.finish&&t.finish()},apply:function(t,e,i,n,s){var r=b.parse(n),a=s[i]=[];o.each(r,function(n){var o=f.get(n.name),s=new o(n,t,i,e);a.push(s),w.compile(s,t)})},applyView:function(t,e,i,n){var o;for(o in e)w.apply(t,i,o,e[o],n)}},_=n.parts={},C={get:function(t){return _[t]},register:function(t,e){return e||(e=t,t="part_"+d.guid()),o.isFunction(e)?(_[t]?o.error("The part: "+t+" already exist!"):_[t]=e,t):void 0},install:function(t,e){var i=C.get(t);if(o.isFunction(i)){var n={model:{},view:{},viewResolved:{},ctrl:{}};try{i(e,n),y.observe(e,n.model),e.$root&&w.applyView(e,n.view,n.ctrl,n.viewResolved),n.ctrl.init&&n.ctrl.init(),e._parts[t]=n,e.notify("PART_INSTALLED",t)}catch(s){o.error("The part: "+t+" install failed!"),o.error(s.stack),l.notify("PART_INSTALL_FAILED",t,s)}}},inject:function(t,e){return function(i,n){t(i,n),n.proxyCtrl=n.ctrl,n.ctrl={},e(i,n),d.inject(n.proxyCtrl,n.ctrl),n.ctrl=n.proxyCtrl,delete n.proxyCtrl}},decorate:function(t,e,i){if(i||(i=e,e=t,t=e+"_decorate_"+d.guid()),o.isFunction(i)){var n=C.get(e);if(n)return C.register(t,C.inject(n,i))}},rewrite:function(t,e){if(o.isFunction(e)){var i=C.get(t);if(i)return _[t]=C.inject(i,e),t}}},k=n.knights={},S={get:function(t){return k[t]},add:function(t){k[t.uid]=t},destroy:function(t){o.destroy(k[t]),delete k[t]}},x="_computed",D=function(t,e,i,n){t.attach(i,function(t,e){n.ret[t]=e,d.invokeCallbacks(n)}),o.each(t.members,function(o){var s=S.get(o);n.ret[t._indexing[o]]=s.get(e),d.attachWithWare(t,s,e,i)}),n.attached=!0},T={_setup:function(t){this.uid="middleware_"+d.guid(),this._scope=t,this.members=[],this._indexing={},this._keys={}},notify:function(){return this._scope.notify.apply(this._scope,arguments)},attach:function(){return this._scope.attach.apply(this._scope,arguments)},detach:function(){return this._scope.detach.apply(this._scope,arguments)},size:function(){return this.members.length},computed:function(t,e){var i=[x,this.uid,t].join("_"),n=this._keys[i]||(this._keys[i]={key:t,ret:[],callbacks:[]});return n.callbacks.push(e),!n.attached&&D(this,t,i,n),e(n.ret),this},disconnect:function(t){var e=this,i=o.inArray(t.uid,e.members);e.members.splice(i,1),delete e._indexing[t.uid],o.forEach(e.members,function(t,i){
e._indexing[i]=t}),o.forEach(e._keys,function(n,o){t.detach(d.keyChanged(o.key),null,e),o.ret.splice(i,1),d.invokeCallbacks(o)})},destroy:function(){var t,e=this,i=[];o.forEach(e._keys,function(t,n){i.push(n.key),e._scope.detach(t)}),o.each(e.members,function(n){t=S.get(n),t&&o.each(i,function(i){t.detach(d.keyChanged(i),null,e)})}),o.destroy(e)}},O=function(t,e,i){this.invoker=t.uid,this._setup(t),this._init(e,i)};o.each(["_setup","notify","attach","detach","size","computed","disconnect","destroy"],function(t){O.prototype[t]=T[t]}),O.prototype._init=function(t,e){var i=this;o.forEach(t,o.isDollar(t)?function(n,o){d.connect(i,t.eq(n),e)}:function(t,n){d.connect(i,n,e)})},O.prototype.append=function(t,e){var i=this,n=i.members.length;i._init(t,e);var s=i.members.length;o.forEach(i._keys,function(t,e){for(var o,r=n;s>r;r++)o=S.get(i.members[r]),e.ret[r]=o.get(e.key),d.attachWithWare(i,o,e.key,t);d.invokeCallbacks(e)}),o.forEach(i._scope._grouped,function(t,e){for(var r,a,l,c=n;s>c;c++)r=i.members[c],a=S.get(r),l=M.append(i._scope,e,a,r),o.forEach(l._keys,function(t,e){e.ret[l._indexing[a.uid]]=a.get(e.key),d.attachWithWare(l,a,e.key,t),d.invokeCallbacks(e)})})};var E=function(t,e){this.factor=e,this._setup(t)};o.each(["_setup","notify","attach","size","destroy"],function(t){E.prototype[t]=T[t]}),E.prototype.ungroup=T.disconnect,E.prototype.computed=function(t,e){var i=this;T.computed.call(i,t,function(t){e(t,i.factor)})};var A=function(t){this.condition=t||function(){},this.list={}};A.prototype={computed:function(t,e){return o.forEach(this.list,function(i,n){n.computed(t,e)}),this},destroy:function(){o.forEach(this.list,function(t,e){e.destroy()})}};var M={append:function(t,e,i,n){var o,s=e.condition(i)+"";return(o=e.list[s])?d.pushWare(o,n):(o=e.list[s]=new E(t,s),d.pushWare(o,n)),i._belong.push(o),o},group:function(t,e,i){var n=t._grouped[e]||(t._grouped[e]=new A(i));o.forEach(t._connected,function(e,i){o.each(i.members,function(e){M.append(t,n,S.get(e),e)})})}},I={_init:function(t,e,i,n){this._default_parts=i,this._parts={},this._$elements={},this._connected={},this._grouped={},this._belong=[],this._reply_group=[],this.uid="knight_"+d.guid(),this._dataCache=t||{},e&&(this.$root=e.length>1?e.eq(0):e),this.connector=n},install:function(t){o.wrapEach(t,function(t){C.install(t,this)},this)},uninstall:function(){},get:function(t){return t?this._dataCache[t]:this._dataCache},set:function(t,e,i){var n;arguments.length>1?(i||(i={}),n=this._dataCache[t],n!==e&&(this._dataCache[t]=e,!i.silent&&this.notify(d.keyChanged(t),i.carried?i.carried:{type:"set",invoker:this.uid})),!i.silent&&this.notify(t)):this._dataCache=t},reset:function(t,e){this.set(t,e,{carried:{type:"reset",invoker:this.uid}})},mount:function(t){var e=this;e.$root=t,d.signUid(e),o.forEach(e._parts,function(t,i){w.applyView(e,i.view,i.ctrl,i.viewResolved)}),this.notify("MOUNTED")},umount:function(){}},P="_kdom_event_group",R=function(){this.defaultPrevented=!1};R.prototype.preventDefault=function(){this.defaultPrevented=!0},o.extend(I,{notify:l.notify,attach:l.attach,detach:l.detach,on:r.createAttach(P),off:r.createDetach(P),_emit:r.createNotify(P,!0),emit:function(){var t=o.slice.call(arguments),e=new R;return t.splice(1,0,e),this._emit.apply(this,t),e},attachChanged:function(t,e,i){return this.attach(d.keyChanged(t),e,i)},ask:function(){return this.connector.notify.apply(this.connector,arguments),this},reply:function(t,e,i){return this._reply_group.push([t,e,i]),this.connector.attach(t,e,i),this},replyChanged:function(t,e,i){return this.reply(d.keyChanged(t),e,i)}}),o.extend(I,{_start:function(){var t=this;d.signUid(t),o.each(t._default_parts,function(e){C.install(e,t)}),this.notify("STARTED")},destroy:function(t){this.notify("DESTROY");var e=this;o.forEach(e._grouped,function(t,e){e.destroy()}),o.forEach(e._connected,function(t,e){e.destroy()}),o.each(e._belong,function(t){t.ungroup(e)}),o.each(e._reply_group,function(t){e.connector.detach.apply(e.connector,t)}),e.connector.disconnect&&e.connector.disconnect(e),t||o.forEach(e._parts,function(t,e){o.forEach(e.viewResolved,function(t,e){o.each(e,function(t){t.bind&&t.scope.$root.off("."+t.uid)})})}),o.destroy(e._dataCache),o.destroy(e._reply_group),o.destroy(e._$elements),e.detach(),t&&this.$root.remove(),S.destroy(e.uid)}}),o.extend(I,{connect:function(t,e,i){return e?this._connected[t]?this._connected[t].append(e,i):this._connected[t]=new O(this,e,i):this._connected[t]},group:function(t,e){M.group(this,t,e)},computed:function(t,e,i){return this._connected[t]?this._connected[t].computed(e,i):this._grouped[t]?this._grouped[t].computed(e,i):void 0}});var j="_pass_provide_",Y="_pass_give_";o.extend(I,{bring:function(t,e){var i={};return this.ask(j+t,i,e),i[t]},provide:function(t,e,i){return this.attach(j+t,function(i,n){i[t]=e.call(this,n)},i),this},take:function(t,e){var i=[];return this.notify(Y+t,i,e),i},fetch:function(t,e){var i=[];return this.ask(Y+t,i,e),i},give:function(t,e,i){return this.reply(Y+t,function(t,i){var n=e.call(this,i);o.hasDefined(n)&&t.push(n)},i),this}}),o.extend(I,{encrypt:function(t){var e=o.slice.call(arguments);t=e[0]=this.uid+"_crypt_"+t,l.notify.apply(l,e);var i,n=l._crypt[t];if(n)for(var s=0;s<n.length;)i=n[s],i.ret===!0?(l.detach(t,i.listener),n.splice(s,1)):s++;return this},decrypt:function(t,e,i){t=this.connector.invoker+"_crypt_"+t;var n=l._crypt[t]||(l._crypt[t]=[]),o={ret:null,listener:function(){e&&(o.ret=e.apply(this,arguments))}};return n.push(o),l.attach(t,o.listener,i),this}});var F="_pass_invoke_";o.extend(I,{$:function(t,e){if(d.isRoot(t))return this.$root;var i=this._$elements[t];if(!i||e===!0){var n=this.$root.find(t),o=n.data("knightUid");i=this._$elements[t]=o?S.get(o):n}return i},invoke:function(t){var e={},i=o.slice.call(arguments,1);return this.notify(F+t,e,i),e[t]},execute:function(t,e,i){return this.attach(F+t,function(i,n){i[t]=e.apply(this,n)},i),this}});var L=function(t){this._default_parts=[],this._connector=t,this._started=[]};L.prototype={startup:function(t,e,i){var n=arguments.length,s=this;1===n?o.isDollar(t)&&(e=t,t=null):2===n&&(o.isDollar(t)?(i=e,e=t,t=null):o.isDollar(e)||(i=e,e=null)),this.Knight||(this.Knight=function(t,e,i){this._init(t,e,s._default_parts,i||s._connector),this._start()},this.Knight.prototype=I);var r=new this.Knight(t,e,i);return s._started.push(r.uid),S.add(r),r},include:function(t){return o.wrapEach(t,function(t){o.push(this._default_parts,t)},this),this}};var N={create:function(t,e){var i=new L(l),n=C.register(t,e);return n&&i.include(n),i}},H=n.components={},B={create:function(t,e){if(H[t])return void o.error("The component: "+t+" is already exist!");var i=H[t]=N.create(t,e);return i},scan:function(t){var e=i("[data-knight-component]"),n=[],s=[];o.forEach(e,function(t){var i=e.eq(t),o=i.data("knightComponent"),r=H[o];r?r.startup(i):(n.push(o),s.push(i))}),n.length?t?t(n,function(){o.forEach(n,function(t,e){var i=H[e];i&&i.startup(s[t])}),B.scanComplete()}):(o.error("There are undefined components, please provide the `whenAsync` function!"),B.scanComplete()):B.scanComplete()},scanComplete:function(){l.notify("COMPONENTS_SCAN_COMPLETED"),this.scanCompleted=!0},ready:function(t){B.scanCompleted?t():l.attach("COMPONENTS_SCAN_COMPLETED",t)}};e.part=C.register,e.decorate=C.decorate,e.inject=C.rewrite,e.pack=N.create,e.component=B.create,e.directive=f.create,e.pipe=g.register,e.notify=o.proxy(l.notify,l),e.attach=o.proxy(l.attach,l),e.detach=o.proxy(l.detach,l),e.scanComponents=B.scan,e.ready=B.ready,e.$=function(t){var e=i(t).data("knightUid");return S.get(e)},e.connect=function(t,e){return new O(this,t,e)},o.each(["click","input","focus","blur","change","keydown","keyup","mousedown","mouseenter","mouseup","mouseleave","touchstart","touchenter","touchend","touchleave","tap","singleTap","doubleTap","longTap","swip","swipUp","swipRight","swipDown","swipeLeft"],function(t){f.create(t,{init:function(){this.event=t},bind:function(t){return this.ctrl[this.handler]&&this.ctrl[this.handler](t,this.$el)}})}),f.create("attr",{init:function(){this.attrName=this.args[0],this.scope.set(this.handler,this.$el.attr(this.attrName))},changed:function(t){this.$el.attr(this.attrName,t)}}),f.create("html",{changed:function(t){this.$el.html(t)}}),f.create("text",{changed:function(t){this.$el.text(t)}}),f.create("value",{init:function(){this.scope.set(this.handler,this.$el.val())},changed:function(t){this.$el.val(t)}}),f.create("visible",{changed:function(t){this.$el[t===!0?"show":"hide"]()}}),f.create("checked",{init:function(){this.event="change",this.scope.set(this.handler,this.$el.prop("checked"))},changed:function(t){this.$el.prop("checked",t)},bind:function(){this.setHandler(this.$el.prop("checked"))}}),f.create("disabled",{init:function(){this.scope.set(this.handler,this.$el.prop("disabled"))},changed:function(t){this.$el.prop("disabled",t)}}),f.create("toggleClass",{init:function(){this.toggleClass=this.args[0]},changed:function(t){this.$el[t===!0?"addClass":"removeClass"](this.toggleClass)}}),g.register("boolean",function(t){return!!t}),g.register("not",function(t){return!t})}))}(this),define(["knight","jquery"],function(t,e){e(document).on("mousedown.knight-skill",function(i){t.notify("globalMouseDown",e(i.target))}),t.directive("dataSource",{init:function(){var t=this.args[0]||"source";this.scope.set(this.handler,this.$el.data(t))}});var i=8===document.documentMode;t.directive("dataProp",{init:function(){this.propName="data-"+(this.args[0]||this.handler),this.scope.set(this.handler,void 0!==this.$el.attr(this.propName))},changed:function(t){t===!0?this.$el.attr(this.propName,this.propName):this.$el.removeAttr(this.propName),i&&this.$el[t===!0?"addClass":"removeClass"]("ty-repaint")}}),t.directive("oneWayProp",{init:function(){var t=this.args[0];"set"!==this.args[1]?this.scope.set(this.handler,this.$el.prop(t)):this.changed=function(e){this.$el.prop(t,e)}}}),t.directive("clickTarget",{init:function(){this.event="click"},bind:function(t){return this.ctrl[this.handler]&&this.ctrl[this.handler](t,this.$el,e(t.target),this.args[0])}})}),define("pitaya/lang/checkbox",["knight"],function(t){return t.component("pitaya/lang/checkbox",function(t,e){e.model={_signMid:function(){return this.midchecked===!0?!0:void 0},_checked:function(){return this.midchecked===!0?!0:this.midchecked===!1&&t.get("_signMid")?!1:void 0},midchecked:function(){return this._checked===!1&&t.get("_signMid")?!1:void 0}},e.view={input:"checked: _checked, disabled: disabled, attr: name name, value: value, oneWayProp: _checkedReadOnly checked, oneWayProp: _disabledReadOnly disabled",root:"dataProp: _checked checked, dataProp: midchecked, dataProp: disabled"},e.ctrl={init:function(){this.arbitrate(),this.waitCheck(),this.waitExecute()},arbitrate:function(){t.get("_checkedReadOnly")&&!t.get("midchecked")&&t.set("checked",!0),t.get("_disabledReadOnly")&&t.set("disabled",!0)},waitCheck:function(){t.attachChanged("_checked",function(t){t&&this.onChanged(t)},this),t.attach("checked",this.onChecked)},waitExecute:function(){t.execute("click",function(){t.set("_checked",!t.get("_checked"),{carried:{type:"behavior",invoker:t.uid}})},this)},onChecked:function(){var e=t.get("checked");t.get("_signMid")&&e&&t.get("_checked")&&(t.set("_signMid",!1),t.set("midchecked",!1)),e!==t.get("_checked")&&t.set("_checked",e)},onChanged:function(e){if(this.syncChecked(),"behavior"===e.type){var i=t.emit("click");i.defaultPrevented?this.reset():(this.syncSign(),t.emit("change"))}else"set"===e.type&&this.syncSign()},syncChecked:function(){t.get("checked")!==t.get("_checked")&&t.set("checked",t.get("_checked"),{silent:!0})},reset:function(){t.reset("_checked",!t.get("_checked")),t.get("_signMid")&&t.reset("midchecked",!t.get("midchecked"))},syncSign:function(){t.get("_signMid")!==t.get("midchecked")&&t.set("_signMid",t.get("midchecked"))}}})}),define("pitaya/lang/radio",["knight"],function(t){var e="__pitaya/lang/radio_change_sync_";return t.component("pitaya/lang/radio",function(i,n){n.view={input:"checked: checked, disabled: disabled, attr: name name, value: value, oneWayProp: _checkedReadOnly checked, oneWayProp: _disabledReadOnly disabled",root:"dataProp: checked, dataProp: disabled"},n.ctrl={init:function(){this.arbitrate(),this.setSyncMessage(),this.waitSync(),this.waitCheck(),this.waitExecute(),this.waitDestroy()},arbitrate:function(){i.get("_checkedReadOnly")&&i.set("checked",!0),i.get("_disabledReadOnly")&&i.set("disabled",!0)},setSyncMessage:function(){this.syncMessage=e+i.get("name")},waitCheck:function(){i.attachChanged("checked",function(e){e&&e.type&&"reset"!==e.type&&(this.onChanged(e),i.get("checked")&&t.notify(this.syncMessage,i.uid))},this)},onChanged:function(t){if("behavior"===t.type){var e=i.emit("click");e.defaultPrevented?i.reset("checked",!i.get("checked")):i.emit("change")}},waitExecute:function(){i.execute("click",function(){i.set("checked",!i.get("checked"),{carried:{type:"behavior",invoker:i.uid}})},this)},waitSync:function(){this.syncChanged(),i.attachChanged("name",function(){t.detach(this.syncMessage,this.onSyncChanged),this.setSyncMessage(),this.syncChanged()},this)},waitDestroy:function(){i.attach("DESTROY",function(){t.detach(this.syncMessage,this.onSyncChanged)},this)},syncChanged:function(){t.attach(this.syncMessage,this.onSyncChanged)},onSyncChanged:function(t){t!==i.uid&&i.get("checked")&&i.set("checked",!1)}}})}),define("pitaya/unit/select",["knight","jquery","just/lang/json"],function(t,e,i){var n=t.part(function(n,o){o.model={_dropdown:function(){return this.disabled?!1:void 0},nonOptions:function(){return!(this.optionsList&&this.optionsList.length)},nonSelected:function(){return-1===this.index&&"nonselect"===this.selectType}},o.view={root:"dataProp: nonSelected noselected, dataProp: _dropdown dropdown, dataProp: disabled, dataSource: type type, dataSource: placeholder placeholder","div.main":"click: startPick",li:"click: pickup","div.main .selected":"text: text","div.main input":"value: text,keyup: onInput,input: onInput","ul.options":"html: options",".selection .empty":"visible : nonOptions"},o.ctrl={init:function(){this.uiInit(),this.wait()},uiInit:function(){-1===n.get("index")&&"nonselect"===n.get("selectType")&&n.set("nonSelected",!0)},wait:function(){n.attachChanged("value",this.onValueChanged,this),n.attach("index",this.onIndexChanged,this),n.execute("update",this.onUpdateOptions,this),t.attach("globalMouseDown",this.onGlobalMouseDown,this),n.attach("DESTROY",this.onDestroy,this)},startPick:function(){n.get("disabled")||n.set("_dropdown",!n.get("_dropdown"))},pickup:function(t){var i=e(t.target),o=this.getOption(i.index());this.set("value",o.value),this.set("text",o.text),this.set("index",o.index),n.set("_dropdown",!1),n.emit("change")},onInput:function(t,e){n.notify("input",t,e)},onValueChanged:function(t){if("set"===t.type){var e=n.get("value"),i=n.get("optionsMap"),o=i[e].text,s=i[e].index;void 0!==o?(this.set("text",o),this.set("index",s)):n.set("index",0)}},onIndexChanged:function(t){var e=n.get("optionsList"),i=n.get("index"),o=i>=0?e[i]:null;o?(this.set("value",o.value),this.set("text",o.text)):(this.set("value",null),this.set("text",""))},onUpdateOptions:function(t){for(var o,s=[],r=0,a=[],l={},c=0,u=t.length;u>c;c++)o=t[c],o.selected&&(r=c),s.push('<li class="option" data-value='+i.stringify(o.value)+">"+o.text+"</li>"),a.push(e.extend(o,{index:c})),l[o.value]={text:o.text,index:c};n.set("options",s.join("")),n.set("optionsList",a),n.set("optionsMap",l),n.set("index",t.length?r:-1)},onGlobalMouseDown:function(t){t.closest(".unit-select")[0]!==n.$root[0]&&n.set("_dropdown",!1)},onDestroy:function(){t.detach("globalMouseDown",this.onGlobalMouseDown,this)},set:function(t,e){n.set(t,e,{carrying:!0,carried:{type:"logic",invoker:n.uid}})},getOption:function(t){var e=n.get("optionsList");return e[t]||{}}}});return t.component("pitaya/unit/select",function(t,i){i.ctrl={init:function(){this.collect(),this.build(),this.install()},collect:function(){var i=t.$("option"),n=[],o={};i.each(function(i){var s=e(this),r={text:s.text(),value:s.val(),index:i};s.prop("selected")&&"nonselect"!==t.get("selectType")?(t.set("value",r.value),t.set("text",r.text),t.set("index",r.index)):"nonselect"===t.get("selectType")&&(t.set("value",""),t.set("text","\u8bf7\u9009\u62e9"),t.set("index",-1)),n.push(r),o[r.value]={text:r.text,index:i}}),t.set("optionsList",n),t.set("optionsMap",o),t.set("name",t.$root.attr("name"))},build:function(){var i,n=[],o=t.get("optionsList");n.push('<div class="unit-select">'),n.push("suggestion"===t.get("type")?'<div class="main"><input class="input keywords" type="text" placeholder="'+t.get("placeholder")+'"/></div>':'<div class="main"><span class="selected">'+t.get("text")+"</span></div>"),n.push('<div class="selection">'),n.push('<ul class="options">');for(var s=0,r=o.length;r>s;s++)i=o[s],n.push('<li class="option" data-value="'+i.value+'">'+i.text+"</li>");n.push("</ul>"),"suggestion"===t.get("type")&&n.push('<div class="empty fd-hide">\u6682\u65e0\u7ed3\u679c</div>'),n.push("</div>"),n.push("</div>");var a=e(n.join(""));a.insertBefore(t.$root),t.$root.hide(),t.$root=a},install:function(){t.install(n)}}})}),define("pitaya/unit/dropdown",["knight","jquery"],function(t,e){return t.component("pitaya/unit/dropdown",function(i,n){n.view={root:"dataProp: _dropdown dropdown","div.main":"click: startPick",li:"click: pickup"},n.ctrl={init:function(){this.wait()},wait:function(){t.attach("globalMouseDown",this.onGlobalMouseDown,this),i.attach("DESTROY",this.onDestroy,this)},startPick:function(){i.set("_dropdown",!i.get("_dropdown"))},pickup:function(t){var n=e(t.target),o=n.data("value"),s=n.index();i.set("_dropdown",!1),i.emit("pickup",o,s)},onGlobalMouseDown:function(t){t.closest(".unit-dropdown")[0]!==i.$root[0]&&i.set("_dropdown",!1)},onDestroy:function(){t.detach("globalMouseDown",this.onGlobalMouseDown,this)}}})}),define("pitaya/unit/time-picker",["knight","jquery"],function(t,e){var i="disabled",n=function(t){return(10>t?"0":"")+t},o=function(t){var o=[],s="";o.push('<div class="hour"><ol>');for(var r=0;24>r;r++)t&&e.inArray(r,t)>=0&&(s=i),o.push('<li class="'+s+'">'+n(r)+"</li>");return o.push("</ol></div>"),o.join("")},s=function(t){var o=[],s="";o.push('<div class="minute"><ol>');for(var r=0;60>r;r++)t&&e.inArray(r,t)>=0&&(s=i),o.push('<li class="'+s+'">'+n(r)+"</li>");return o.push("</ol></div>"),o.join("")},r=function(t){var o=[],s="";o.push('<div class="second"><ol>');for(var r=0;60>r;r++)t&&e.inArray(r,t)>=0&&(s=i),o.push('<li class="'+s+'">'+n(r)+"</li>");return o.push("</ol></div>"),o.join("")};t.directive("_forceToggleClass",{init:function(){this.toggleClass=this.args[0],this.scope.attach(this.handler,this.forceChange,this)},forceChange:function(){var t,i;this.scope.get(this.handler)&&e.isNumeric(this.scope.get(this.handler))?(t=this.$el.eq(parseInt(this.scope.get(this.handler),10)),i=!0):(t=this.$el,i=!1),t[i?"addClass":"removeClass"](this.toggleClass)}}),t.pipe("_format",function(t){var e,i="";if(t){e=t.split(":");for(var n=0;n<e.length;n++)n>0?i+=":":"",i+=(parseInt(e[n],10)<10?"0":"")+parseInt(e[n],10)}return i}),t.directive("attrExtended",{init:function(){this.attrName=this.args[0],this.callback=this.args[1];var t=this.$el.attr(this.attrName);this.scope.set(this.handler,t),this.ctrl[this.callback](t)},changed:function(t){this.$el.attr(this.attrName,t),this.ctrl[this.callback](t)}}),t.directive("_value",{init:function(){this.scope.set(this.handler,this.$el.val())},changed:function(t){this.$el.val(t),this.$el.change()}}),t.directive("multiClass",{init:function(){this.className=this.args[0],this.selector=this.args[1]},changed:function(t){var e=this.scope.get(this.handler),i=this.$el;this.selector&&(i=i.find(this.selector)),i.removeClass(this.className);for(var n=0;n<e.length;n++){var o=e[n];i.eq(o).addClass(this.className)}}});var a=t.part(function(t,e){e.model={isClear:function(){return this.time&&!this._dropdown?!0:!1},hourForceRemoveClass:function(){return null===this.hour?!1:this.hour},minuteForceRemoveClass:function(){return null===this.minute?!1:this.minute},secondForceRemoveClass:function(){return null===this.second?!1:this.second}},e.view={"span.icon":"click: onClick, toggleClass: isClear icon-clear","div.hour":"visible: isShowHour","div.minute":"visible: isShowMinute","div.second":"visible: isShowSecond","div.hour li":"clickTarget: pickup hour, _forceToggleClass: hourForceRemoveClass selected, multiClass: disabledHourList disabled","div.minute li":"clickTarget: pickup minute, _forceToggleClass: minuteForceRemoveClass selected, multiClass: disabledMinuteList disabled","div.second li":"clickTarget: pickup second, _forceToggleClass: secondForceRemoveClass selected, multiClass: disabledSecondList disabled"},e.ctrl={onClick:function(){t.get("isClear")&&(t.set("time",null),t.set("hour",null),t.set("minute",null),t.set("second",null)),t.notify("cleared")},pickup:function(e,n,o,s){o.hasClass(i)||(t.set(s,o.text()),n.removeClass("selected"),o.addClass("selected"))}}});return t.component("pitaya/unit/time-picker",function(i,n){n.model={time:function(){try{switch(this.format){case"HH:mm":if(parseInt(this.hour,10)>=0&&parseInt(this.minute,10)>=0)return[this.hour,this.minute].join(":");case"HH:mm:ss":default:if(parseInt(this.hour,10)>=0&&parseInt(this.minute,10)>=0&&parseInt(this.second,10)>=0)return[this.hour,this.minute,this.second].join(":")}}catch(t){throw t}}},n.view={root:"dataProp: _dropdown dropdown, dataSource: disabledHourList disabled-hour-list, dataSource: disabledMinuteList disabled-minute-list, dataSource: disabledSecondList disabled-second-list, attrExtended: format data-format onFormatChange",".monitor":"click: startPick, _value: time | _format"},n.ctrl={timeTypes:["hour","minute","second"],init:function(){this.buildIcon(),this.build(),this.wait(),i.install(a)},wait:function(){t.attach("globalMouseDown",this.onGlobalMouseDown,this),i.attach("DESTROY",this.onDestroy,this)},startPick:function(){i.set("_dropdown",!i.get("_dropdown"))},onGlobalMouseDown:function(t){t.closest(".unit-time-picker")[0]!==i.$root[0]&&i.set("_dropdown",!1)},onDestroy:function(){t.detach("globalMouseDown",this.onGlobalMouseDown,this)},buildIcon:function(){i.$("div.main").append('<span class="icon"></span>')},build:function(){var t=[],e=i.get("disabledHourList"),n=i.get("disabledMinuteList"),a=i.get("disabledSecondList");t.push('<div class="selection">'),t.push(o(e)),t.push(s(n)),t.push(r(a)),t.push("</div>"),i.$root.append(t.join(""))},onFormatChange:function(){var t=this;e.each(this.timeTypes,function(e,n){i.set("isShow"+n.charAt(0).toUpperCase()+n.slice(1),t.isShowList(n))})},isShowList:function(t){var i=this.getShowList();return e.inArray(t,i)>=0},getShowList:function(){switch(i.get("format")){case"HH:mm":return["hour","minute"];case"HH:mm:ss":default:return["hour","minute","second"]}}}})}),define("pitaya/unit/date-time-picker",["knight","doit/widget/util/date-util","jquery","pitaya/unit/time-picker"],function(t,e,n,o){var s=t.part("dateTimePickerBuild",function(t,e){e.view={root:"html: containerTemplate"},e.ctrl={containerTemplate:['<div class="unit-date-time-picker">','<input class="date-time input lang-input" type="text" readonly placeholder="\u8bf7\u9009\u62e9\u65e5\u671f">','<span class="action-clear"></span>','<div class="calendar">','<div class="calendar-table">','<div class="select-year-panel select-panel"></div>','<div class="select-month-panel select-panel"></div>','<table class="table-condensed"></table>',"</div>",'<div class="calendar-time">','<div class="unit-time-picker">','<div class="main">','<input type="text" class="lang-input input monitor" readonly placeholder="\u8bf7\u9009\u62e9\u65f6\u95f4"/>',"</div>","</div>","<div>","</div>","</div>"].join(""),init:function(){t.set("containerTemplate",this.containerTemplate)}}}),r=t.part("mainPart",function(s,r){r.model={isShowPopup:!1,inputValue:function(){return this.dateTime&&this.options&&this.options.locale&&this.options.locale.format?this.dateTime.format(this.options.locale.format):""},isActionClearVisible:function(){return this.options&&!this.options.hasInput?!1:!!this.dateTime},isShowCalendarTime:function(){return!this.isShowSelectYearPanel&&!this.isShowSelectMonthPanel&&this.options&&this.options.hasTime},isShowDateTime:function(){return!!this.options&&!!this.options.hasInput},hasNotInput:function(){return this.options?!this.options.hasInput:!1},placeholder:function(){return this.options?this.options.placeholder:""}},r.view={root:"dataSource: userOptions options",".unit-date-time-picker":"toggleClass: isShowPopup show-calendar, toggleClass: hasNotInput has-not-input",".action-clear":"click: clear, visible: isActionClearVisible","input.date-time":"value: inputValue, blur: inputDateTimeBlur, click: toggleShowPopup, visible: isShowDateTime, attr: placeholder placeholder",".prev-month":"click: clickPrevMonth",".next-month":"click: clickNextMonth",".prev-year":"click: clickPrevYear",".next-year":"click: clickNextYear","td.available":"click: clickDate",".set-today":"click: clickSetToday",".selected-year":"click: toggleShowSelectYearPanel",".selected-month":"click: toggleShowSelectMonthPanel",".select-year-panel":"visible: isShowSelectYearPanel",".select-month-panel":"visible: isShowSelectMonthPanel",".select-month-panel td:not([data-disabled])":"click: monthChanged",".select-year-panel td:not([data-disabled]):not([data-operation])":"click: yearChanged",'.select-year-panel td[data-operation="pre-page"]':"click: selectYearPanelPrePage",'.select-year-panel td[data-operation="next-page"]':"click: selectYearPanelNextPage",".calendar-time":"visible: isShowCalendarTime",".calendar":"attr: align data-align"},r.ctrl={defaultOptions:{dateTime:null,maxDate:null,minDate:null,hasTime:!1,timeFormat:"HH:mm:ss",dateChangeHidePopup:!0,hasInput:!0,placeholder:"\u8bf7\u8f93\u5165\u65e5\u671f",align:"bl",defaultHour:"00",defaultMinute:"00",defaultSecond:"00",timePickerSeconds:!0,showISOWeekNumbers:!1,showWeekNumbers:!1,isCustomDate:n.noop,rowCount:6,locale:{format:"YYYY-MM-DD",firstDay:1,yearLabel:"",daysOfWeek:["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u65e5"],monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],todayLabel:"\u4eca\u5929",currentMomentLabel:"\u6b64\u523b"}},init:function(){this._init(),this.wait()},_init:function(){var t=this.parseOptions(),e=this.parseDateTime(t.dateTime,"dateTime"),i=t.align;this.setOptions(t),this.setDateTime(e),this.setAlign(i),this.initTimePicker(t.hasTime,t.timeFormat,e,t.defaultHour,t.defaultMinute,t.defaultSecond),this.initCalendar(e,t.maxDate,t.minDate,t.locale)},setAlign:function(t){s.set("align",t)},initTimePicker:function(t,e,i,r,a,l){t?(this.timePicker&&this.timePicker.destroy(),this.timePicker=o.startup(s.$root.find(".unit-time-picker")),this.timePicker.set("format",e),(r||a||l)&&(this.timePicker.attach("cleared",function(){setTimeout(n.proxy(function(){r&&this.timePicker.set("hour",r),a&&this.timePicker.set("minute",a),l&&this.timePicker.set("second",l)},this),200)},this),this.timePicker.attach("time",function(){if(t&&this.timePicker){var e=s.get("dateTime");if(!e)return!1;this.setTimeFromTimePicker(e),s.set("dateTime",e.clone())}},this)),i?(this.timePicker.set("hour",i.hour()),this.timePicker.set("minute",i.minute()),this.timePicker.set("second",i.second())):(r&&this.timePicker.set("hour",r),a&&this.timePicker.set("minute",a),l&&this.timePicker.set("second",l))):this.timePicker=null},initCalendar:function(t,i,n,o){var s;this.calendar={month:t?t.clone().date(2):e(new Date).date(2)},s=this._renderCalendar(),this.generatorSelectPanel(s.viewDays,i,n,o)},setOptions:function(t){s.set("options",t)},parseOptions:function(){var t=s.get("userOptions")||{},e=n.extend(!0,{},this.defaultOptions,t);return e.maxDate=this.parseDateTime(e.maxDate,"maxDate"),e.minDate=this.parseDateTime(e.minDate,"minDate"),e},setDateTime:function(t){s.set("dateTime",t)},parseDateTime:function(t,i){if(t){if(!e(t).isValid())throw"\u8bf7\u4f20\u5165\u5408\u6cd5\u7684"+i+", \u6bd4\u59822011-01-12 12:00:00";t=e(t)}return t},_renderCalendar:function(){return this.renderCalendar(s.$root,s.get("dateTime"),s.get("options"))},clear:function(){s.set("dateTime",null)},toggleShowPopup:function(){s.set("isShowPopup",!s.get("isShowPopup"))},inputDateTimeBlur:function(t){s.set("inputValue",t.target.value)},wait:function(){t.attach("globalMouseDown",function(t){t.is(s.$root)||0!==s.$root.has(t).length||(this.hideSelectYearPanel(),this.hideSelectMonthPanel(),this.setIsShowPopup(!1))},this),s.attach("updateOptions",function(t){s.set("userOptions",n.extend(!0,s.get("userOptions"),t||{})),this._init()},this),s.attachChanged("date",function(){var t=s.get("date"),e=s.get("dateTime");t?(e?e.set({year:t.year(),month:t.month(),date:t.date()}):(e=t.clone(),s.get("options").hasTime&&this.timePicker.get("time")&&this.setTimeFromTimePicker(e)),s.set("dateTime",e.clone())):s.set("dateTime",null)},this),s.attachChanged("isShowSelectYearPanel",function(){s.get("isShowSelectYearPanel")&&this.hideSelectMonthPanel(!0)},this),s.attachChanged("isShowSelectMonthPanel",function(){s.get("isShowSelectMonthPanel")&&(s.set("isShowSelectYearPanel",!1),this.hideSelectYearPanel(!0))},this),s.attachChanged("dateTime",function(){s.get("dateTime")?s.notify("dateTimeChanged",s.get("dateTime").format(s.get("options").locale.format)):s.notify("dateTimeChanged","")}),s.attachChanged("date",function(){s.get("options").dateChangeHidePopup&&this.setIsShowPopup(!1)},this)},setIsShowPopup:function(t){s.set("isShowPopup",t)},getMaxYear:function(t,e){return t&&t.year()||e+5},getMinYear:function(t,e){return t&&t.year()||e-50},generatorSelectPanel:function(t,e,i,n){s.set("isShowSelectYearPanel",!1),s.set("isShowSelectMonthPanel",!1);var o="",r="",a=t[1][1].month(),l=t[1][1].year(),c=this.getMaxYear(e,l),u=this.getMinYear(i,l),d=l===u,h=l===c;r=this.generatorSelectYearPanel(u,c,l),o=this.generatorSelectMonthPanel(d,h,i,e,a,n),s.$root.find(".calendar-table").find(".select-month-panel").html(o),s.$root.find(".calendar-table").find(".select-year-panel").html(r)},setTimeFromTimePicker:function(t){var e=this.timePicker.get("time")||"",i=e.split(":"),n=i[0],o=i[1],r=i[2];t.set({hour:n||s.get("options").defaultHour,minute:o||s.get("options").defaultMinute,second:r||s.get("options").defaultSecond})},renderCalendar:function(t,o,s){var r=this.calendar.month,a=r.month(),l=r.year(),c=r.hour(),u=r.minute(),d=r.second(),h=e([l,a]).daysInMonth(),f=e([l,a,1]),p=e([l,a,h]),g=e(f).subtract(1,"month").month(),m=e(f).subtract(1,"month").year(),v=e([m,g]).daysInMonth(),y=f.day(),b=this.calendar.viewDays=[];for(this.calendar.firstDay=f,this.calendar.lastDay=p,i=0;i<s.rowCount;i++)b[i]=[];var w=v-y+s.locale.firstDay+1;w>v&&(w-=7);var _=e([m,g,w,12,u,d]);for(i=0,col=0,row=0;i<7*s.rowCount;i++,col++,_=e(_).add(24,"hour"))i>0&&col%7===0&&(col=0,row++),b[row][col]=_.clone().hour(c).minute(u).second(d),_.hour(12),s.minDate&&b[row][col].format("YYYY-MM-DD")===s.minDate.format("YYYY-MM-DD")&&b[row][col].isBefore(s.minDate)&&(b[row][col]=s.minDate.clone());var C=s.minDate,k=s.maxDate,S="";S+="<thead>",S+='<tr class="operation">',(s.showWeekNumbers||s.showISOWeekNumbers)&&(S+="<th></th>"),S+=!C||C.isBefore(this.calendar.firstDay)?'<th class="prev-year available" title="\u4e0a\u4e00\u5e74">&lt;&lt;</th><th class="prev-month available" title="\u4e0a\u4e00\u6708">&lt;</th>':"<th></th><th></th>";var x=['<a class="selected-month">'+s.locale.monthNames[b[1][1].month()]+"</a>",'<a class="selected-year">'+b[1][1].format(" YYYY")+s.locale.yearLabel+"</a>"].join("");for(S+='<th colspan="3" class="month">'+x+"</th>",S+=!k||k.isAfter(this.calendar.lastDay)?'<th class="next-month available" title="\u4e0b\u4e00\u6708">&gt;</th><th class="next-year available" title="\u4e0b\u4e00\u5e74">&gt;&gt;</th>':"<th></th><th></th>",S+="</tr>",S+='<tr class="weekname">',(s.showWeekNumbers||s.showISOWeekNumbers)&&(S+='<th class="week">'+s.locale.weekLabel+"</th>"),
n.each(s.locale.daysOfWeek,function(t,e){S+="<th>"+e+"</th>"}),S+="</tr>",S+="</thead>",S+="<tbody>",row=0;row<s.rowCount;row++){for(S+="<tr>",s.showWeekNumbers?S+='<td class="week">'+b[row][0].week()+"</td>":s.showISOWeekNumbers&&(S+='<td class="week">'+b[row][0].isoWeek()+"</td>"),col=0;col<7;col++){var D=[],T="";b[row][col].isSame(new Date,"day")&&(D.push("today"),T=s.locale.todayLabel),b[row][col].isoWeekday()>5&&D.push("weekend"),b[row][col].month()!==b[1][1].month()&&D.push("off"),b[row][col].month()>b[1][1].month()&&D.push("next-month-date"),b[row][col].month()<b[1][1].month()&&D.push("prev-month-date"),s.minDate&&b[row][col].isBefore(s.minDate,"day")&&D.push("off","disabled"),k&&b[row][col].isAfter(k,"day")&&D.push("off","disabled"),o&&b[row][col].format("YYYY-MM-DD")===o.format("YYYY-MM-DD")&&D.push("active");var O=s.isCustomDate(b[row][col]);O!==!1&&("string"==typeof O?D.push(O):Array.prototype.push.apply(D,O));var E="",A=!1;for(i=0;i<D.length;i++)E+=D[i]+" ","disabled"===D[i]&&(A=!0);A||(E+="available"),S+='<td class="'+E.replace(/^\s+|\s+$/g,"")+'" data-title="r'+row+"c"+col+'" title="'+T+'"><div class="date-value">'+b[row][col].date()+"</div></td>"}S+="</tr>"}return s.hasTime||(S+='<tr><td colspan="7" class="set-today">'+s.locale.todayLabel+"</td></tr>"),S+="</tbody>",t.find(".table-condensed").html(S),this.calendar},generatorSelectYearPanel:function(t,e,i){for(var n=["<table>","<tbody>"].join(""),o=i-5,s=0,r=o;4>s;s++){n+=["<tr>"].join("");for(var a=0;3>a;a++,r++)n+=0===s&&0===a?['<td data-operation="pre-page"><div class="value"> &lt; </div></td>'].join(""):3===s&&2===a?['<td data-operation="next-page"><div class="value"> &gt; </div></td>'].join(""):['<td data-value="'+r+'"'+(r===i?' data-selected="selected"':"")+(r>=t&&e>=r?"":' data-disabled="disabled"')+'><div class="value">'+r+"</div></td>"].join("");n+=["</tr>"].join("")}return n+=["</tbody>","</table>"].join("")},generatorSelectMonthPanel:function(t,e,i,n,o,s){for(var r=["<table>","<tbody>"].join(""),a=0,l=0;4>a;a++){r+=["<tr>"].join("");for(var c=0;3>c;c++,l++)r+=(!t||l>=i.month())&&(!e||l<=n.month())?['<td data-value="'+l+'" '+(l===o?' data-selected="selected"':"")+'><div class="value">'+s.monthNames[l]+"</div></td>"].join(""):['<td data-value="'+l+'" '+(l===o?' data-selected="selected"':"")+' data-disabled="disabled"><div class="value">'+s.monthNames[l]+"</div></td>"].join("");r+=["</tr>"].join("")}return r+=["</tbody>","</table>"].join("")},clickPrevMonth:function(){this.calendar.month.subtract(1,"month"),this.changeViewMonth(this.calendar.month.year(),this.calendar.month.month())},clickNextMonth:function(){this.calendar.month.add(1,"month"),this.changeViewMonth(this.calendar.month.year(),this.calendar.month.month())},clickPrevYear:function(){this.calendar.month.subtract(12,"month"),this.changeViewMonth(this.calendar.month.year(),this.calendar.month.month())},clickNextYear:function(){this.calendar.month.add(12,"month"),this.changeViewMonth(this.calendar.month.year(),this.calendar.month.month())},getTimePicker:function(){return this.timePicker},clickSetToday:function(){var t=e(new Date);s.set("date",t),this.changeViewMonth(t.year(),t.month())},clickDate:function(t){var e=n(t.currentTarget).attr("data-title"),i=e.substr(1,1),o=e.substr(3,1),r=this.calendar.viewDays[i][o];s.set("date",r),n(t.currentTarget).hasClass("next-month-date")&&this.calendar.month.add(1,"month"),n(t.currentTarget).hasClass("prev-month-date")&&this.calendar.month.subtract(1,"month"),this.changeViewMonth(this.calendar.month.year(),this.calendar.month.month())},toggleShowSelectMonthPanel:function(t){s.get("isShowSelectMonthPanel")?this.hideSelectMonthPanel():this.showSelectMonthPanel(t)},toggleShowSelectYearPanel:function(t){s.get("isShowSelectYearPanel")?this.hideSelectYearPanel():this.showSelectYearPanel(t)},showSelectMonthPanel:function(t){s.set("isShowSelectMonthPanel",!0)},showSelectYearPanel:function(t){s.set("isShowSelectYearPanel",!0);var e=n(t.currentTarget),i=this.getYearFromSelectedText(e.text(),s.get("options")),o=i-5;this.renderSelectYearPanel(o)},hideSelectMonthPanel:function(t){s.set("isShowSelectMonthPanel",!1)},hideSelectYearPanel:function(t){s.set("isShowSelectYearPanel",!1)},selectYearPanelPrePage:function(t){t.currentTarget,this.renderSelectYearPanel(this.getMinValueFromSelectYearPanel()-10)},selectYearPanelNextPage:function(t){t.currentTarget,this.renderSelectYearPanel(this.getMaxValueFromSelectYearPanel()+1)},renderSelectMonthPanel:function(t){this.getSelectPanel("month").find("td").removeAttr("data-selected"),this.getSelectPanel("month").find("td[data-value="+h+"]").attr("data-selected","selected");for(var e=this.getSelectPanel("month").find("td"),i=s.get("options").maxDate,o=s.get("options").minDate,r=this.getMaxYear(i,t),a=this.getMinYear(o,t),l=t===a,c=t===r,u=0;u<e.length;u++){var d=n(e[u]),h=d.data("value");(!l||h>=o.month())&&(!c||h<=i.month())?d.removeAttr("data-disabled"):d.attr("data-disabled","disabled")}},renderSelectYearPanel:function(t){var e=this.getSelectPanel("year");e.find("td:not([data-operation])").each(function(e,i){n(this).removeAttr("data-disabled"),n(this).removeAttr("data-selected"),n(this).find(".value").text(t+e),n(this).data("value",t+e),n(this).attr("data-value",t+e)}),e.find("td[data-value="+this.calendar.month.year()+"]").attr("data-selected","selected")},getYearFromSelectedText:function(t,e){return parseInt(t.substring(0,t.lastIndexOf(e.locale.yearLabel)),10)},getSelectPanelFromChildrenElement:function(t){return n(t).closest(".select-panel")},getMinValueFromSelectYearPanel:function(){return this.getSelectPanel("year").find("td").eq(1).data("value")},getSelectPanel:function(t){return s.$root.find(".select-"+t+"-panel")},getMaxValueFromSelectYearPanel:function(){return this.getMinValueFromSelectYearPanel()+9},isInRange:function(t,e,i){return t>=e&&i>=t},yearChanged:function(t){this.monthOrYearChanged(t),s.set("isShowSelectYearPanel",!1)},monthChanged:function(t){this.monthOrYearChanged(t),s.set("isShowSelectMonthPanel",!1)},monthOrYearChanged:function(t){var e=n(t.currentTarget);e.closest("tbody").find("td").removeAttr("data-selected"),e.attr("data-selected","selected");var i=e.closest(".calendar"),o=i.find('.select-month-panel td[data-selected="selected"]').data("value"),s=i.find('.select-year-panel td[data-selected="selected"]').data("value");this.changeViewMonth(s,o)},changeViewMonth:function(t,e){this.calendar.month.year(t).month(e),this._renderCalendar();var i;i=t<this.getMinValueFromSelectYearPanel()?t-9:t>this.getMaxValueFromSelectYearPanel()?t:this.getMinValueFromSelectYearPanel(),this.renderSelectYearPanel(i),this.renderSelectMonthPanel(t)}}});return t.component("dateTimePicker",function(t,e){e.view={},e.ctrl={init:function(){t.install(s),t.install(r)}}})}),define("pitaya/unit/pagination",["knight","jquery","util/template/2.0"],function(t,e,i){t.directive("pagination_renderPaginationList",{init:function(){this.totalPageName=this.args[0],this.pageName=this.handler,this.onPageChanged=this.ctrl[this.args[1]],this.showPageCount=this.scope.get(this.args[2])||5,this.render(),this.wait()},template:["{{if hasFirstPage}}",'<li><a data-page="{{FIRST_PAGE}}" {{if FIRST_PAGE === page}}class="active"{{/if}} href="{{setHref(FIRST_PAGE)}}">{{FIRST_PAGE}}</a></li>',"{{/if}}","{{if hasPreEllipsis}}",'<li><span class="ellipsis">...</span></li>',"{{/if}}","{{each showPages as showPage}}",'<li><a data-page="{{showPage}}" {{if showPage === page}}class="active"{{/if}} href="{{setHref(showPage)}}">{{showPage}}</a></li>',"{{/each}}","{{if hasNextEllipsis}}",'<li><span class="ellipsis">...</span></li>',"{{/if}}","{{if hasLastPage}}",'<li><a data-page="{{totalPage}}" {{if totalPage === page}}class="active"{{/if}} href="{{setHref(totalPage)}}">{{totalPage}}</a></li>',"{{/if}}"].join(""),wait:function(){this.scope.attachChanged(this.handler,this.render,this),this.scope.attachChanged(this.args[0],this.render,this)},render:function(){var t,n,o,s=!1,r=!1,a=!1,l=!1,c=[],u=this.scope.get(this.args[3])||1,d=this.scope.get(this.totalPageName),h=this.scope.get(this.pageName),f=this.showPageCount,p=this.onPageChanged,g=this.ctrl,m=this.$el,v=this.scope;if(f>=d){s=!1,r=!1,t=u;do c.push(t),t++;while(d>=t)}else{for(n=h-(f-1);h>n&&d>=n+f&&(u>n||h-n>Math.ceil(f/2)-1);)n++;o=0;do c.push(n+o),o++;while(f>o);n>u+1&&(s=!0),d-1>n+f-1&&(r=!0),c[0]>u&&(a=!0),c[c.length-1]<d&&(l=!0)}i.helper("setHref",e.proxy(this.ctrl.setHref,this.ctrl));var y=e(i.compile(this.template)({showPages:c,hasPreEllipsis:s,hasNextEllipsis:r,totalPage:d,page:h,hasFirstPage:a,hasLastPage:l,FIRST_PAGE:u,_paginationType:v.get("_paginationType")}));y.find("li>a:not(.active)").click(e.proxy(p,g)),m.html(y),v.notify("renderPaginationList:rendered",y)}}),t.directive("pagination_blurSync",{init:function(){var t=this;this.validFun=this.args[0],this.$el.on("blur",function(e){t.set(e)}),this.$el.on("keydown",function(e){13===e.which&&t.set(e)})},set:function(t){this.validFun&&e.isFunction(this.ctrl[this.validFun])?this.ctrl[this.validFun](t.target.value)?this.scope.set(this.handler,t.target.value):e(t.target).val(this.scope.get(this.handler)):this.scope.set(this.handler,t.target.value)}});var n=t.part("paginationPart",function(t,i){i.view={root:"dataSource: page page, dataSource: totalPage totalPage",".prev":"click: prePage, attr: preHref href",".next":"click: nextPage, attr: nextHref href",".current":"text: page",".pages-total":"text: totalPage",".paging-list":"pagination_renderPaginationList: page totalPage setTotalPage showPageCount FIRST_PAGE, click: clickPage","input.page":"pagination_blurSync: inputPage, value: inputPage","button[type=submit]":"click: confirmChangePage"},i.ctrl={init:function(){t.set("page",t.get("page")||1),t.set("totalPage",t.get("totalPage")||1),t.set("FIRST_PAGE",1),t.set("inputPage",""),this.setOptHref(),this.wait()},wait:function(){t.attach("pagination:set",this.set,this)},prePage:function(e){return t.get("page")===t.get("FIRST_PAGE")?(e.preventDefault(),!1):(t.set("page",t.get("page")-1),void t.notify("pagination:pageChange",t.get("page")))},nextPage:function(e){return t.get("page")===t.get("totalPage")?(e.preventDefault(),!1):(t.set("page",t.get("page")+1),void t.notify("pagination:pageChange",t.get("page")))},clickPage:function(i){e(i.target).data("page")&&(t.set("page",e(i.target).data("page")),t.notify("pagination:pageChange",t.get("page")))},confirmChangePage:function(e){e.preventDefault(),/^\d+$/.test(t.get("inputPage"))&&parseInt(t.get("inputPage"),10)<=t.get("totalPage")&&parseInt(t.get("inputPage"),10)>=t.get("FIRST_PAGE")&&parseInt(t.get("inputPage"),10)!==t.get("page")&&(t.set("page",parseInt(t.get("inputPage"),10)),t.set("inputPage",""),"url"===t.get("_paginationType")?window.location=this.renderPageUrl(t.get("page")):t.notify("pagination:pageChange",t.get("page")))},set:function(e){e=e||{},t.set("page",e.page),t.set("totalPage",e.totalPage),t.set("FIRST_PAGE",e.FIRST_PAGE)},setOptHref:function(){if("url"===t.get("_paginationType")){var e=t.get("page");e>t.get("FIRST_PAGE")&&t.set("preHref",this.renderPageUrl(e-1)),e<t.get("totalPage")&&t.set("nextHref",this.renderPageUrl(e+1))}},setHref:function(e){return"url"===t.get("_paginationType")?this.renderPageUrl(e):"javascript:void(0);"},renderPageUrl:function(e){return t.get("pageUrl").replace(/\$\{([^\$\{\}]+)\}/g,function(i,n){return"page"===n?e:((null===t.get("groupStr")||void 0===t.get("groupStr"))&&console.warn("\u7ffb\u9875\u7ec4\u4ef6: \u4f20\u5165\u7684pageUrl\u53c2\u6570\u662f\u5426\u6709\u8bef\uff0c\u6ca1\u6709\u83b7\u53d6\u5230 "+n+" \u5bf9\u5e94\u7684\u503c"),t.get(n))})}}}),o=t.part("paginationBuildPart",function(t,e){var n=['<form class="unit-pagination">','<div class="paging-picker">','<div class="paging-shortcut">','{{if _paginationType === "url"}}','<a class="prev lang-button">\u4e0a\u4e00\u9875</a>','{{else if _paginationType === "normal"}}','<button type="button" class="prev lang-button">\u4e0a\u4e00\u9875</button>',"{{/if}}","</div>",'<ul class="paging-list"></ul>','<div class="paging-shortcut">','{{if _paginationType === "url"}}','<a class="next lang-button">\u4e0b\u4e00\u9875</a>','{{else if _paginationType === "normal"}}','<button type="button" class="next lang-button">\u4e0b\u4e00\u9875</button>',"{{/if}}","</div>","</div>",'<div class="paging-jumper">',"<div>",'<span class="paging-point">','<em class="current"></em>','<span class="sign-division">/</span>','<span class="pages-total"></span>',"</span>",'<span class="paging-jump">',"<span>\u5230</span>",'<input type="text" class="lang-input page">',"<span>\u9875</span>","</span>",'<button type="submit" class="lang-button">\u786e\u5b9a</button>',"</div>","</div>","</form>"].join("");e.view={root:"dataSource: pageUrl pageUrl"},e.ctrl={init:function(){t.get("pageUrl")?t.set("_paginationType","url"):t.set("_paginationType","normal"),this.build()},build:function(){t.$root.empty().html(i.compile(n)({_paginationType:t.get("_paginationType")}))}}}),s=t.part("paginationOptDisabled",function(t,e){e.model={nextDisabled:function(){return this.page>=this.totalPage},preDisabled:function(){return this.page<=this.FIRST_PAGE}},e.view={".prev":"disabled: preDisabled",".next":"disabled: nextDisabled"},e.ctrl={init:function(){this.wait()},wait:function(){"url"===t.get("_paginationType")&&(t.attachChanged("preDisabled",function(){var e=t.get("preDisabled");e?t.$(".prev").attr("disabled","disabled"):t.$(".prev").removeAttr("disabled")}),t.attachChanged("nextDisabled",function(){var e=t.get("nextDisabled");e?t.$(".next").attr("disabled","disabled"):t.$(".next").removeAttr("disabled")}))}}});return t.component("pitaya/unit/pagination",function(t,e){e.ctrl={init:function(){this.install()},install:function(){t.install(o),t.install(s),t.install(n)}}})}),define("pitaya/unit/suggestion",["knight","jquery","just/fit/io","pitaya/unit/select"],function(t,e,i,n){return t.component("pitaya/unit/suggestion",function(t,o){o.view={root:"dataSource: taskUrl taskUrl ","input.keywords":"keyup: onInput,input: onInput, disabled: disabled"},o.ctrl={init:function(){this._init(),this.wait()},_init:function(){this.unitSelect=n.startup({type:"suggestion",placeholder:t.get("placeholder")||""},t.$(".select-container"))},wait:function(){var e=this;t.attach("update",this.update,this),this.unitSelect.on("change",function(){e.change()}),t.attach("checkedChange",this.onCheckedChange,this),this.unitSelect.on("input",function(t,i){e.onInput(t,i)}),t.attach("excuteTask",this.task,this)},onInput:function(i,n){var o=this;this.timer&&clearTimeout(this.timer);var n=e(i.target),s=e.trim(n.val());t.set("curVal",s),t.notify("beforeTask",s),this.timer=setTimeout(function(){o.task(s,function(){o.unitSelect.set("_dropdown",!0)})},300)},onCheckedChange:function(){var i=t.$(".main input"),n=t.get("checkedText");e.trim(i.val())!==n&&i.val(n)},change:function(){t.set("checkedValue",this.unitSelect.get("value")),t.set("checkedText",this.unitSelect.get("text")),t.set("checkedIndex",this.unitSelect.get("index")),t.notify("checkedChange")},update:function(t){this.unitSelect.invoke("update",t),this.change()},task:function(e,n){this.tasks||(this.tasks=new i("POST",t.get("taskUrl")));var o=t.get("requestData")||{keywords:e},s={onFailure:function(e){t.notify("requestDataTaskFailure",e),t.set("tasking",!1)},onError:function(e){t.notify("requestDataTaskError",e),t.set("tasking",!1)},onSuccess:function(e){e&&e.success?(t.notify("beforeUpdate",e),t.notify("update",t.get("updateOriginData")||e),n&&n()):t.notify("requestDataTaskError",e),t.set("tasking",!1)}};t.get("tasking")||(t.set("tasking",!0),this.tasks.request(o,s))}}})}),define("pitaya/unit/catSuggestion",["jquery","knight","just/lang/string","just/fit/io"],function(t,e,i,n){"use strict";function o(t,e){return t.replace(s,function(t,n){return void 0!==e[n]?i.escapeHTML(""+e[n]):e})}var s=/\${([\w\W]*?)}/g,r=e.part("catSuggestionListRender",function(e,i){i.model={isOpen:!1,highlightedIndex:null,_showSuggestionList:function(){return this.isOpen&&this.totalItemCount>0},_ignoreBlur:!1,_hasCategoryHeader:!1},i.view={".suggestion-container":"visible: _showSuggestionList",".suggestion-container .cat-suggestion-item":"click: chooseItem"},i.ctrl={init:function(){this.wait()},wait:function(){e.attach("categories",this.renderSuggestionList,this),e.attachChanged("highlightedIndex",this.highlightItem,this),e.execute("getItemData",function(t){for(var i=e.get("categories"),n=0,o=i.length;o>n;n++){var s=i[n];if(s.data){var r=s.data.length;if(!(t+1>r))return[s.name,s.data[t]];t-=r}}}),e.attach("itemChoose",function(t,i){e.set("_ignoreSearchValueChanged",!0),e.set("categories",[]),e.set("highlightedIndex",null),e.set("searchValue",this.getItemText(i)),e.set("isOpen",!1),e.$("input")[0].focus(),e.notify("catSuggestion:chooseItem",t,i)},this),e.attachChanged("isOpen",this.ajustSuggestionListPos,this)},renderSuggestionList:function(){if(e.get("isOpen")){e.set("highlightedIndex",null);var i=this,n=0,o=t("<ul>"),s=e.get("categories");t.each(s,function(s,r){if(r.data&&r.data.length){var a=i.renderCategoryHeader(r.name);a&&a.length?(e.set("_hasCategoryHeader",!0),o.append(a)):e.set("_hasCategoryHeader",!1),t.each(r.data,function(t,e){var s=i.renderCategoryItem(r.name,e,n++);o.append(s)})}}),e.$(".suggestion-container").html(o),this.ajustSuggestionListPos()}},renderCategoryHeader:function(i){var n=e.get("headerRenderer");return t.isFunction(n)?n(i):"string"==typeof n?o(n,{categoryName:i}):""},renderCategoryItem:function(i,n,s){var r,a=e.get("itemRenderer");return r=t.isFunction(a)?a(i,n):"string"==typeof a?o(a,n):'<li class="cat-suggestion-item">'+n+"</li>",t(r).addClass("cat-suggestion-item").on("mouseenter",function(){e.set("highlightedIndex",s)}).on("mousedown",function(){e.set("_ignoreBlur",!0)})},ajustSuggestionListPos:function(){var i=t(window).height(),n=t(window).scrollTop(),o=e.$("input").height(),s=e.$("input").offset().top,r=e.$(".suggestion-container").height();s+o+r>i+n&&s>n+r?e.set("dropup",!0):e.set("dropup",!1)},getItemText:function(i){var n=e.get("getItemText");return t.isFunction(n)?n(i):"string"==typeof n?o(n,i):i},chooseItem:function(t){t.preventDefault();var i=e.invoke("getItemData",e.get("highlightedIndex"));e.notify("itemChoose",i[0],i[1])},highlightItem:function(){var t=e.get("highlightedIndex");null===t?e.$(".cat-suggestion-item",!0).removeClass("highlight"):e.$(".cat-suggestion-item",!0).eq(t).addClass("highlight").siblings().removeClass("highlight"),this.maybeScrollItemIntoView()},maybeScrollItemIntoView:function(){var i=function(e,i){return i=i||"borderWidth",parseFloat(t(e).css(i).replace("px",""))||0},n=e.get("isOpen"),o=e.get("highlightedIndex");if(n&&null!==o){var s=e.$(".cat-suggestion-item",!0).eq(o),r=e.$(".suggestion-container"),a=s.offset(),l=r.offset(),c={left:0,top:a.top-(l.top+i(r,"borderTopWidth"))},u={left:0,top:a.top+s.outerHeight()-(l.top+r.height()+i(r,"borderBottomWidth"))};c.top<0&&(r[0].scrollTop=e.get("_hasCategoryHeader")&&0===o?0:r[0].scrollTop+c.top),u.top>0&&(r[0].scrollTop=r[0].scrollTop+u.top)}}}}),a=e.part("catSuggestionAsync",function(e,i){i.model={categories:[],totalItemCount:function(){for(var t=0,e=0,i=this.categories.length;i>e;e++){var n=this.categories[e];n.data&&(t+=n.data.length)}return t}},i.view={root:"dataSource: urls urls, dataSource: methodType methodType"},i.ctrl={init:function(){this.wait()},wait:function(){e.attachChanged("searchValue",this.fetch,this)},fetch:function(){var i=e.get("searchValue");if(!e.get("_ignoreSearchValueChanged")&&0!==i.length){e.set("categories",[]),e.notify("catSuggestion:beforeFetch");var s=e.get("urls"),r=[];t.each(s,function(i,s){if(s){s=o(s,e.get());var a=t.Deferred(),l=e.get("queryParams"),c=t.isFunction(l)?l(i,s):l||{},u=new n(e.get("methodType")||"POST",s),d=t.proxy(function(t,e){a.resolve({name:t,success:!1,data:[],errorCode:e.errorCode,errorMessage:e.errorMessage||"\u672a\u77e5\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"})},null,i);u.request(c,{onSuccess:t.proxy(function(t,e){a.resolve({name:t,success:!0,data:e.data})},null,i),onFailure:d,onError:d}),r.push(a.promise())}}),t.when.apply(t,r).then(t.proxy(this.onFetchCallback,this,i))}},onFetchCallback:function(i){if(i===e.get("searchValue")){var n=[].slice.call(arguments,1),o=e.get("dataFilter");t.isFunction(o)&&(n=o(n));for(var s="catSuggestion:fetchFailure",r=!1,a=0;a<n.length;a++)if(n[a].success){s="catSuggestion:fetchSuccess",r=!0;break}e.set("isOpen",r),e.set("categories",n),e.notify(s,n)}}}}),l=e.part("catSuggestionInput",function(e,i){i.model={searchValue:"",_ignoreSearchValueChanged:!1},i.view={input:"focus: onFocus, blur: onBlur, keydown: onKeydown, input: onInput, value: searchValue, disabled: disabled",root:"dataSource: requestDelay requestDelay,dataSource: disabled disabled, toggleClass: dropup dropup"},i.ctrl={init:function(){e.set("requestDelay",e.get("requestDelay")||300)},onFocus:function(){return e.get("_ignoreBlur")?void e.set("_ignoreBlur",!1):(e.set("isOpen",!0),void e.notify("catSuggestion:focus"))},onBlur:function(){e.get("_ignoreBlur")||e.set("isOpen",!1)},onKeydown:function(t){switch(t.which){case 38:this.keydownHandlers.arrowUp.call(this,t);break;case 40:this.keydownHandlers.arrowDown.call(this,t);break;case 13:this.keydownHandlers.enter.call(this,t);break;case 27:this.keydownHandlers.escape.call(this,t);break;default:this.onInput.call(this,t),e.set("isOpen",!0)}},keydownHandlers:{arrowUp:function(t){t.preventDefault();var i,n=e.get("totalItemCount"),o=e.get("highlightedIndex");i=null===o||0===o?n-1:o-1,e.set("highlightedIndex",i)},arrowDown:function(t){t.preventDefault();var i,n=e.get("totalItemCount"),o=e.get("highlightedIndex");i=null===o||o===n-1?0:o+1,e.set("highlightedIndex",i)},enter:function(t){if(e.get("isOpen"))if(null===e.get("highlightedIndex"))e.set("isOpen",!1);else{t.preventDefault();var i=e.invoke("getItemData",e.get("highlightedIndex"));e.notify("itemChoose",i[0],i[1])}},escape:function(t){e.set("highlightedIndex",null),e.set("isOpen",!1)}},onInput:function(i){e.set("_ignoreSearchValueChanged",!1),e.set("categories",[]),this.debounceTimer&&(window.clearTimeout(this.debounceTimer),this.debounceTimer=null),this.debounceTimer=window.setTimeout(function(){e.set("searchValue",t.trim(i.target.value)),e.notify("catSuggestion:input",e.get("searchValue"))},e.get("requestDelay"))}}});return e.component("pitaya/unit/catSuggestion",function(t,e){e.ctrl={init:function(){this.install()},install:function(){t.install(l),t.install(a),t.install(r)}}})}),define("pitaya/unit/multi-level-checkbox",["knight","jquery","pitaya/lang/checkbox"],function(t,e,i){return t.part(function(t,n){n.view={},n.ctrl={init:function(){var e=t.get("lang-checkbox-class");e?(this.langCheckbox=i.startup(t.$root.find(e)),t.set("checkStatus",this.getCheckStatus(this.langCheckbox.get("checked"),this.langCheckbox.get("midchecked")))):t.set("checkStatus",""),this.computed(),this.attach(),this.provide()},provide:function(){t.get("isEnd")||(t.provide("checked",function(){return t.get("checked")}),t.provide("midchecked",function(){return t.get("midchecked")}))},attach:function(){var e=this;this.langCheckbox&&this.langCheckbox.on("change",function(){t.get("isEnd")?t.set("checkStatus",this.getCheckStatus(e.langCheckbox.get("checked"),e.langCheckbox.get("midchecked"))):t.notify("checkboxChanged",this.langCheckbox.get("checked"))},this),t.reply("checkboxChanged",function(e){t.get("isEnd")?e?t.set("checkStatus","checked"):t.set("checkStatus","unchecked"):t.notify("checkboxChanged",e)}),t.attachChanged("checkStatus",function(){this.langCheckbox&&this.langCheckbox.set("checked",this.isChecked(t.get("checkStatus"))),this.langCheckbox&&this.langCheckbox.set("midchecked",this.isMidChecked(t.get("checkStatus")))},this)},getCheckStatus:function(t,e){return t?"checked":e?"midchecked":"unchecked"},isChecked:function(t){return"checked"===t},isMidChecked:function(t){return"midchecked"===t},computed:function(){var e=this;t.get("isEnd")||t.computed(t.get("connectorName"),"checkStatus",function(i){t.set("checkStatus",e.computeCheckStatus(i))})},computeCheckStatus:function(t){var i=!1,n=!1;return 0===t.length?"":(e.each(t,function(t,e){e&&(("checked"===e||"midchecked"===e)&&(i=!0),("unchecked"===e||"midchecked"===e)&&(n=!0))}),i?n?"midchecked":"checked":"unchecked")}}})}),define("doit/widget/ui/mask",["jquery"],function(t){var e=t.browser.msie&&0===(t.browser.version+"").indexOf("6."),i=function(t){this.init(t)};return i.prototype={ct:null,isShow:!1,initDefaultOptions:function(){var t={tpl:'<div class="f-ui-mask" unselectable="on" style="background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;"></div>',panelTpl:null,cls:null,isShim:"auto",blankUrl:"about:blank",fixRelative:!1,layoutOnWinChange:!1,layoutOnWinScroll:!1,layoutOnWinResize:!1,isLazyInit:!0,zIndex:50,opacity:0,eventNs:"",applyTo:null,container:"body"};return t},initOptions:function(e){var i=this.initDefaultOptions();t.extend(this,i,e||{})},init:function(t){this.initOptions(t),this.createComponent()},_eventFun:null,_bind:function(t,e,i){null!=t&&(this._eventFun||(this._eventFun=[]),this._eventFun.push({el:t,event:e,fun:i}),t.bind(e,i))},_unbindAll:function(){if(this._eventFun){for(var t=null,e=0,i=this._eventFun.length;i>e;e++)t=this._eventFun[e],t.el.unbind(t.event,t.fun);this._eventFun.splice(0,this._eventFun.length)}},escapeHtml:function(t){return"string"!=typeof t?null:t.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;")},createShim:function(){if(this.shimEl)return this.shimEl;var e=this.escapeHtml(this.blankUrl);e||(e="");var i=t('<iframe src="'+t.util.fitProtocol(e)+'" frameborder="0" style="display:none;width:2px;height:2px;left:0;top:0;"></iframe>').insertAfter(this.ct).css({position:"absolute",opacity:"0",zIndex:this.zIndex-1});return this.shimEl=i,i},setZIndex:function(t){this.zIndex=t,this.ct&&this.ct.css("zIndex",this.zIndex),this.shimEl&&this.shimEl.css("zIndex",this.zIndex-1)},_isIE6:function(){return e},destroy:function(t){this._unbindAll(),delete this._eventFun,this.shimEl&&(this.shimEl.remove(),delete this.shimEl),delete this.container,this.ct&&(t||this.ct.remove(),delete this.ct),delete this.applyTo},layoutPanel:function(){var t=this.panelCt,e=this.ct;if(t&&e){var i=e.offset(),n=Math.floor((e.outerWidth()-t.outerWidth())/2),o=Math.floor((e.outerHeight()-t.outerHeight())/2);i.left=i.left+n,i.top=i.top+o,t.offset(i)}},layout:function(){if(this.ct){var e=!1,i=this.ct,n=this.applyTo;if(n.length>0){var o=n.prop("tagName");null!=o&&"body"===o.toLowerCase()&&(e=!0)}this.isShow&&(i.hide(),this.shimEl&&this.shimEl.hide());var s=t(document),r=i.outerWidth()-i.width(),a=i.outerHeight()-i.height(),l=e?s.width():n.outerWidth(),c=e?s.height():n.outerHeight(),u=n.offset();this.isShow&&(i.show(),this.shimEl&&this.shimEl.show()),i.width(l-r).height(c-a).offset(u),this.shimEl&&this.shimEl.width(l).height(c).offset(u),this.layoutPanel()}},handleWinChange:function(t){var e=this;window.clearTimeout(e._winevtid),e._winevtid=window.setTimeout(function(){e.layout()},50)},initMask:function(){var e=this.ct,i=this;if(!e){e=t(this.tpl).prependTo(this.container);var n={position:"absolute",overflow:"hidden",zIndex:this.zIndex};if(e.css(n),this.panelTpl){var o=t(this.panelTpl).prependTo(this.container).hide();n.zIndex=this.zIndex+1,o.css(n),this.panelCt=o}this.cls&&e.addClass(this.cls),this.fixRelative&&e.parent().css("position","relative"),null!=this.opacity&&e.css("opacity",this.opacity),this.ct=e,("auto"===this.isShim&&this._isIE6()||this.isShim===!0)&&this.createShim(),(this.layoutOnWinChange||this.layoutOnWinResize)&&this._bind(t(window),"resize"+this.eventNs,function(t){i.handleWinChange(t)}),(this.layoutOnWinChange||this.layoutOnWinScroll)&&this._bind(t(window),"scroll"+this.eventNs,function(t){i.handleWinChange(t)})}this.isInit=!0},onShow:function(){},onHide:function(){},show:function(t){this.isInit||this.initMask();var e=this,i=this.ct,n=this.panelCt,o=t||{},s=!this.isShow;this.isShow=!0;var r={visibility:"hidden"};if(i.css(r).show(),n&&n.css(r).show(),this.layout(),r={visibility:"visible"},i.css(r).hide(),n&&n.css(r).hide(),this.shimEl&&this.shimEl.show(),i.stop(!0,!0),n&&n.stop(!0,!0),"fun"===o.type&&"function"==typeof o.fun){var a=function(){i.show(),n&&n.show(),s&&e.onShow()};o.fun.call(e,a,s,i,o)}else i.show(),n&&n.show()},hide:function(t){if(this.isInit){var e=this,i=this.ct,n=this.panelCt,o=t||{},s=this.isShow;if(this.isShow=!1,this.shimEl&&this.shimEl.width(2).height(2).hide(),i.stop(!0,!0),n&&n.stop(!0,!0),"fun"===o.type&&"function"==typeof o.fun){var r=function(){i.hide(),n&&n.hide(),s&&e.onHide()};o.fun.call(e,r,s,i,o)}else i.hide(),n&&n.hide()}},createComponent:function(){var e=t(this.applyTo).first();e.length<=0||(this.applyTo=e,this.isLazyInit||this.initMask())}},i}),define("doit/widget/ui/tooltip",["jquery","doit/widget/ui/bubbletip"],function(t,e){var i=function(t){this.init(t)};return i.prototype={bubbletip:null,initDefaultOptions:function(){var t={tipKey:"data-tip",tipConfigKey:"tipcfg",enforceReload:!0,bubbletipOpts:{isAutoPos:!0,arrowMargin:function(t){return t.indexOf("c")>0?0:10},isShowEmpty:!1}};return t},initOptions:function(e){var i=this.initDefaultOptions(),n=i.bubbletipOpts;t.extend(this,i,e||{}),this.bubbletipOpts=t.extend({},n,this.bubbletipOpts)},init:function(t){this.initOptions(t),this.createComponent()},destroy:function(){var t=this;this.unregisterAll(),this.bubbletip.destroy();for(var e in t)t[e]=null},unregisterAll:function(){var e=this;t.each(this._delegateStore,function(t,i){i.jel.undelegate(i.selector,i.event,e._eventListener)}),t.each(this._bindStore,function(t,i){i.jel.unbind(i.event,e._eventListener)})},register:function(e,i){var n=this.bubbletip.showEvent,o=null;i?(o=t(i),o.delegate(e,n,this,this._eventListener),this._delegateStore.push({jel:o,event:n,selector:e})):(o=t(e),o.bind(n,this,this._eventListener),this._bindStore.push({jel:o,event:n}))},getTipContent:function(t,e){var i=t.attr(e.tipKey);return i&&(i=this.bubbletip.escapeHtml(i)),i},setTipContent:function(t){"string"==typeof t?this.bubbletip.setContent(t,!0):this.bubbletip.setContent(t)},_eventListener:function(e){var i=e.data,n=i.bubbletip;if(i.enforceReload||null==n.applyTo||n.applyTo[0]!==this){var o=t(this),s=i.getTipContent.call(i,o,i);if(n.isShowEmpty||"string"!=typeof s||!(t.trim(s).length<=0)){n.hide(),n.setApplyTo(o),i.setTipContent.call(i,s);var r=n.applyTo.data(i.tipConfigKey);i._extendOpts(n,i._defOpt),i._extendOpts(n,r);var a=!1;null!=n.enableClose&&(a=n.enableClose),n.showHideCloseBtn(a),n.show(n.showOption)}}},_extendOpts:function(e,i){var n=e||{},o=i||{};return t.each(["alignType","maxWidth","minWidth","appendOffset","enableClose","arrowMargin"],function(t,e){"undefined"!=typeof o[e]&&(n[e]=o[e])}),n},createComponent:function(){this._delegateStore=[],this._bindStore=[];var i=t.extend({},this.bubbletipOpts||{});i.applyTo=t("<div></div>").appendTo(t("body")).hide(),this.bubbletipOpts=null,this.bubbletip=new e(i),this.bubbletip.applyTo.remove(),this._defOpt=this._extendOpts({},this.bubbletip)}},i}),define("doit/mod/tooltip-support",["jquery","doit/widget/ui/tooltip"],function(t,e){return function(i,n){n=n||{};var o=t(i);if(!(o.length<=0)){var s='<div style="position:relative;"></div>';null!=n.proxy&&(s=n.proxy);var r=n.insertTipContainer;n.insertTipContainer=null;var a=null;a=r?r(t(s),o.first()):t(s).appendTo(o.first());var l=t.extend({container:a,stressCls:"unit-bubbletip-stress",isHoldOnTip:!0,maxWidth:300,isHideOnDocClick:!0},n),c=l.stressCls,u=new e({getTipContent:function(i,n){var o=i.attr("data-tip-content"),s=i.attr("data-tip-type");if(o=t.trim(o),null!=c&&("stress"===s?this.bubbletip.ct.addClass(c):this.bubbletip.ct.removeClass(c)),o&&o.length>0){var r=null;if(r=0===o.indexOf("#")?t(o).html():i.parent().find(o).first().html())return r}return e.prototype.getTipContent.apply(this,arguments)},bubbletipOpts:l,tipKey:"data-tooltip"});u.register(n.registerSelector||"[data-tooltip]",o);

}}}),define("doit/widget/ui/recom",["jquery","lofty/ui/tabs/2.0/tabs","just/bom/exposure","justTracker"],function(t,e,i,n){"use strict";return{init:function(o){o=o||{};var s=o.container||".mod-recom",r="tab-content",a="."+r,l="header",c={app:"DCMS",dataId:"236",useCookieMemberId:"true",stPageId:window.dmtrack_pageid||"default"},u=o.recomConfigList||[];i.bind(s,t.proxy(function(){u&&u.length&&(this.initRecom(s,r,l,u,o.sceneType),this.initLog(s,o.sceneType,n.goldlog),this.initTabs(s,a,l,e),this.main(s,a,c,u),n.goldlog("/trade.19.1.1","EXP",{scene_type:o.sceneType||"unknow"}))},this))},initRecom:function(e,i,n,o,s){var r=t(e),a=this.getRecomContainerTpl(o,i,n);r.html(a)},initLog:function(e,i,n){var o=t(e);o.on("click",".content a",t.proxy(function(){n("/trade.19.1.2","CLK",{scene_type:i||"unknow"})},this))},initTabs:function(t,e,i,n){new n({tpl:t,autoPlay:"",event:"mouseover",currentCls:"active",titleSelector:"."+i+" li",boxSelector:e,selected:0})},main:function(e,i,n,o){t.each(o,t.proxy(function(o,s){this.request(t(e).find(i).eq(o),t.extend(n,s.params),this.onRequestSuccess,this.onRequestError)},this))},request:function(e,i,n,o){t.ajax({url:"//dcms.1688.com/open/query.json",data:i,dataType:"jsonp",success:t.proxy(function(t){try{var i=JSON.parse(t.content.data[0].versionContent);n.call(this,e,i.idcDataList)}catch(s){o.call(this,e)}},this),error:function(){o.call(this,e)}})},onRequestSuccess:function(t,e){this.renderOfferList(t,e),this.adExposureDot(e)},onRequestError:function(t){t.html('<p class="no-related">\u6682\u65e0\u76f8\u5173\u5546\u54c1\uff01</p>')},adExposureDot:function(e){t.each(e||[],function(e,i){i.impression_eurl&&t.getScript(i.impression_eurl)})},getRecomContainerTpl:function(t,e,i){return['<div class="mod-recommend">','<div class="'+i+'">',"<ul>",this.getTitleTpl(t),"</ul>","</div>",'<div class="content">',this.getContentTpl(t,e),"</div>","</div>"].join("")},getTitleTpl:function(e){var i="";return t.each(e,function(t,e){i+='<li><a class="tab-option" href="javascript:void(0);">\u4e3a\u4f60\u63a8\u8350</a></li>'}),i},getContentTpl:function(e,i){var n="";return t.each(e,function(t,e){n+='<div class="'+i+'"></div>'}),n},renderOfferList:function(t,e){t.html(this.getOfferListTpl(e))},getOfferListTpl:function(t){return['<ul class="">',this.getListTpl(t),"</ul>"].join("")},getListTpl:function(e){var i="";return t.each(e,t.proxy(function(t,e){i+=["<li>",'<dl class="cell-thumbnail">','<dt class="img-vertical">','<a class="img-wrap" href="'+e.url+'" title="'+e.title+'" target="_blank">','<img src="'+this.getImgUrl(e.pictUrl,150)+'" alt="'+e.title+'"/>',e.pcIcon?'<img class="atmosphere-logo" src="'+e.pcIcon+'">':"","</a>","</dt>",'<dd class="description">','<a href="'+e.url+'" title="'+e.title+'" target="_blank">'+e.title+"</a>","</dd>","<dd>",this.getTagList(e.tag_info),"</dd>",'<dd class="fd-clr">','<span class="fd-left price">'+this.getPrice(e.promotionList,e.offerPrice)+"</span>",this.getAd(e.resultType),"</dd>","</dl>","</li>"].join("")},this)),i},getOfferUrl:function(t){var e=t.url;return e},getImgUrl:function(t,e){var i=e||100,n="";return t?(t=t.replace(".jpg","").replace(".summ",""),n=151>i?101>i?t+".summ.jpg":t+".search.jpg":221>i?t+".220x220.jpg":t+".310x310.jpg"):n=151>i?101>i?"//cbu01.alicdn.com/cms/upload/other/nopic-100.png":"//cbu01.alicdn.com/cms/upload/other/nopic-150.png":221>i?"//cbu01.alicdn.com/cms/upload/other/nopic-220.png":"//cbu01.alicdn.com/cms/upload/other/nopic-310.png",n},getPrice:function(t,e){var i=e;t&&(i=this.getPromotionPrice(t,i));var n="";return n=-1===["0.0","0",0,""].indexOf(i)?['<span class="fd-cny">','<em class="value">&yen;'+i+"</em>","</span>"].join(""):'<em class="value">\u4ef7\u683c\u9762\u8bae</em>'},getAd:function(t){return"p4p"===t?'<span class="fd-right ad">\u5e7f\u544a</span>':""},getTagList:function(t){t=t||[];var e=[];e.push('<ul class="tags">');for(var i=0;i<t.length;i++){var n=t[i];e.push('<li class="tag">'+n.name+"</li>")}return e.push("</ul>"),e.join("")},getPromotionPrice:function(t,e){if(e=parseFloat(e),t&&t[0]){if(t=t[0],t.pcFixPrice)return(t.pcFixPrice/100).toFixed(2);if(t.pcDiscoutRate)return(e*t.pcDiscoutRate/1e3).toFixed(2)}return e+""}}}),"undefined"==typeof YAHOO||!YAHOO)var YAHOO={};YAHOO.namespace=function(){var t,e,i,n=arguments,o=null;for(t=0;t<n.length;t+=1)for(i=(""+n[t]).split("."),o=YAHOO,e="YAHOO"==i[0]?1:0;e<i.length;e+=1)o[i[e]]=o[i[e]]||{},o=o[i[e]];return o},YAHOO.log=function(t,e,i){var n=YAHOO.widget.Logger;return n&&n.log?n.log(t,e,i):!1},YAHOO.register=function(t,e,i){var n,o,s,r,a,l=YAHOO.env.modules;for(l[t]||(l[t]={versions:[],builds:[]}),n=l[t],o=i.version,s=i.build,r=YAHOO.env.listeners,n.name=t,n.version=o,n.build=s,n.versions.push(o),n.builds.push(s),n.mainClass=e,a=0;a<r.length;a+=1)r[a](n);e?(e.VERSION=o,e.BUILD=s):YAHOO.log("mainClass is undefined for module "+t,"warn")},YAHOO.env=YAHOO.env||{modules:[],listeners:[]},YAHOO.env.getVersion=function(t){return YAHOO.env.modules[t]||null},YAHOO.env.ua=function(){var t,e=function(t){var e=0;return parseFloat(t.replace(/\./g,function(){return 1==e++?"":"."}))},i=(navigator,{ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0,caja:0,secure:!1,os:null}),n=navigator&&navigator.userAgent,o=window&&window.location,s=o&&o.href;return i.secure=s&&0===s.toLowerCase().indexOf("https"),n&&(/windows|win32/i.test(n)?i.os="windows":/macintosh/i.test(n)&&(i.os="macintosh"),/KHTML/.test(n)&&(i.webkit=1),t=n.match(/AppleWebKit\/([^\s]*)/),t&&t[1]&&(i.webkit=e(t[1]),/ Mobile\//.test(n)?i.mobile="Apple":(t=n.match(/NokiaN[^\/]*/),t&&(i.mobile=t[0])),t=n.match(/AdobeAIR\/([^\s]*)/),t&&(i.air=t[0])),i.webkit||(t=n.match(/Opera[\s\/]([^\s]*)/),t&&t[1]?(i.opera=e(t[1]),t=n.match(/Opera Mini[^;]*/),t&&(i.mobile=t[0])):(t=n.match(/MSIE\s([^;]*)/),t&&t[1]?i.ie=e(t[1]):(t=n.match(/Gecko\/([^\s]*)/),t&&(i.gecko=1,t=n.match(/rv:([^\s\)]*)/),t&&t[1]&&(i.gecko=e(t[1]))))))),i}(),function(){if(YAHOO.namespace("util","widget","example"),"undefined"!=typeof YAHOO_config){var t,e=YAHOO_config.listener,i=YAHOO.env.listeners,n=!0;if(e){for(t=0;t<i.length;t++)if(i[t]==e){n=!1;break}n&&i.push(e)}}}(),YAHOO.lang=YAHOO.lang||{},function(){var t=YAHOO.lang,e=Object.prototype,i="[object Array]",n="[object Function]",o="[object Object]",s=[],r=["toString","valueOf"],a={isArray:function(t){return e.toString.apply(t)===i},isBoolean:function(t){return"boolean"==typeof t},isFunction:function(t){return"function"==typeof t||e.toString.apply(t)===n},isNull:function(t){return null===t},isNumber:function(t){return"number"==typeof t&&isFinite(t)},isObject:function(e){return e&&("object"==typeof e||t.isFunction(e))||!1},isString:function(t){return"string"==typeof t},isUndefined:function(t){return"undefined"==typeof t},_IEEnumFix:YAHOO.env.ua.ie?function(i,n){var o,s,a;for(o=0;o<r.length;o+=1)s=r[o],a=n[s],t.isFunction(a)&&a!=e[s]&&(i[s]=a)}:function(){},extend:function(i,n,o){if(!n||!i)throw new Error("extend failed, please check that all dependencies are included.");var s,r=function(){};if(r.prototype=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.superclass=n.prototype,n.prototype.constructor==e.constructor&&(n.prototype.constructor=n),o){for(s in o)t.hasOwnProperty(o,s)&&(i.prototype[s]=o[s]);t._IEEnumFix(i.prototype,o)}},augmentObject:function(e,i){if(!i||!e)throw new Error("Absorb failed, verify dependencies.");var n,o,s=arguments,r=s[2];if(r&&r!==!0)for(n=2;n<s.length;n+=1)e[s[n]]=i[s[n]];else{for(o in i)!r&&o in e||(e[o]=i[o]);t._IEEnumFix(e,i)}},augmentProto:function(e,i){if(!i||!e)throw new Error("Augment failed, verify dependencies.");var n,o=[e.prototype,i.prototype];for(n=2;n<arguments.length;n+=1)o.push(arguments[n]);t.augmentObject.apply(this,o)},dump:function(e,i){var n,o,s=[],r="{...}",a="f(){...}",l=", ",c=" => ";if(!t.isObject(e))return e+"";if(e instanceof Date||"nodeType"in e&&"tagName"in e)return e;if(t.isFunction(e))return a;if(i=t.isNumber(i)?i:3,t.isArray(e)){for(s.push("["),n=0,o=e.length;o>n;n+=1)s.push(t.isObject(e[n])?i>0?t.dump(e[n],i-1):r:e[n]),s.push(l);s.length>1&&s.pop(),s.push("]")}else{s.push("{");for(n in e)t.hasOwnProperty(e,n)&&(s.push(n+c),s.push(t.isObject(e[n])?i>0?t.dump(e[n],i-1):r:e[n]),s.push(l));s.length>1&&s.pop(),s.push("}")}return s.join("")},substitute:function(e,i,n){for(var s,r,a,l,c,u,d,h,f,p=[],g="dump",m=" ",v="{",y="}";s=e.lastIndexOf(v),!(0>s||(r=e.indexOf(y,s),s+1>=r));)d=e.substring(s+1,r),l=d,u=null,a=l.indexOf(m),a>-1&&(u=l.substring(a+1),l=l.substring(0,a)),c=i[l],n&&(c=n(l,c,u)),t.isObject(c)?t.isArray(c)?c=t.dump(c,parseInt(u,10)):(u=u||"",h=u.indexOf(g),h>-1&&(u=u.substring(4)),f=c.toString(),c=f===o||h>-1?t.dump(c,parseInt(u,10)):f):t.isString(c)||t.isNumber(c)||(c="~-"+p.length+"-~",p[p.length]=d),e=e.substring(0,s)+c+e.substring(r+1);for(s=p.length-1;s>=0;s-=1)e=e.replace(new RegExp("~-"+s+"-~"),"{"+p[s]+"}","g");return e},trim:function(t){try{return t.replace(/^\s+|\s+$/g,"")}catch(e){return t}},merge:function(){var e,i={},n=arguments,o=n.length;for(e=0;o>e;e+=1)t.augmentObject(i,n[e],!0);return i},later:function(e,i,n,o,r){e=e||0,i=i||{};var a,l,c=n,u=o;if(t.isString(n)&&(c=i[n]),!c)throw new TypeError("method undefined");return u&&!t.isArray(u)&&(u=[o]),a=function(){c.apply(i,u||s)},l=r?setInterval(a,e):setTimeout(a,e),{interval:r,cancel:function(){this.interval?clearInterval(l):clearTimeout(l)}}},isValue:function(e){return t.isObject(e)||t.isString(e)||t.isNumber(e)||t.isBoolean(e)}};t.hasOwnProperty=e.hasOwnProperty?function(t,e){return t&&t.hasOwnProperty(e)}:function(e,i){return!t.isUndefined(e[i])&&e.constructor.prototype[i]!==e[i]},a.augmentObject(t,a,!0),YAHOO.util.Lang=t,t.augment=t.augmentProto,YAHOO.augment=t.augmentProto,YAHOO.extend=t.extend}(),YAHOO.register("yahoo",YAHOO,{version:"2.8.1",build:"19"}),function(){YAHOO.env._id_counter=YAHOO.env._id_counter||0;var t=YAHOO.util,e=YAHOO.lang,i=YAHOO.env.ua,n=YAHOO.lang.trim,o={},s={},r=/^t(?:able|d|h)$/i,a=/color$/i,l=window.document,c=l.documentElement,u="ownerDocument",d="defaultView",h="documentElement",f="compatMode",p="offsetLeft",g="offsetTop",m="offsetParent",v="parentNode",y="nodeType",b="tagName",w="scrollLeft",_="scrollTop",C="getBoundingClientRect",k="getComputedStyle",S="currentStyle",x="CSS1Compat",D="BackCompat",T="class",O="className",E="",A=" ",M="(?:^|\\s)",I="(?= |$)",P="g",R="position",j="fixed",Y="relative",F="left",L="top",N="medium",H="borderLeftWidth",B="borderTopWidth",U=i.opera,$=i.webkit,G=i.gecko,W=i.ie;t.Dom={CUSTOM_ATTRIBUTES:c.hasAttribute?{htmlFor:"for",className:T}:{"for":"htmlFor","class":O},DOT_ATTRIBUTES:{},get:function(e){var i,n,o,s,r,a;if(e){if(e[y]||e.item)return e;if("string"==typeof e){if(i=e,e=l.getElementById(e),a=e?e.attributes:null,e&&a&&a.id&&a.id.value===i)return e;if(e&&l.all)for(e=null,n=l.all[i],s=0,r=n.length;r>s;++s)if(n[s].id===i)return n[s];return e}if(YAHOO.util.Element&&e instanceof YAHOO.util.Element&&(e=e.get("element")),"length"in e){for(o=[],s=0,r=e.length;r>s;++s)o[o.length]=t.Dom.get(e[s]);return o}return e}return null},getComputedStyle:function(e,i){return window[k]?e[u][d][k](e,null)[i]:e[S]?t.Dom.IE_ComputedStyle.get(e,i):void 0},getStyle:function(e,i){return t.Dom.batch(e,t.Dom._getStyle,i)},_getStyle:function(){return window[k]?function(e,i){i="float"===i?i="cssFloat":t.Dom._toCamel(i);var n,o=e.style[i];return o||(n=e[u][d][k](e,null),n&&(o=n[i])),o}:c[S]?function(e,i){var n;switch(i){case"opacity":n=100;try{n=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(o){try{n=e.filters("alpha").opacity}catch(s){}}return n/100;case"float":i="styleFloat";default:return i=t.Dom._toCamel(i),n=e[S]?e[S][i]:null,e.style[i]||n}}:void 0}(),setStyle:function(e,i,n){t.Dom.batch(e,t.Dom._setStyle,{prop:i,val:n})},_setStyle:function(){return W?function(i,n){var o=t.Dom._toCamel(n.prop),s=n.val;if(i)switch(o){case"opacity":e.isString(i.style.filter)&&(i.style.filter="alpha(opacity="+100*s+")",i[S]&&i[S].hasLayout||(i.style.zoom=1));break;case"float":o="styleFloat";default:i.style[o]=s}}:function(e,i){var n=t.Dom._toCamel(i.prop),o=i.val;e&&("float"==n&&(n="cssFloat"),e.style[n]=o)}}(),getXY:function(e){return t.Dom.batch(e,t.Dom._getXY)},_canPosition:function(e){return"none"!==t.Dom._getStyle(e,"display")&&t.Dom._inDoc(e)},_getXY:function(){return l[h][C]?function(e){var n,o,s,r,a,l,c,d,p,g=Math.floor,m=!1;return t.Dom._canPosition(e)&&(s=e[C](),r=e[u],n=t.Dom.getDocumentScrollLeft(r),o=t.Dom.getDocumentScrollTop(r),m=[g(s[F]),g(s[L])],W&&i.ie<8&&(a=2,l=2,c=r[f],6===i.ie&&c!==D&&(a=0,l=0),c===D&&(d=q(r[h],H),p=q(r[h],B),d!==N&&(a=parseInt(d,10)),p!==N&&(l=parseInt(p,10))),m[0]-=a,m[1]-=l),(o||n)&&(m[0]+=n,m[1]+=o),m[0]=g(m[0]),m[1]=g(m[1])),m}:function(e){var n,o,s,r,a,l=!1,c=e;if(t.Dom._canPosition(e)){for(l=[e[p],e[g]],n=t.Dom.getDocumentScrollLeft(e[u]),o=t.Dom.getDocumentScrollTop(e[u]),a=G||i.webkit>519?!0:!1;c=c[m];)l[0]+=c[p],l[1]+=c[g],a&&(l=t.Dom._calcBorders(c,l));if(t.Dom._getStyle(e,R)!==j){for(c=e;(c=c[v])&&c[b];)s=c[_],r=c[w],G&&"visible"!==t.Dom._getStyle(c,"overflow")&&(l=t.Dom._calcBorders(c,l)),(s||r)&&(l[0]-=r,l[1]-=s);l[0]+=n,l[1]+=o}else U?(l[0]-=n,l[1]-=o):($||G)&&(l[0]+=n,l[1]+=o);l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1])}return l}}(),getX:function(e){var i=function(e){return t.Dom.getXY(e)[0]};return t.Dom.batch(e,i,t.Dom,!0)},getY:function(e){var i=function(e){return t.Dom.getXY(e)[1]};return t.Dom.batch(e,i,t.Dom,!0)},setXY:function(e,i,n){t.Dom.batch(e,t.Dom._setXY,{pos:i,noRetry:n})},_setXY:function(e,i){var n,o,s=t.Dom._getStyle(e,R),r=t.Dom.setStyle,a=i.pos,l=i.noRetry,c=[parseInt(t.Dom.getComputedStyle(e,F),10),parseInt(t.Dom.getComputedStyle(e,L),10)];return"static"==s&&(s=Y,r(e,R,s)),n=t.Dom._getXY(e),a&&n!==!1?(isNaN(c[0])&&(c[0]=s==Y?0:e[p]),isNaN(c[1])&&(c[1]=s==Y?0:e[g]),null!==a[0]&&r(e,F,a[0]-n[0]+c[0]+"px"),null!==a[1]&&r(e,L,a[1]-n[1]+c[1]+"px"),void(l||(o=t.Dom._getXY(e),(null!==a[0]&&o[0]!=a[0]||null!==a[1]&&o[1]!=a[1])&&t.Dom._setXY(e,{pos:a,noRetry:!0})))):!1},setX:function(e,i){t.Dom.setXY(e,[i,null])},setY:function(e,i){t.Dom.setXY(e,[null,i])},getRegion:function(e){var i=function(e){var i=!1;return t.Dom._canPosition(e)&&(i=t.Region.getRegion(e)),i};return t.Dom.batch(e,i,t.Dom,!0)},getClientWidth:function(){return t.Dom.getViewportWidth()},getClientHeight:function(){return t.Dom.getViewportHeight()},getElementsByClassName:function(e,i,n,o,s,r){if(i=i||"*",n=n?t.Dom.get(n):null||l,!n)return[];for(var a=[],c=n.getElementsByTagName(i),u=t.Dom.hasClass,d=0,h=c.length;h>d;++d)u(c[d],e)&&(a[a.length]=c[d]);return o&&t.Dom.batch(a,o,s,r),a},hasClass:function(e,i){return t.Dom.batch(e,t.Dom._hasClass,i)},_hasClass:function(e,i){var n,o=!1;return e&&i&&(n=t.Dom._getAttribute(e,O)||E,o=i.exec?i.test(n):i&&(A+n+A).indexOf(A+i+A)>-1),o},addClass:function(e,i){return t.Dom.batch(e,t.Dom._addClass,i)},_addClass:function(e,i){var o,s=!1;return e&&i&&(o=t.Dom._getAttribute(e,O)||E,t.Dom._hasClass(e,i)||(t.Dom.setAttribute(e,O,n(o+A+i)),s=!0)),s},removeClass:function(e,i){return t.Dom.batch(e,t.Dom._removeClass,i)},_removeClass:function(e,i){var o,s,r,a=!1;return e&&i&&(o=t.Dom._getAttribute(e,O)||E,t.Dom.setAttribute(e,O,o.replace(t.Dom._getClassRegex(i),E)),s=t.Dom._getAttribute(e,O),o!==s&&(t.Dom.setAttribute(e,O,n(s)),a=!0,""===t.Dom._getAttribute(e,O)&&(r=e.hasAttribute&&e.hasAttribute(T)?T:O,e.removeAttribute(r)))),a},replaceClass:function(e,i,n){return t.Dom.batch(e,t.Dom._replaceClass,{from:i,to:n})},_replaceClass:function(e,i){var o,s,r,a,l=!1;return e&&i&&(s=i.from,r=i.to,r?s?s!==r&&(a=t.Dom._getAttribute(e,O)||E,o=(A+a.replace(t.Dom._getClassRegex(s),A+r)).split(t.Dom._getClassRegex(r)),o.splice(1,0,A+r),t.Dom.setAttribute(e,O,n(o.join(E))),l=!0):l=t.Dom._addClass(e,i.to):l=!1),l},generateId:function(e,i){i=i||"yui-gen";var n=function(e){if(e&&e.id)return e.id;var n=i+YAHOO.env._id_counter++;if(e){if(e[u]&&e[u].getElementById(n))return t.Dom.generateId(e,n+i);e.id=n}return n};return t.Dom.batch(e,n,t.Dom,!0)||n.apply(t.Dom,arguments)},isAncestor:function(e,i){e=t.Dom.get(e),i=t.Dom.get(i);var n=!1;return e&&i&&e[y]&&i[y]&&(e.contains&&e!==i?n=e.contains(i):e.compareDocumentPosition&&(n=!!(16&e.compareDocumentPosition(i)))),n},inDocument:function(e,i){return t.Dom._inDoc(t.Dom.get(e),i)},_inDoc:function(e,i){var n=!1;return e&&e[b]&&(i=i||e[u],n=t.Dom.isAncestor(i[h],e)),n},getElementsBy:function(e,i,n,o,s,r,a){if(i=i||"*",n=n?t.Dom.get(n):null||l,!n)return[];for(var c=[],u=n.getElementsByTagName(i),d=0,h=u.length;h>d;++d)if(e(u[d])){if(a){c=u[d];break}c[c.length]=u[d]}return o&&t.Dom.batch(c,o,s,r),c},getElementBy:function(e,i,n){return t.Dom.getElementsBy(e,i,n,null,null,null,!0)},batch:function(e,i,n,o){var s=[],r=o?n:window;if(e=e&&(e[b]||e.item)?e:t.Dom.get(e),!e||!i)return!1;if(e[b]||void 0===e.length)return i.call(r,e,n);for(var a=0;a<e.length;++a)s[s.length]=i.call(r,e[a],n);return s},getDocumentHeight:function(){var e=l[f]!=x||$?l.body.scrollHeight:c.scrollHeight,i=Math.max(e,t.Dom.getViewportHeight());return i},getDocumentWidth:function(){var e=l[f]!=x||$?l.body.scrollWidth:c.scrollWidth,i=Math.max(e,t.Dom.getViewportWidth());return i},getViewportHeight:function(){var t=self.innerHeight,e=l[f];return!e&&!W||U||(t=e==x?c.clientHeight:l.body.clientHeight),t},getViewportWidth:function(){var t=self.innerWidth,e=l[f];return(e||W)&&(t=e==x?c.clientWidth:l.body.clientWidth),t},getAncestorBy:function(e,i){for(;e=e[v];)if(t.Dom._testElement(e,i))return e;return null},getAncestorByClassName:function(e,i){if(e=t.Dom.get(e),!e)return null;var n=function(e){return t.Dom.hasClass(e,i)};return t.Dom.getAncestorBy(e,n)},getAncestorByTagName:function(e,i){if(e=t.Dom.get(e),!e)return null;var n=function(t){return t[b]&&t[b].toUpperCase()==i.toUpperCase()};return t.Dom.getAncestorBy(e,n)},getPreviousSiblingBy:function(e,i){for(;e;)if(e=e.previousSibling,t.Dom._testElement(e,i))return e;return null},getPreviousSibling:function(e){return e=t.Dom.get(e),e?t.Dom.getPreviousSiblingBy(e):null},getNextSiblingBy:function(e,i){for(;e;)if(e=e.nextSibling,t.Dom._testElement(e,i))return e;return null},getNextSibling:function(e){return e=t.Dom.get(e),e?t.Dom.getNextSiblingBy(e):null},getFirstChildBy:function(e,i){var n=t.Dom._testElement(e.firstChild,i)?e.firstChild:null;return n||t.Dom.getNextSiblingBy(e.firstChild,i)},getFirstChild:function(e,i){return e=t.Dom.get(e),e?t.Dom.getFirstChildBy(e):null},getLastChildBy:function(e,i){if(!e)return null;var n=t.Dom._testElement(e.lastChild,i)?e.lastChild:null;return n||t.Dom.getPreviousSiblingBy(e.lastChild,i)},getLastChild:function(e){return e=t.Dom.get(e),t.Dom.getLastChildBy(e)},getChildrenBy:function(e,i){var n=t.Dom.getFirstChildBy(e,i),o=n?[n]:[];return t.Dom.getNextSiblingBy(n,function(t){return(!i||i(t))&&(o[o.length]=t),!1}),o},getChildren:function(e){return e=t.Dom.get(e),t.Dom.getChildrenBy(e)},getDocumentScrollLeft:function(t){return t=t||l,Math.max(t[h].scrollLeft,t.body.scrollLeft)},getDocumentScrollTop:function(t){return t=t||l,Math.max(t[h].scrollTop,t.body.scrollTop)},insertBefore:function(e,i){return e=t.Dom.get(e),i=t.Dom.get(i),e&&i&&i[v]?i[v].insertBefore(e,i):null},insertAfter:function(e,i){return e=t.Dom.get(e),i=t.Dom.get(i),e&&i&&i[v]?i.nextSibling?i[v].insertBefore(e,i.nextSibling):i[v].appendChild(e):null},getClientRegion:function(){var e=t.Dom.getDocumentScrollTop(),i=t.Dom.getDocumentScrollLeft(),n=t.Dom.getViewportWidth()+i,o=t.Dom.getViewportHeight()+e;return new t.Region(e,n,o,i)},setAttribute:function(e,i,n){t.Dom.batch(e,t.Dom._setAttribute,{attr:i,val:n})},_setAttribute:function(e,i){var n=t.Dom._toCamel(i.attr),o=i.val;e&&e.setAttribute&&(t.Dom.DOT_ATTRIBUTES[n]?e[n]=o:(n=t.Dom.CUSTOM_ATTRIBUTES[n]||n,e.setAttribute(n,o)))},getAttribute:function(e,i){return t.Dom.batch(e,t.Dom._getAttribute,i)},_getAttribute:function(e,i){var n;return i=t.Dom.CUSTOM_ATTRIBUTES[i]||i,e&&e.getAttribute&&(n=e.getAttribute(i,2)),n},_toCamel:function(t){function e(t,e){return e.toUpperCase()}var i=o;return i[t]||(i[t]=-1===t.indexOf("-")?t:t.replace(/-([a-z])/gi,e))},_getClassRegex:function(e){var i;return void 0!==e&&(e.exec?i=e:(i=s[e],i||(e=e.replace(t.Dom._patterns.CLASS_RE_TOKENS,"\\$1"),i=s[e]=new RegExp(M+e+I,P)))),i},_patterns:{ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}\\])/g},_testElement:function(t,e){return t&&1==t[y]&&(!e||e(t))},_calcBorders:function(e,i){var n=parseInt(t.Dom[k](e,B),10)||0,o=parseInt(t.Dom[k](e,H),10)||0;return G&&r.test(e[b])&&(n=0,o=0),i[0]+=o,i[1]+=n,i}};var q=t.Dom[k];i.opera&&(t.Dom[k]=function(e,i){var n=q(e,i);return a.test(i)&&(n=t.Dom.Color.toRGB(n)),n}),i.webkit&&(t.Dom[k]=function(t,e){var i=q(t,e);return"rgba(0, 0, 0, 0)"===i&&(i="transparent"),i}),i.ie&&i.ie>=8&&l.documentElement.hasAttribute&&(t.Dom.DOT_ATTRIBUTES.type=!0)}(),YAHOO.util.Region=function(t,e,i,n){this.top=t,this.y=t,this[1]=t,this.right=e,this.bottom=i,this.left=n,this.x=n,this[0]=n,this.width=this.right-this.left,this.height=this.bottom-this.top},YAHOO.util.Region.prototype.contains=function(t){return t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom},YAHOO.util.Region.prototype.getArea=function(){return(this.bottom-this.top)*(this.right-this.left)},YAHOO.util.Region.prototype.intersect=function(t){var e=Math.max(this.top,t.top),i=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),o=Math.max(this.left,t.left);return n>=e&&i>=o?new YAHOO.util.Region(e,i,n,o):null},YAHOO.util.Region.prototype.union=function(t){var e=Math.min(this.top,t.top),i=Math.max(this.right,t.right),n=Math.max(this.bottom,t.bottom),o=Math.min(this.left,t.left);return new YAHOO.util.Region(e,i,n,o)},YAHOO.util.Region.prototype.toString=function(){return"Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+", height: "+this.height+", width: "+this.width+"}"},YAHOO.util.Region.getRegion=function(t){var e=YAHOO.util.Dom.getXY(t),i=e[1],n=e[0]+t.offsetWidth,o=e[1]+t.offsetHeight,s=e[0];return new YAHOO.util.Region(i,n,o,s)},YAHOO.util.Point=function(t,e){YAHOO.lang.isArray(t)&&(e=t[1],t=t[0]),YAHOO.util.Point.superclass.constructor.call(this,e,t,e,t)},YAHOO.extend(YAHOO.util.Point,YAHOO.util.Region),function(){var t=YAHOO.util,e="clientTop",i="clientLeft",n="parentNode",o="right",s="hasLayout",r="px",a="opacity",l="auto",c="borderLeftWidth",u="borderTopWidth",d="borderRightWidth",h="borderBottomWidth",f="visible",p="transparent",g="height",m="width",v="style",y="currentStyle",b=/^width|height$/,w=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,_={get:function(e,i){var n="",o=e[y][i];return n=i===a?t.Dom.getStyle(e,a):!o||o.indexOf&&o.indexOf(r)>-1?o:t.Dom.IE_COMPUTED[i]?t.Dom.IE_COMPUTED[i](e,i):w.test(o)?t.Dom.IE.ComputedStyle.getPixel(e,i):o},getOffset:function(t,e){var i,n=t[y][e],o=e.charAt(0).toUpperCase()+e.substr(1),s="offset"+o,a="pixel"+o,c="";return n==l?(i=t[s],void 0===i&&(c=0),c=i,b.test(e)&&(t[v][e]=i,t[s]>i&&(c=i-(t[s]-i)),t[v][e]=l)):(t[v][a]||t[v][e]||(t[v][e]=n),c=t[v][a]),c+r},getBorderWidth:function(t,n){var o=null;switch(t[y][s]||(t[v].zoom=1),n){case u:o=t[e];break;case h:o=t.offsetHeight-t.clientHeight-t[e];break;case c:o=t[i];break;case d:o=t.offsetWidth-t.clientWidth-t[i]}return o+r},getPixel:function(t,e){var i=null,n=t[y][o],s=t[y][e];return t[v][o]=s,i=t[v].pixelRight,t[v][o]=n,i+r},getMargin:function(e,i){var n;return n=e[y][i]==l?0+r:t.Dom.IE.ComputedStyle.getPixel(e,i)},getVisibility:function(t,e){for(var i;(i=t[y])&&"inherit"==i[e];)t=t[n];return i?i[e]:f},getColor:function(e,i){return t.Dom.Color.toRGB(e[y][i])||p},getBorderColor:function(e,i){var n=e[y],o=n[i]||n.color;return t.Dom.Color.toRGB(t.Dom.Color.toHex(o))}},C={};C.top=C.right=C.bottom=C.left=C[m]=C[g]=_.getOffset,C.color=_.getColor,C[u]=C[d]=C[h]=C[c]=_.getBorderWidth,C.marginTop=C.marginRight=C.marginBottom=C.marginLeft=_.getMargin,C.visibility=_.getVisibility,C.borderColor=C.borderTopColor=C.borderRightColor=C.borderBottomColor=C.borderLeftColor=_.getBorderColor,t.Dom.IE_COMPUTED=C,t.Dom.IE_ComputedStyle=_}(),function(){var t="toString",e=parseInt,i=RegExp,n=YAHOO.util;n.Dom.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(t){return n.Dom.Color.re_RGB.test(t)||(t=n.Dom.Color.toHex(t)),n.Dom.Color.re_hex.exec(t)&&(t="rgb("+[e(i.$1,16),e(i.$2,16),e(i.$3,16)].join(", ")+")"),t},toHex:function(e){if(e=n.Dom.Color.KEYWORDS[e]||e,n.Dom.Color.re_RGB.exec(e)){var o=1===i.$1.length?"0"+i.$1:Number(i.$1),s=1===i.$2.length?"0"+i.$2:Number(i.$2),r=1===i.$3.length?"0"+i.$3:Number(i.$3);e=[o[t](16),s[t](16),r[t](16)].join("")}return e.length<6&&(e=e.replace(n.Dom.Color.re_hex3,"$1$1")),"transparent"!==e&&e.indexOf("#")<0&&(e="#"+e),e.toLowerCase()}}}(),YAHOO.register("dom",YAHOO.util.Dom,{version:"2.8.1",build:"19"}),YAHOO.util.CustomEvent=function(t,e,i,n,o){this.type=t,this.scope=e||window,this.silent=i,this.fireOnce=o,this.fired=!1,this.firedWith=null,this.signature=n||YAHOO.util.CustomEvent.LIST,this.subscribers=[],!this.silent;var s="_YUICEOnSubscribe";t!==s&&(this.subscribeEvent=new YAHOO.util.CustomEvent(s,this,!0)),this.lastError=null},YAHOO.util.CustomEvent.LIST=0,YAHOO.util.CustomEvent.FLAT=1,YAHOO.util.CustomEvent.prototype={subscribe:function(t,e,i){if(!t)throw new Error("Invalid callback for subscriber to '"+this.type+"'");this.subscribeEvent&&this.subscribeEvent.fire(t,e,i);var n=new YAHOO.util.Subscriber(t,e,i);this.fireOnce&&this.fired?this.notify(n,this.firedWith):this.subscribers.push(n)},unsubscribe:function(t,e){if(!t)return this.unsubscribeAll();for(var i=!1,n=0,o=this.subscribers.length;o>n;++n){var s=this.subscribers[n];s&&s.contains(t,e)&&(this._delete(n),i=!0)}return i},fire:function(){this.lastError=null;var t,e=this.subscribers.length,i=[].slice.call(arguments,0),n=!0,o=!1;if(this.fireOnce){if(this.fired)return!0;this.firedWith=i}if(this.fired=!0,!e&&this.silent)return!0;!this.silent;var s=this.subscribers.slice();for(t=0;e>t;++t){var r=s[t];if(r){if(n=this.notify(r,i),!1===n){!this.silent;break}}else o=!0}return n!==!1},notify:function(t,e){var i,n=null,o=t.getScope(this.scope),s=YAHOO.util.Event.throwErrors;if(!this.silent,this.signature==YAHOO.util.CustomEvent.FLAT){e.length>0&&(n=e[0]);try{i=t.fn.call(o,n,t.obj)}catch(r){if(this.lastError=r,s)throw r}}else try{i=t.fn.call(o,this.type,e,t.obj)}catch(a){if(this.lastError=a,s)throw a}return i},unsubscribeAll:function(){var t,e=this.subscribers.length;for(t=e-1;t>-1;t--)this._delete(t);return this.subscribers=[],e},_delete:function(t){var e=this.subscribers[t];e&&(delete e.fn,delete e.obj),this.subscribers.splice(t,1)},toString:function(){return"CustomEvent: '"+this.type+"', context: "+this.scope}},YAHOO.util.Subscriber=function(t,e,i){this.fn=t,this.obj=YAHOO.lang.isUndefined(e)?null:e,this.overrideContext=i},YAHOO.util.Subscriber.prototype.getScope=function(t){return this.overrideContext?this.overrideContext===!0?this.obj:this.overrideContext:t},YAHOO.util.Subscriber.prototype.contains=function(t,e){return e?this.fn==t&&this.obj==e:this.fn==t},YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", overrideContext: "+(this.overrideContext||"no")+" }"},YAHOO.util.Event||(YAHOO.util.Event=function(){var t=!1,e=[],i=[],n=0,o=[],s=0,r={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9},a=YAHOO.env.ua.ie,l="focusin",c="focusout";return{POLL_RETRYS:500,POLL_INTERVAL:40,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,CAPTURE:7,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:a,_interval:null,_dri:null,_specialTypes:{focusin:a?"focusin":"focus",focusout:a?"focusout":"blur"},DOMReady:!1,throwErrors:!1,startInterval:function(){this._interval||(this._interval=YAHOO.lang.later(this.POLL_INTERVAL,this,this._tryPreloadAttach,null,!0))},onAvailable:function(t,e,i,s,r){for(var a=YAHOO.lang.isString(t)?[t]:t,l=0;l<a.length;l+=1)o.push({id:a[l],fn:e,obj:i,overrideContext:s,checkReady:r});n=this.POLL_RETRYS,this.startInterval()},onContentReady:function(t,e,i,n){this.onAvailable(t,e,i,n,!0)},onDOMReady:function(){this.DOMReadyEvent.subscribe.apply(this.DOMReadyEvent,arguments)},_addListener:function(t,n,o,s,r,a){if(!o||!o.call)return!1;if(this._isValidCollection(t)){for(var l=!0,c=0,u=t.length;u>c;++c)l=this.on(t[c],n,o,s,r)&&l;return l}if(YAHOO.lang.isString(t)){var d=this.getEl(t);if(!d)return this.onAvailable(t,function(){YAHOO.util.Event._addListener(t,n,o,s,r,a)}),!0;t=d}if(!t)return!1;if("unload"==n&&s!==this)return i[i.length]=[t,n,o,s,r],!0;var h=t;r&&(h=r===!0?s:r);var f=function(e){return o.call(h,YAHOO.util.Event.getEvent(e,t),s)},p=[t,n,o,f,h,s,r,a],g=e.length;e[g]=p;try{this._simpleAdd(t,n,f,a)}catch(m){return this.lastError=m,this.removeListener(t,n,o),!1}return!0},_getType:function(t){return this._specialTypes[t]||t},addListener:function(t,e,i,n,o){var s=e!=l&&e!=c||YAHOO.env.ua.ie?!1:!0;return this._addListener(t,this._getType(e),i,n,o,s)},addFocusListener:function(t,e,i,n){return this.on(t,l,e,i,n)},removeFocusListener:function(t,e){return this.removeListener(t,l,e)},addBlurListener:function(t,e,i,n){return this.on(t,c,e,i,n)},removeBlurListener:function(t,e){return this.removeListener(t,c,e)},removeListener:function(t,n,o){var s,r;if(n=this._getType(n),"string"==typeof t)t=this.getEl(t);else if(this._isValidCollection(t)){var a=!0;for(s=t.length-1;s>-1;s--)a=this.removeListener(t[s],n,o)&&a;return a}if(!o||!o.call)return this.purgeElement(t,!1,n);if("unload"==n){for(s=i.length-1;s>-1;s--)if(r=i[s],r&&r[0]==t&&r[1]==n&&r[2]==o)return i.splice(s,1),!0;return!1}var l=null,c=arguments[3];if("undefined"==typeof c&&(c=this._getCacheIndex(e,t,n,o)),c>=0&&(l=e[c]),!t||!l)return!1;var u=l[this.CAPTURE]===!0?!0:!1;try{this._simpleRemove(t,n,l[this.WFN],u)}catch(d){return this.lastError=d,!1}return delete e[c][this.WFN],delete e[c][this.FN],e.splice(c,1),!0},getTarget:function(t,e){var i=t.target||t.srcElement;return this.resolveTextNode(i)},resolveTextNode:function(t){try{if(t&&3==t.nodeType)return t.parentNode}catch(e){}return t},getPageX:function(t){var e=t.pageX;return e||0===e||(e=t.clientX||0,this.isIE&&(e+=this._getScrollLeft())),e},getPageY:function(t){var e=t.pageY;return e||0===e||(e=t.clientY||0,this.isIE&&(e+=this._getScrollTop())),e},getXY:function(t){return[this.getPageX(t),this.getPageY(t)]},getRelatedTarget:function(t){var e=t.relatedTarget;return e||("mouseout"==t.type?e=t.toElement:"mouseover"==t.type&&(e=t.fromElement)),this.resolveTextNode(e)},getTime:function(t){if(!t.time){var e=(new Date).getTime();try{t.time=e}catch(i){return this.lastError=i,e}}return t.time},stopEvent:function(t){this.stopPropagation(t),this.preventDefault(t)},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},getEvent:function(t,e){var i=t||window.event;if(!i)for(var n=this.getEvent.caller;n&&(i=n.arguments[0],!i||Event!=i.constructor);)n=n.caller;return i},getCharCode:function(t){var e=t.keyCode||t.charCode||0;return YAHOO.env.ua.webkit&&e in r&&(e=r[e]),e},_getCacheIndex:function(t,e,i,n){for(var o=0,s=t.length;s>o;o+=1){var r=t[o];if(r&&r[this.FN]==n&&r[this.EL]==e&&r[this.TYPE]==i)return o}return-1},generateId:function(t){var e=t.id;return e||(e="yuievtautoid-"+s,++s,t.id=e),e},_isValidCollection:function(t){try{return t&&"string"!=typeof t&&t.length&&!t.tagName&&!t.alert&&"undefined"!=typeof t[0]}catch(e){return!1}},elCache:{},getEl:function(t){return"string"==typeof t?document.getElementById(t):t},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",YAHOO,0,0,1),_load:function(e){if(!t){t=!0;var i=YAHOO.util.Event;i._ready(),
i._tryPreloadAttach()}},_ready:function(t){var e=YAHOO.util.Event;e.DOMReady||(e.DOMReady=!0,e.DOMReadyEvent.fire(),e._simpleRemove(document,"DOMContentLoaded",e._ready))},_tryPreloadAttach:function(){if(0===o.length)return n=0,void(this._interval&&(this._interval.cancel(),this._interval=null));if(!this.locked){if(this.isIE&&!this.DOMReady)return void this.startInterval();this.locked=!0;var e=!t;e||(e=n>0&&o.length>0);var i,s,r,a,l=[],c=function(t,e){var i=t;e.overrideContext&&(i=e.overrideContext===!0?e.obj:e.overrideContext),e.fn.call(i,e.obj)},u=[];for(i=0,s=o.length;s>i;i+=1)r=o[i],r&&(a=this.getEl(r.id),a?r.checkReady?(t||a.nextSibling||!e)&&(u.push(r),o[i]=null):(c(a,r),o[i]=null):l.push(r));for(i=0,s=u.length;s>i;i+=1)r=u[i],c(this.getEl(r.id),r);if(n--,e){for(i=o.length-1;i>-1;i--)r=o[i],r&&r.id||o.splice(i,1);this.startInterval()}else this._interval&&(this._interval.cancel(),this._interval=null);this.locked=!1}},purgeElement:function(t,e,i){var n,o,s=YAHOO.lang.isString(t)?this.getEl(t):t,r=this.getListeners(s,i);if(r)for(n=r.length-1;n>-1;n--){var a=r[n];this.removeListener(s,a.type,a.fn)}if(e&&s&&s.childNodes)for(n=0,o=s.childNodes.length;o>n;++n)this.purgeElement(s.childNodes[n],e,i)},getListeners:function(t,n){var o,s=[];n?"unload"===n?o=[i]:(n=this._getType(n),o=[e]):o=[e,i];for(var r=YAHOO.lang.isString(t)?this.getEl(t):t,a=0;a<o.length;a+=1){var l=o[a];if(l)for(var c=0,u=l.length;u>c;++c){var d=l[c];!d||d[this.EL]!==r||n&&n!==d[this.TYPE]||s.push({type:d[this.TYPE],fn:d[this.FN],obj:d[this.OBJ],adjust:d[this.OVERRIDE],scope:d[this.ADJ_SCOPE],index:c})}}return s.length?s:null},_unload:function(t){var n,o,s,r,a,l=YAHOO.util.Event,c=i.slice();for(n=0,r=i.length;r>n;++n)s=c[n],s&&(a=window,s[l.ADJ_SCOPE]&&(a=s[l.ADJ_SCOPE]===!0?s[l.UNLOAD_OBJ]:s[l.ADJ_SCOPE]),s[l.FN].call(a,l.getEvent(t,s[l.EL]),s[l.UNLOAD_OBJ]),c[n]=null);if(s=null,a=null,i=null,e){for(o=e.length-1;o>-1;o--)s=e[o],s&&l.removeListener(s[l.EL],s[l.TYPE],s[l.FN],o);s=null}l._simpleRemove(window,"unload",l._unload)},_getScrollLeft:function(){return this._getScroll()[1]},_getScrollTop:function(){return this._getScroll()[0]},_getScroll:function(){var t=document.documentElement,e=document.body;return t&&(t.scrollTop||t.scrollLeft)?[t.scrollTop,t.scrollLeft]:e?[e.scrollTop,e.scrollLeft]:[0,0]},regCE:function(){},_simpleAdd:function(){return window.addEventListener?function(t,e,i,n){t.addEventListener(e,i,n)}:window.attachEvent?function(t,e,i,n){t.attachEvent("on"+e,i)}:function(){}}(),_simpleRemove:function(){return window.removeEventListener?function(t,e,i,n){t.removeEventListener(e,i,n)}:window.detachEvent?function(t,e,i){t.detachEvent("on"+e,i)}:function(){}}()}}(),function(){var t=YAHOO.util.Event;if(t.on=t.addListener,t.onFocus=t.addFocusListener,t.onBlur=t.addBlurListener,t.isIE)if(self!==self.top)document.onreadystatechange=function(){"complete"==document.readyState&&(document.onreadystatechange=null,t._ready())};else{YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,!0);var e=document.createElement("p");t._dri=setInterval(function(){try{e.doScroll("left"),clearInterval(t._dri),t._dri=null,t._ready(),e=null}catch(i){}},t.POLL_INTERVAL)}else t.webkit&&t.webkit<525?t._dri=setInterval(function(){var e=document.readyState;("loaded"==e||"complete"==e)&&(clearInterval(t._dri),t._dri=null,t._ready())},t.POLL_INTERVAL):t._simpleAdd(document,"DOMContentLoaded",t._ready);t._simpleAdd(window,"load",t._load),t._simpleAdd(window,"unload",t._unload),t._tryPreloadAttach()}()),YAHOO.util.EventProvider=function(){},YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(t,e,i,n){this.__yui_events=this.__yui_events||{};var o=this.__yui_events[t];if(o)o.subscribe(e,i,n);else{this.__yui_subscribers=this.__yui_subscribers||{};var s=this.__yui_subscribers;s[t]||(s[t]=[]),s[t].push({fn:e,obj:i,overrideContext:n})}},unsubscribe:function(t,e,i){this.__yui_events=this.__yui_events||{};var n=this.__yui_events;if(!t){var o=!0;for(var s in n)YAHOO.lang.hasOwnProperty(n,s)&&(o=o&&n[s].unsubscribe(e,i));return o}var r=n[t];return r?r.unsubscribe(e,i):!1},unsubscribeAll:function(t){return this.unsubscribe(t)},createEvent:function(t,e){this.__yui_events=this.__yui_events||{};var i,n=e||{},o=this.__yui_events;if(o[t]);else{i=new YAHOO.util.CustomEvent(t,n.scope||this,n.silent,YAHOO.util.CustomEvent.FLAT,n.fireOnce),o[t]=i,n.onSubscribeCallback&&i.subscribeEvent.subscribe(n.onSubscribeCallback),this.__yui_subscribers=this.__yui_subscribers||{};var s=this.__yui_subscribers[t];if(s)for(var r=0;r<s.length;++r)i.subscribe(s[r].fn,s[r].obj,s[r].overrideContext)}return o[t]},fireEvent:function(t){this.__yui_events=this.__yui_events||{};var e=this.__yui_events[t];if(!e)return null;for(var i=[],n=1;n<arguments.length;++n)i.push(arguments[n]);return e.fire.apply(e,i)},hasEvent:function(t){return this.__yui_events&&this.__yui_events[t]?!0:!1}},function(){var t=YAHOO.util.Event,e=YAHOO.lang;YAHOO.util.KeyListener=function(i,n,o,s){function r(e,i){if(n.shift||(n.shift=!1),n.alt||(n.alt=!1),n.ctrl||(n.ctrl=!1),e.shiftKey==n.shift&&e.altKey==n.alt&&e.ctrlKey==n.ctrl){var o,s,r=n.keys;if(YAHOO.lang.isArray(r)){for(var l=0;l<r.length;l++)if(o=r[l],s=t.getCharCode(e),o==s){a.fire(s,e);break}}else s=t.getCharCode(e),r==s&&a.fire(s,e)}}s||(s=YAHOO.util.KeyListener.KEYDOWN);var a=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled"),this.disabledEvent=new YAHOO.util.CustomEvent("disabled"),e.isString(i)&&(i=document.getElementById(i)),e.isFunction(o)?a.subscribe(o):a.subscribe(o.fn,o.scope,o.correctScope),this.enable=function(){this.enabled||(t.on(i,s,r),this.enabledEvent.fire(n)),this.enabled=!0},this.disable=function(){this.enabled&&(t.removeListener(i,s,r),this.disabledEvent.fire(n)),this.enabled=!1},this.toString=function(){return"KeyListener ["+n.keys+"] "+i.tagName+(i.id?"["+i.id+"]":"")}};var i=YAHOO.util.KeyListener;i.KEYDOWN="keydown",i.KEYUP="keyup",i.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38}}(),YAHOO.register("event",YAHOO.util.Event,{version:"2.8.1",build:"19"}),YAHOO.register("yahoo-dom-event",YAHOO,{version:"2.8.1",build:"19"}),function(){var t=YAHOO.util;t.Selector={_foundCache:[],_regexCache:{},_re:{nth:/^(?:([-]?\d*)(n){1}|(odd|even)$)*([-+]?\d*)$/,attr:/(\[.*\])/g,urls:/^(?:href|src)/},document:window.document,attrAliases:{},shorthand:{"\\#(-?[_a-z]+[-\\w]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w]*)":"[class~=$1]"},operators:{"=":function(t,e){return t===e},"!=":function(t,e){return t!==e},"~=":function(t,e){var i=" ";return(i+t+i).indexOf(i+e+i)>-1},"|=":function(t,e){return t===e||t.slice(0,e.length+1)===e+"-"},"^=":function(t,e){return 0===t.indexOf(e)},"$=":function(t,e){return t.slice(-e.length)===e},"*=":function(t,e){return t.indexOf(e)>-1},"":function(t,e){return t}},pseudos:{root:function(t){return t===t.ownerDocument.documentElement},"nth-child":function(e,i){return t.Selector._getNth(e,i)},"nth-last-child":function(e,i){return t.Selector._getNth(e,i,null,!0)},"nth-of-type":function(e,i){return t.Selector._getNth(e,i,e.tagName)},"nth-last-of-type":function(e,i){return t.Selector._getNth(e,i,e.tagName,!0)},"first-child":function(e){return t.Selector._getChildren(e.parentNode)[0]===e},"last-child":function(e){var i=t.Selector._getChildren(e.parentNode);return i[i.length-1]===e},"first-of-type":function(e,i){return t.Selector._getChildren(e.parentNode,e.tagName)[0]},"last-of-type":function(e,i){var n=t.Selector._getChildren(e.parentNode,e.tagName);return n[n.length-1]},"only-child":function(e){var i=t.Selector._getChildren(e.parentNode);return 1===i.length&&i[0]===e},"only-of-type":function(e){return 1===t.Selector._getChildren(e.parentNode,e.tagName).length},empty:function(t){return 0===t.childNodes.length},not:function(e,i){return!t.Selector.test(e,i)},contains:function(t,e){var i=t.innerText||t.textContent||"";return i.indexOf(e)>-1},checked:function(t){return t.checked===!0}},test:function(e,i){if(e=t.Selector.document.getElementById(e)||e,!e)return!1;var n=i?i.split(","):[];if(n.length){for(var o=0,s=n.length;s>o;++o)if(t.Selector._test(e,n[o]))return!0;return!1}return t.Selector._test(e,i)},_test:function(e,i,n,o){if(n=n||t.Selector._tokenize(i).pop()||{},!e.tagName||"*"!==n.tag&&e.tagName!==n.tag||o&&e._found)return!1;if(n.attributes.length){var s,r,a=t.Selector._re.urls;if(!e.attributes||!e.attributes.length)return!1;for(var l,c=0;l=n.attributes[c++];){if(r=a.test(l[0])?2:0,s=e.getAttribute(l[0],r),null===s||void 0===s)return!1;if(t.Selector.operators[l[1]]&&!t.Selector.operators[l[1]](s,l[2]))return!1}}if(n.pseudos.length)for(var c=0,u=n.pseudos.length;u>c;++c)if(t.Selector.pseudos[n.pseudos[c][0]]&&!t.Selector.pseudos[n.pseudos[c][0]](e,n.pseudos[c][1]))return!1;return n.previous&&","!==n.previous.combinator?t.Selector._combinators[n.previous.combinator](e,n):!0},filter:function(e,i){e=e||[];var n,o=[];if(t.Selector._tokenize(i),!e.item)for(var s=0,r=e.length;r>s;++s)e[s].tagName||(n=t.Selector.document.getElementById(e[s]),n&&(e[s]=n));return o=t.Selector._filter(e,t.Selector._tokenize(i)[0])},_filter:function(e,i,n,o){for(var s=n?null:[],r=t.Selector._foundCache,a=0,l=e.length;l>a;a++)if(t.Selector._test(e[a],"",i,o)){if(n)return e[a];if(o){if(e[a]._found)continue;e[a]._found=!0,r[r.length]=e[a]}s[s.length]=e[a]}return s},query:function(e,i,n){var o=t.Selector._query(e,i,n);return o},_query:function(e,i,n,o){var s,r=n?null:[];if(!e)return r;var a=e.split(",");if(a.length>1){for(var l,c=0,u=a.length;u>c;++c)l=t.Selector._query(a[c],i,n,!0),r=n?l:r.concat(l);return t.Selector._clearFoundCache(),r}if(i&&!i.nodeName&&(i=t.Selector.document.getElementById(i),!i))return r;i=i||t.Selector.document,"#document"!==i.nodeName&&(t.Dom.generateId(i),e=i.tagName+"#"+i.id+" "+e,s=i,i=i.ownerDocument);var d,h=t.Selector._tokenize(e),f=h[t.Selector._getIdTokenIndex(h)],p=[],g=h.pop()||{};if(f&&(d=t.Selector._getId(f.attributes)),d){if(s=s||t.Selector.document.getElementById(d),!s||"#document"!==i.nodeName&&!t.Dom.isAncestor(i,s))return r;t.Selector._test(s,null,f)&&(f===g?p=[s]:(" "===f.combinator||">"===f.combinator)&&(i=s))}return i&&!p.length&&(p=i.getElementsByTagName(g.tag)),p.length&&(r=t.Selector._filter(p,g,n,o)),r},_clearFoundCache:function(){for(var e=t.Selector._foundCache,i=0,n=e.length;n>i;++i)try{delete e[i]._found}catch(o){e[i].removeAttribute("_found")}e=[]},_getRegExp:function(e,i){var n=t.Selector._regexCache;return i=i||"",n[e+i]||(n[e+i]=new RegExp(e,i)),n[e+i]},_getChildren:function(){return document.documentElement.children&&document.documentElement.children.tags?function(t,e){return e?t.children.tags(e):t.children||[]}:function(t,e){for(var i=[],n=t.childNodes,o=0,s=n.length;s>o;++o)n[o].tagName&&(e&&n[o].tagName!==e||i.push(n[o]));return i}}(),_combinators:{" ":function(e,i){for(;e=e.parentNode;)if(t.Selector._test(e,"",i.previous))return!0;return!1},">":function(e,i){return t.Selector._test(e.parentNode,null,i.previous)},"+":function(e,i){for(var n=e.previousSibling;n&&1!==n.nodeType;)n=n.previousSibling;return n&&t.Selector._test(n,null,i.previous)?!0:!1},"~":function(e,i){for(var n=e.previousSibling;n;){if(1===n.nodeType&&t.Selector._test(n,null,i.previous))return!0;n=n.previousSibling}return!1}},_getNth:function(e,i,n,o){t.Selector._re.nth.test(i);var s,r=parseInt(RegExp.$1,10),a=RegExp.$2,l=RegExp.$3,c=parseInt(RegExp.$4,10)||0,u=t.Selector._getChildren(e.parentNode,n);if(l?(r=2,s="+",a="n",c="odd"===l?1:0):isNaN(r)&&(r=a?1:0),0===r)return o&&(c=u.length-c+1),u[c-1]===e?!0:!1;if(0>r&&(o=!!o,r=Math.abs(r)),o){for(var d=u.length-c,h=u.length;d>=0;d-=r)if(h>d&&u[d]===e)return!0}else for(var d=c-1,h=u.length;h>d;d+=r)if(d>=0&&u[d]===e)return!0;return!1},_getId:function(t){for(var e=0,i=t.length;i>e;++e)if("id"==t[e][0]&&"="===t[e][1])return t[e][2]},_getIdTokenIndex:function(e){for(var i=0,n=e.length;n>i;++i)if(t.Selector._getId(e[i].attributes))return i;return-1},_patterns:{tag:/^((?:-?[_a-z]+[\w-]*)|\*)/i,attributes:/^\[([-a-z]+\w*)+([~\|\^\$\*!=]=?)?['"]?([^\]]*?)['"]?\]/i,pseudos:/^:([-\w]+)(?:\(['"]?(.+)['"]?\))*/i,combinator:/^\s*([>+~]|\s)\s*/},_tokenize:function(e){var i,n={},o=[],s=!1,r=t.Selector._patterns;e=t.Selector._replaceShorthand(e);do{s=!1;for(var a in r)YAHOO.lang.hasOwnProperty(r,a)&&("tag"!=a&&"combinator"!=a&&(n[a]=n[a]||[]),(i=r[a].exec(e))&&(s=!0,"tag"!=a&&"combinator"!=a?("attributes"===a&&"id"===i[1]&&(n.id=i[3]),n[a].push(i.slice(1))):n[a]=i[1],e=e.replace(i[0],""),"combinator"!==a&&e.length||(n.attributes=t.Selector._fixAttributes(n.attributes),n.pseudos=n.pseudos||[],n.tag=n.tag?n.tag.toUpperCase():"*",o.push(n),n={previous:n})))}while(s);return o},_fixAttributes:function(e){var i=t.Selector.attrAliases;e=e||[];for(var n=0,o=e.length;o>n;++n)i[e[n][0]]&&(e[n][0]=i[e[n][0]]),e[n][1]||(e[n][1]="");return e},_replaceShorthand:function(e){var i=t.Selector.shorthand,n=e.match(t.Selector._re.attr);n&&(e=e.replace(t.Selector._re.attr,"REPLACED_ATTRIBUTE"));for(var o in i)YAHOO.lang.hasOwnProperty(i,o)&&(e=e.replace(t.Selector._getRegExp(o,"gi"),i[o]));if(n)for(var s=0,r=n.length;r>s;++s)e=e.replace("REPLACED_ATTRIBUTE",n[s]);return e}},YAHOO.env.ua.ie&&(!document.documentMode&&YAHOO.env.ua.ie<8||document.documentMode<8)&&(t.Selector.attrAliases["class"]="className",t.Selector.attrAliases["for"]="htmlFor")}(),YAHOO.register("selector",YAHOO.util.Selector,{version:"2.8.1",build:"19"}),function(){var t=YAHOO.util.Event,e=YAHOO.lang,i=t.addListener,n=t.removeListener,o=t.getListeners,s=[],r={mouseenter:"mouseover",mouseleave:"mouseout"},a=function(e,i,o){var r,a,l=t._getCacheIndex(s,e,i,o);return l>=0&&(r=s[l]),e&&r&&(a=n.call(t,r[0],i,r[3]),a&&(delete s[l][2],delete s[l][3],s.splice(l,1))),a};e.augmentObject(t._specialTypes,r),e.augmentObject(t,{_createMouseDelegate:function(e,i,n){return function(o,s){var r,a,l=this,c=t.getRelatedTarget(o);return l==c||YAHOO.util.Dom.isAncestor(l,c)?void 0:(r=l,n&&(r=n===!0?i:n),a=[o,l,i],s&&a.splice(2,0,s),e.apply(r,a))}},addListener:function(e,n,o,a,l){var c,u;return r[n]?(c=t._createMouseDelegate(o,a,l),c.mouseDelegate=!0,s.push([e,n,o,c]),u=i.call(t,e,n,c)):u=i.apply(t,arguments),u},removeListener:function(e,i,o){var s;return s=r[i]?a.apply(t,arguments):n.apply(t,arguments)},getListeners:function(e,i){var n,s,a,l,c=[],u="mouseover"===i||"mouseout"===i;if(i&&(u||r[i])){if(n=o.call(t,e,this._getType(i)))for(a=n.length-1;a>-1;a--)l=n[a],s=l.fn.mouseDelegate,(r[i]&&s||u&&!s)&&c.push(l)}else c=o.apply(t,arguments);return c&&c.length?c:null}},!0),t.on=t.addListener}(),YAHOO.register("event-mouseenter",YAHOO.util.Event,{version:"2.8.1",build:"19"}),function(){var t=YAHOO.util.Event,e=YAHOO.lang,i=[],n=function(t,e,i){var o;return o=t&&t!==i?YAHOO.util.Selector.test(t,e)?t:n(t.parentNode,e,i):!1};e.augmentObject(t,{_createDelegate:function(i,o,s,r){return function(a){var l,c,u,d,h=this,f=t.getTarget(a),p=o,g=9===h.nodeType;return e.isFunction(o)?l=o(f):e.isString(o)&&(g||(u=h.id,u||(u=t.generateId(h)),d="#"+u+" ",p=(d+o).replace(/,/gi,","+d)),YAHOO.util.Selector.test(f,p)?l=f:YAHOO.util.Selector.test(f,p.replace(/,/gi," *,")+" *")&&(l=n(f,p,h))),l?(c=l,r&&(c=r===!0?s:r),i.call(c,a,l,h,s)):void 0}},delegate:function(n,o,s,r,a,l){var c,u,d=o;if(e.isString(r)&&!YAHOO.util.Selector)return!1;if("mouseenter"==o||"mouseleave"==o){if(!t._createMouseDelegate)return!1;d=t._getType(o),c=t._createMouseDelegate(s,a,l),u=t._createDelegate(function(t,e,i){return c.call(e,t,i)},r,a,l)}else u=t._createDelegate(s,r,a,l);return i.push([n,d,s,u]),t.on(n,d,u)},removeDelegate:function(e,n,o){var s,r,a=n,l=!1;return("mouseenter"==n||"mouseleave"==n)&&(a=t._getType(n)),s=t._getCacheIndex(i,e,a,o),s>=0&&(r=i[s]),e&&r&&(l=t.removeListener(r[0],r[1],r[3]),l&&(delete i[s][2],delete i[s][3],i.splice(s,1))),l}})}(),YAHOO.register("event-delegate",YAHOO.util.Event,{version:"2.8.1",build:"19"});var FDEV=YAHOO,FYU=FDEV.util,FYD=FYU.Dom,FYE=FYU.Event,FYS=FYU.Selector.query,FYG=FYD.get,FTA=function(t){if(!t)return[];if("toArray"in Object(t))return t.toArray();for(var e=t.length||0,i=new Array(e);e--;)i[e]=t[e];return i},$Y=YAHOO.util,$D=$Y.Dom,$E=$Y.Event,$$=$Y.Selector.query,$=$D.get,$A=FTA,FD=YAHOO.namespace("FD");FD.namespace=function(){var t,e=Array.prototype.slice.call(arguments,0);for(t=0;t<e.length;++t)0!=e[t].indexOf("FD")&&(e[t]="FD."+e[t]);return YAHOO.namespace.apply(null,e)},FD.namespace("core","util","widget","FD.sys"),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){null==e?e=0:0>e&&(e=Math.max(0,this.length+e));for(var i=e;i<this.length;i++)if(this[i]===t)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t,e){null==e?e=this.length-1:0>e&&(e=Math.max(0,this.length+e));for(var i=e;i>=0;i--)if(this[i]===t)return i;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var i=0,n=this.length;n>i;++i)t.call(e,this[i],i,this)}),Array.prototype.filter||(Array.prototype.filter=function(t,e){for(var i=[],n=0,o=this.length;o>n;++n)t.call(e,this[n],n,this)&&i.push(this[n]);return i}),Array.prototype.map||(Array.prototype.map=function(t,e){for(var i=[],n=0,o=this.length;o>n;++n)i.push(t.call(e,this[n],n,this));return i}),Array.prototype.some||(Array.prototype.some=function(t,e){for(var i=0,n=this.length;n>i;++i)if(t.call(e,this[i],i,this))return!0;return!1}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var i=0,n=this.length;n>i;++i)if(!t.call(e,this[i],i,this))return!1;return!0}),Array.prototype.contains=function(t){return-1!=this.indexOf(t)},Array.prototype.insertAt=function(t,e){e=e||0,this.splice(e,0,t)},Array.prototype.insertBefore=function(t,e){var i=this.indexOf(e);-1==i?this.push(t):this.splice(i,0,t)},Array.prototype.removeAt=function(t){this.splice(t,1)},Array.prototype.remove=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.del=function(t){return 0>t?this:this.slice(0,t).concat(this.slice(t+1,this.length))},String.prototype.toQueryParams||(String.prototype.toQueryParams=function(){for(var t={},e=this.split("&"),i=/([^=]*)=(.*)/,n=0;n<e.length;n++){var o=i.exec(e[n]);if(o){var s=decodeURIComponent(o[1]),r=o[2]?decodeURIComponent(o[2]):void 0;void 0!==t[s]?(t[s].constructor!=Array&&(t[s]=[t[s]]),r&&t[s].push(r)):t[s]=r}}return t}),String.prototype.trim||(String.prototype.trim=function(){var t=/(^[\u3000\s]+)|([\u3000\s]+$)/g;return function(){return this.replace(t,"")}}()),String.prototype.replaceAll||(String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"gm"),e)}),String.prototype.lenB||(String.prototype.lenB=function(){return this.replace(/[^\x00-\xff]/g,"**").length}),String.prototype.cut||(String.prototype.cut=function(t,e){var i=this;if("undefined"==i)return"";var n=0;if(t=parseInt(t),i.lenB()<=t)return i;for(var o=0;o<i.length;o++){var s=i.charCodeAt(o);if(0>s||s>255?n+=2:n++,n>t)return i.substr(0,0==o?o=1:o)+(e||"")}return""}),function(){var t=Number.prototype.toFixed;Number.prototype.toFixed=function(e){var i=this,n=Math.pow(10,e||0);return i*=n,i=Math.round(i),i/=n,t.call(i,e)}}(),FD.common={cookie:function(t,e){e||(e={});var i=e.raw?function(t){return t}:unescape,n=document.cookie.match("(?:^|;)\\s*"+t+"=([^;]*)");return n?i(n[1]):""},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},escapeHTML:function(t){var e=document.createElement("div"),i=document.createTextNode(t);return e.appendChild(i),e.innerHTML},unescapeHTML:function(t){var e=document.createElement("div");return e.innerHTML=t.replace(/<\/?[^>]+>/gi,""),e.childNodes[0]?e.childNodes[0].nodeValue:""},stripTags:function(t){return t.replace(/<\/?[^>]+>/gi,"")},toArray:function(t,e){for(var i=[],n=e||0;n<t.length;n++)i[i.length]=t[n];return i},applyIf:function(t,e){if(t&&e&&"object"==typeof e)for(var i in e)YAHOO.lang.hasOwnProperty(t,i)||(t[i]=e[i]);return t},apply:function(t,e){if(t&&e&&"object"==typeof e)for(var i in e)t[i]=e[i];return t},goTo:function(t){var e=null,i=null,n="_blank",o=arguments[1]==n?n:"_self";return document.all?(e=document.createElement("a"),i=document.body,e.click?(e.setAttribute("target",o),e.setAttribute("href",t),e.style.display="none",void(i&&(i.appendChild(e),e.click(),o==n&&setTimeout(function(){try{i.removeChild(e)}catch(t){}},500)))):window.open(t,o)):window.open(t,o)},concat:function(){for(var t,e,i=arguments,n=[],o=0,t=i.length;t>o;o++)for(var s=0,e=i[o].length;e>s;s++)n.push(i[o][s]);return n},getFormAction:function(t){return t=FYG(t),t&&"form"==t.tagName.toLowerCase()?t.attributes.getNamedItem("action").value:null},formSerialize:function(t,e,i){t=FYG(t),i=i||"&";var n="";if(t&&"form"==t.tagName.toLowerCase()){var o=t.getElementsByTagName("input"),s=t.getElementsByTagName("select"),r=t.getElementsByTagName("textarea");o=FD.common.concat(o,s,r);for(var a=o.length;a-->0;)if(!("input"===o[a].tagName.toLowerCase()&&"checkboxradio".lastIndexOf(o[a].type)>-1)||o[a].checked){var l=o[a].name+"="+encodeURIComponent(o[a].value);n+=""==n?l:i+l}}if(YAHOO.lang.isObject(e))for(var c in e){var l=c+"="+encodeURIComponent(e[c]);n+=""==n?l:i+l}return n},parse:function(str){var jsn;try{jsn=YAHOO.lang.JSON.parse(str)}catch(x){try{eval("jsn = "+str)}catch(e){}}return jsn},toggleClass:function(t,e,i){var t=$(t);$D.hasClass(t,e)?($D.removeClass(t,e),$D.addClass(t,i)):($D.addClass(t,e),$D.removeClass(t,i))},emptyFn:function(){},_guid:1,guid:function(){return this._guid++},request:function(t,e,i,n){var o=this.emptyFn,s=function(t){var e,i=[];for(e in t)if(FDEV.lang.isArray(t[e]))for(var n=0,o=t[e].length;o>n;n++)i.push(e+"="+t[e][n]);else i.push(e+"="+t[e]);return i.join("&")},r={cache:!1,timeout:1e4};if(i=i||{},this.apply(r,i),n=n||{},t=t.toUpperCase(),"JSONP"==t){i.onCallback&&(r.ns||(r.ns=window,r.strNS=null),r.fn||(r.fn="rnd"),r.cache||(r.fn=r.fn+(new Date).getTime()+this.guid()),r.key||(r.key="callback")),r.attributes=r.attributes||{},r.attributes.charset||(r.attributes.charset=r.charset||"gbk"),r.attributes.async!==!1&&(r.attributes.async=!0),r.onSuccess=function(t){i.onSuccess&&i.onSuccess.call(this,t),i.onCallback&&null!=r.ns[r.fn]&&r.ns[r.fn]!=o&&FDEV.lang.later(r.timeout,this,r.onTimeout,t)},r.onFailure=function(t){i.onFailure&&i.onFailure.call(this,t),i.onCallback&&(r.ns[r.fn]=o)},r.onTimeout=function(t){i.onTimeout&&i.onTimeout.call(this,t),i.onCallback&&(r.ns[r.fn]=o)},i.onCallback&&(r.ns[r.fn]=function(t){i.onCallback.call(i.scope||this,t),r.ns[r.fn]=o},n[r.key]=(r.strNS?r.strNS+".":"")+r.fn);var a=s(n);if(a){var l=e.split("?");e=[e,a].join(l.length>1?"&":"?")}return FDEV.util.Get.script(e,r)}i.onSuccess&&(r.success=function(t){i.onSuccess.call(this,t)}),r.failure=function(t){-1==t.status?i.onTimeout&&i.onTimeout.call(this,t):i.onFailure&&i.onFailure.call(this,t)};var c,a=FDEV.lang.isObject(n)?this.formSerialize(null,n):n;if(a)if("GET"==t){var l=e.split("?");e=[e,a].join(l.length>1?"&":"?")}else c=a;return FDEV.util.Connect.asyncRequest(t,e,r,c)}},function(){FD.common.loginId=decodeURIComponent(FD.common.cookie("__cn_logon_id__",{raw:!0})),FD.common.isLogin=""!==FD.common.loginId?!0:!1,FD.common.lastLoginId=decodeURIComponent(FD.common.cookie("__last_loginid__",{raw:!0}))}(),FD.version="3.2.2010-8-31",FD.test={},!function(){function _char(t){return _CHARS[t]||(_CHARS[t]="\\u"+("0000"+(+t.charCodeAt(0)).toString(16)).slice(-4)),_CHARS[t]}function _revive(t,e){var i=function(t,n){var o,s,r=t[n];if(r&&"object"==typeof r)for(o in r)l.hasOwnProperty(r,o)&&(s=i(r,o),void 0===s?delete r[o]:r[o]=s);return e.call(t,n,r)};return"function"==typeof e?i({"":t},""):t}function _prepare(t){return t.replace(_UNICODE_EXCEPTIONS,_char)}function _isSafe(t){return l.isString(t)&&_UNSAFE.test(t.replace(_ESCAPES,"@").replace(_VALUES,"]").replace(_BRACKETS,""))}function _parse(s,reviver){if(s=_prepare(s),_isSafe(s))return _revive(eval("("+s+")"),reviver);throw new SyntaxError("JSON.parse")}function _type(t){var e=typeof t;return _allowable[e]||_allowable[_toStr.call(t)]||(e===OBJECT?t?OBJECT:NULL:UNDEFINED)}function _string(t){return QUOTE+t.replace(_SPECIAL_CHARS,_char)+QUOTE}function _indent(t,e){return t.replace(/^/gm,e)}function _stringify(t,e,i){function n(t,o){var s,r,l,d,h,f=t[o],p=_type(f),g=[],m=i?COLON_SP:COLON;switch(isObject(f)&&isFunction(f.toJSON)?f=f.toJSON(o):p===DATE&&(f=c(f)),isFunction(a)&&(f=a.call(t,o,f)),f!==t[o]&&(p=_type(f)),p){case DATE:case OBJECT:break;case STRING:return _string(f);case NUMBER:return isFinite(f)?f+EMPTY:NULL;case BOOLEAN:return f+EMPTY;case NULL:return NULL;default:return void 0}for(r=u.length-1;r>=0;--r)if(u[r]===f)throw new Error("JSON.stringify. Cyclical reference");if(s=isArray(f),u.push(f),s)for(r=f.length-1;r>=0;--r)g[r]=n(f,r)||NULL;else{l=e||f,r=0;for(d in l)l.hasOwnProperty(d)&&(h=n(f,d),h&&(g[r++]=_string(d)+m+h))}return u.pop(),i&&g.length?s?OPEN_A+CR+_indent(g.join(COMMA_CR),i)+CR+CLOSE_A:OPEN_O+CR+_indent(g.join(COMMA_CR),i)+CR+CLOSE_O:s?OPEN_A+g.join(COMMA)+CLOSE_A:OPEN_O+g.join(COMMA)+CLOSE_O}if(void 0===t)return void 0;var o,s,r,a=isFunction(e)?e:null,l=_toStr.call(i).match(/String|Number/)||[],c=YAHOO.lang.JSON.dateToString,u=[];if((a||!isArray(e))&&(e=void 0),e){for(o={},s=0,r=e.length;r>s;++s)o[e[s]]=!0;e=o}return i="Number"===l[0]?new Array(Math.min(Math.max(0,i),10)+1).join(" "):(i||EMPTY).slice(0,10),n({"":t},"")}var l=YAHOO.lang,isFunction=l.isFunction,isObject=l.isObject,isArray=l.isArray,_toStr=Object.prototype.toString,Native=(YAHOO.env.ua.caja?window:this).JSON,_UNICODE_EXCEPTIONS=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_ESCAPES=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,_VALUES=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_BRACKETS=/(?:^|:|,)(?:\s*\[)+/g,_UNSAFE=/^[\],:{}\s]*$/,_SPECIAL_CHARS=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_CHARS={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},UNDEFINED="undefined",OBJECT="object",NULL="null",STRING="string",NUMBER="number",BOOLEAN="boolean",DATE="date",_allowable={undefined:UNDEFINED,string:STRING,"[object String]":STRING,number:NUMBER,"[object Number]":NUMBER,"boolean":BOOLEAN,"[object Boolean]":BOOLEAN,"[object Date]":DATE,"[object RegExp]":OBJECT},EMPTY="",OPEN_O="{",CLOSE_O="}",OPEN_A="[",CLOSE_A="]",COMMA=",",COMMA_CR=",\n",CR="\n",COLON=":",COLON_SP=": ",QUOTE='"';Native="[object JSON]"===_toStr.call(Native)&&Native,YAHOO.lang.JSON={useNativeParse:!!Native,useNativeStringify:!!Native,isSafe:function(t){return _isSafe(_prepare(t))},parse:function(t,e){return Native&&YAHOO.lang.JSON.useNativeParse?Native.parse(t,e):_parse(t,e)},stringify:function(t,e,i){return Native&&YAHOO.lang.JSON.useNativeStringify?Native.stringify(t,e,i):_stringify(t,e,i)},dateToString:function(t){function e(t){return 10>t?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+COLON+e(t.getUTCMinutes())+COLON+e(t.getUTCSeconds())+"Z"},stringToDate:function(t){var e=t.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{3}))?Z$/);if(e){var i=new Date;return i.setUTCFullYear(e[1],e[2]-1,e[3]),i.setUTCHours(e[4],e[5],e[6],e[7]||0),i}return t}},YAHOO.lang.JSON.isValid=YAHOO.lang.JSON.isSafe}(),YAHOO.register("json",YAHOO.lang.JSON,{version:"2.8.1",build:"19"}),YAHOO.util.Get=function(){var t={},e=0,i=0,n=!1,o=YAHOO.env.ua,s=YAHOO.lang,r=function(t,e,i){var n=i||window,o=n.document,s=o.createElement(t);for(var r in e)e[r]&&YAHOO.lang.hasOwnProperty(e,r)&&s.setAttribute(r,e[r]);return s},a=function(t,e,n){var o={id:"yui__dyn_"+i++,type:"text/css",rel:"stylesheet",href:t};return n&&s.augmentObject(o,n),r("link",o,e)},l=function(t,e,n){var o={id:"yui__dyn_"+i++,type:"text/javascript",async:!0,src:t};return n&&s.augmentObject(o,n),r("script",o,e)},c=function(t,e){return{tId:t.tId,win:t.win,data:t.data,nodes:t.nodes,msg:e,purge:function(){m(this.tId)}}},u=function(e,i){var n=t[i],o=s.isString(e)?n.win.document.getElementById(e):e;return o||d(i,"target node not found: "+e),o},d=function(e,i){var n=t[e];if(n.onFailure){var o=n.scope||n.win;n.onFailure.call(o,c(n,i))}},h=function(e){var i=t[e];if(i.finished=!0,i.aborted){var n="transaction "+e+" was aborted";return void d(e,n)}if(i.onSuccess){var o=i.scope||i.win;i.onSuccess.call(o,c(i))}},f=function(e){var i=t[e];if(i.onTimeout){var n=i.scope||i;i.onTimeout.call(n,c(i))}},p=function(e,i){var n=t[e];if(n.timer&&n.timer.cancel(),n.aborted){var r="transaction "+e+" was aborted";return void d(e,r)}i?(n.url.shift(),n.varName&&n.varName.shift()):(n.url=s.isString(n.url)?[n.url]:n.url,n.varName&&(n.varName=s.isString(n.varName)?[n.varName]:n.varName));var c,g=n.win,m=g.document,v=m.getElementsByTagName("head")[0];if(0!==n.url.length){var b=n.url[0];if(!b)return n.url.shift(),p(e);if(n.timeout&&(n.timer=s.later(n.timeout,n,f,e)),c="script"===n.type?l(b,g,n.attributes):a(b,g,n.attributes),y(n.type,c,e,b,g,n.url.length),n.nodes.push(c),n.insertBefore){var w=u(n.insertBefore,e);w&&w.parentNode.insertBefore(c,w)}else v.appendChild(c);(o.webkit||o.gecko)&&"css"===n.type&&p(e,b)}else if("script"===n.type&&o.webkit&&o.webkit<420&&!n.finalpass&&!n.varName){var _=l(null,n.win,n.attributes);_.innerHTML='YAHOO.util.Get._finalize("'+e+'");',n.nodes.push(_),v.appendChild(_)}else h(e)},g=function(){if(!n){n=!0;for(var e in t){var i=t[e];i.autopurge&&i.finished&&(m(i.tId),delete t[e])}n=!1}},m=function(e){if(t[e]){var i,n,o,s,r=t[e],a=r.nodes,l=a.length,c=r.win.document,d=c.getElementsByTagName("head")[0];for(r.insertBefore&&(i=u(r.insertBefore,e),i&&(d=i.parentNode)),n=0;l>n;n+=1){if(o=a[n],o.clearAttributes)o.clearAttributes();else for(s in o)delete o[s];d.removeChild(o)}r.nodes=[]}},v=function(i,n,o){var r="q"+e++;o=o||{},e%YAHOO.util.Get.PURGE_THRESH===0&&g(),t[r]=s.merge(o,{tId:r,type:i,url:n,finished:!1,aborted:!1,nodes:[]});var a=t[r];return a.win=a.win||window,a.scope=a.scope||a.win,a.autopurge="autopurge"in a?a.autopurge:"script"===i?!0:!1,o.charset&&(a.attributes=a.attributes||{},a.attributes.charset=o.charset),s.later(0,a,p,r),{tId:r}},y=function(e,i,n,r,a,l,c){var u=c||p;if(o.ie)i.onreadystatechange=function(){var t=this.readyState;("loaded"===t||"complete"===t)&&(i.onreadystatechange=null,u(n,r))};else if(o.webkit){if("script"===e)if(o.webkit>=420)i.addEventListener("load",function(){u(n,r)});else{var h=t[n];if(h.varName){var f=YAHOO.util.Get.POLL_FREQ;h.maxattempts=YAHOO.util.Get.TIMEOUT/f,h.attempts=0,h._cache=h.varName[0].split("."),h.timer=s.later(f,h,function(t){var e,i=this._cache,o=i.length,s=this.win;for(e=0;o>e;e+=1)if(s=s[i[e]],!s){if(this.attempts++,this.attempts++>this.maxattempts){var a="Over retry limit, giving up";h.timer.cancel(),d(n,a)}return}h.timer.cancel(),u(n,r)},null,!0)}else s.later(YAHOO.util.Get.POLL_FREQ,null,u,[n,r])}}else i.onload=function(){u(n,r)}};return{POLL_FREQ:10,PURGE_THRESH:20,TIMEOUT:2e3,_finalize:function(t){s.later(0,null,h,t)},abort:function(e){var i=s.isString(e)?e:e.tId,n=t[i];n&&(n.aborted=!0)},script:function(t,e){return v("script",t,e)},css:function(t,e){return v("css",t,e)}}}(),YAHOO.register("get",YAHOO.util.Get,{version:"2.8.1",build:"19"}),function(t){function e(t){if("string"==typeof t)t=t.replace(s,o);else for(var e=0,i=t.length;i>e;e++)t[e]=t[e].replace(s,o);return t}var i=t.script,n=t.css,o=location.protocol+"//",s=/^(?:http:)?\/\//i;t.script=function(n,o){return i.call(t,e(n),o)},t.css=function(i,o){return n.call(t,e(i),o)}}(YAHOO.util.Get),YAHOO.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:!1,_use_default_post_header:!0,_default_post_header:"application/x-www-form-urlencoded; charset=UTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:!0,_default_xhr_header:"XMLHttpRequest",
_has_default_headers:!0,_default_headers:{},_isFormSubmit:!1,_isFileUpload:!1,_formNode:null,_sFormData:null,_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,_submitElementValue:null,_hasSubmitListener:function(){return YAHOO.util.Event?(YAHOO.util.Event.addListener(document,"click",function(t){var e=YAHOO.util.Event.getTarget(t),i=e.nodeName.toLowerCase();"input"!==i&&"button"!==i||!e.type||"submit"!=e.type.toLowerCase()||(YAHOO.util.Connect._submitElementValue=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),!0):!1}(),startEvent:new YAHOO.util.CustomEvent("start"),completeEvent:new YAHOO.util.CustomEvent("complete"),successEvent:new YAHOO.util.CustomEvent("success"),failureEvent:new YAHOO.util.CustomEvent("failure"),uploadEvent:new YAHOO.util.CustomEvent("upload"),abortEvent:new YAHOO.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(t){this._msxml_progid.unshift(t)},setDefaultPostHeader:function(t){"string"==typeof t?this._default_post_header=t:"boolean"==typeof t&&(this._use_default_post_header=t)},setDefaultXhrHeader:function(t){"string"==typeof t?this._default_xhr_header=t:this._use_default_xhr_header=t},setPollingInterval:function(t){"number"==typeof t&&isFinite(t)&&(this._polling_interval=t)},createXhrObject:function(t){var e,i;try{i=new XMLHttpRequest,e={conn:i,tId:t}}catch(n){for(var o=0;o<this._msxml_progid.length;++o)try{i=new ActiveXObject(this._msxml_progid[o]),e={conn:i,tId:t};break}catch(s){}}finally{return e}},getConnectionObject:function(t){var e,i=this._transaction_id;try{t?(e={},e.tId=i,e.isUpload=!0):e=this.createXhrObject(i),e&&this._transaction_id++}catch(n){}finally{return e}},asyncRequest:function(t,e,i,n){var o=this._isFileUpload?this.getConnectionObject(!0):this.getConnectionObject(),s=i&&i.argument?i.argument:null;if(o){if(i&&i.customevents&&this.initCustomEvents(o,i),this._isFormSubmit){if(this._isFileUpload)return this.uploadFile(o,i,e,n),o;"GET"==t.toUpperCase()?0!==this._sFormData.length&&(e+=(-1==e.indexOf("?")?"?":"&")+this._sFormData):"POST"==t.toUpperCase()&&(n=n?this._sFormData+"&"+n:this._sFormData)}return"GET"==t.toUpperCase()&&i&&i.cache===!1&&(e+=(-1==e.indexOf("?")?"?":"&")+"rnd="+(new Date).valueOf().toString()),o.conn.open(t,e,!0),this._use_default_xhr_header&&(this._default_headers["X-Requested-With"]||this.initHeader("X-Requested-With",this._default_xhr_header,!0)),"POST"===t.toUpperCase()&&this._use_default_post_header&&this._isFormSubmit===!1&&this.initHeader("Content-Type",this._default_post_header),(this._has_default_headers||this._has_http_headers)&&this.setHeader(o),this.handleReadyState(o,i),o.conn.send(n||""),this._isFormSubmit===!0&&this.resetFormState(),this.startEvent.fire(o,s),o.startEvent&&o.startEvent.fire(o,s),o}return null},initCustomEvents:function(t,e){var i;for(i in e.customevents)this._customEvents[i][0]&&(t[this._customEvents[i][0]]=new YAHOO.util.CustomEvent(this._customEvents[i][1],e.scope?e.scope:null),t[this._customEvents[i][0]].subscribe(e.customevents[i]))},handleReadyState:function(t,e){var i=this,n=e&&e.argument?e.argument:null;e&&e.timeout&&(this._timeOut[t.tId]=window.setTimeout(function(){i.abort(t,e,!0)},e.timeout)),this._poll[t.tId]=window.setInterval(function(){t.conn&&4===t.conn.readyState&&(window.clearInterval(i._poll[t.tId]),delete i._poll[t.tId],e&&e.timeout&&(window.clearTimeout(i._timeOut[t.tId]),delete i._timeOut[t.tId]),i.completeEvent.fire(t,n),t.completeEvent&&t.completeEvent.fire(t,n),i.handleTransactionResponse(t,e))},this._polling_interval)},handleTransactionResponse:function(t,e,i){var n,o,s=e&&e.argument?e.argument:null;try{n=void 0!==t.conn.status&&0!==t.conn.status?t.conn.status:13030}catch(r){n=13030}if(n>=200&&300>n||1223===n)o=this.createResponseObject(t,s),e&&e.success&&(e.scope?e.success.apply(e.scope,[o]):e.success(o)),this.successEvent.fire(o),t.successEvent&&t.successEvent.fire(o);else{switch(n){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:o=this.createExceptionObject(t.tId,s,i?i:!1),e&&e.failure&&(e.scope?e.failure.apply(e.scope,[o]):e.failure(o));break;default:o=this.createResponseObject(t,s),e&&e.failure&&(e.scope?e.failure.apply(e.scope,[o]):e.failure(o))}this.failureEvent.fire(o),t.failureEvent&&t.failureEvent.fire(o)}this.releaseObject(t),o=null},createResponseObject:function(t,e){var i={},n={};try{for(var o=t.conn.getAllResponseHeaders(),s=o.split("\n"),r=0;r<s.length;r++){var a=s[r].indexOf(":");-1!=a&&(n[s[r].substring(0,a)]=s[r].substring(a+2))}}catch(l){}return i.tId=t.tId,i.status=1223==t.conn.status?204:t.conn.status,i.statusText=1223==t.conn.status?"No Content":t.conn.statusText,i.getResponseHeader=n,i.getAllResponseHeaders=o,i.responseText=t.conn.responseText,i.responseXML=t.conn.responseXML,e&&(i.argument=e),i},createExceptionObject:function(t,e,i){var n=0,o="communication failure",s=-1,r="transaction aborted",a={};return a.tId=t,i?(a.status=s,a.statusText=r):(a.status=n,a.statusText=o),e&&(a.argument=e),a},initHeader:function(t,e,i){var n=i?this._default_headers:this._http_headers;n[t]=e,i?this._has_default_headers=!0:this._has_http_headers=!0},setHeader:function(t){var e;if(this._has_default_headers)for(e in this._default_headers)YAHOO.lang.hasOwnProperty(this._default_headers,e)&&t.conn.setRequestHeader(e,this._default_headers[e]);if(this._has_http_headers){for(e in this._http_headers)YAHOO.lang.hasOwnProperty(this._http_headers,e)&&t.conn.setRequestHeader(e,this._http_headers[e]);delete this._http_headers,this._http_headers={},this._has_http_headers=!1}},resetDefaultHeaders:function(){delete this._default_headers,this._default_headers={},this._has_default_headers=!1},setForm:function(t,e,i){var n,o,s,r,a,l,c,u,d,h,f=!1,p=[],g=0;if(this.resetFormState(),"string"==typeof t)n=document.getElementById(t)||document.forms[t];else{if("object"!=typeof t)return;n=t}if(e)return this.createFrame(i?i:null),this._isFormSubmit=!0,this._isFileUpload=!0,void(this._formNode=n);for(l=0,c=n.elements.length;c>l;++l)if(o=n.elements[l],a=o.disabled,s=o.name,!a&&s)switch(s=encodeURIComponent(s)+"=",r=encodeURIComponent(o.value),o.type){case"select-one":o.selectedIndex>-1&&(h=o.options[o.selectedIndex],p[g++]=s+encodeURIComponent(h.attributes.value&&h.attributes.value.specified?h.value:h.text));break;case"select-multiple":if(o.selectedIndex>-1)for(u=o.selectedIndex,d=o.options.length;d>u;++u)h=o.options[u],h.selected&&(p[g++]=s+encodeURIComponent(h.attributes.value&&h.attributes.value.specified?h.value:h.text));break;case"radio":case"checkbox":o.checked&&(p[g++]=s+r);break;case"file":case void 0:case"reset":case"button":break;case"submit":f===!1&&(this._hasSubmitListener&&this._submitElementValue&&(p[g++]=this._submitElementValue),f=!0);break;default:p[g++]=s+r}return this._isFormSubmit=!0,this._sFormData=p.join("&"),this.initHeader("Content-Type",this._default_form_header),this._sFormData},resetFormState:function(){this._isFormSubmit=!1,this._isFileUpload=!1,this._formNode=null,this._sFormData=""},createFrame:function(t){var e,i="yuiIO"+this._transaction_id;YAHOO.env.ua.ie?(e=document.createElement('<iframe id="'+i+'" name="'+i+'" />'),"boolean"==typeof t&&(e.src="javascript:false")):(e=document.createElement("iframe"),e.id=i,e.name=i),e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",document.body.appendChild(e)},appendPostData:function(t){var e,i,n=[],o=t.split("&");for(e=0;e<o.length;e++)i=o[e].indexOf("="),-1!=i&&(n[e]=document.createElement("input"),n[e].type="hidden",n[e].name=decodeURIComponent(o[e].substring(0,i)),n[e].value=decodeURIComponent(o[e].substring(i+1)),this._formNode.appendChild(n[e]));return n},uploadFile:function(t,e,i,n){var o,s,r,a,l="yuiIO"+t.tId,c="multipart/form-data",u=document.getElementById(l),d=this,h=e&&e.argument?e.argument:null,f={action:this._formNode.getAttribute("action"),method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")};if(this._formNode.setAttribute("action",i),this._formNode.setAttribute("method","POST"),this._formNode.setAttribute("target",l),YAHOO.env.ua.ie?this._formNode.setAttribute("encoding",c):this._formNode.setAttribute("enctype",c),n&&(o=this.appendPostData(n)),this._formNode.submit(),this.startEvent.fire(t,h),t.startEvent&&t.startEvent.fire(t,h),e&&e.timeout&&(this._timeOut[t.tId]=window.setTimeout(function(){d.abort(t,e,!0)},e.timeout)),o&&o.length>0)for(s=0;s<o.length;s++)this._formNode.removeChild(o[s]);for(r in f)YAHOO.lang.hasOwnProperty(f,r)&&(f[r]?this._formNode.setAttribute(r,f[r]):this._formNode.removeAttribute(r));this.resetFormState();var p=function(){e&&e.timeout&&(window.clearTimeout(d._timeOut[t.tId]),delete d._timeOut[t.tId]),d.completeEvent.fire(t,h),t.completeEvent&&t.completeEvent.fire(t,h),a={tId:t.tId,argument:e.argument};try{a.responseText=u.contentWindow.document.body?u.contentWindow.document.body.innerHTML:u.contentWindow.document.documentElement.textContent,a.responseXML=u.contentWindow.document.XMLDocument?u.contentWindow.document.XMLDocument:u.contentWindow.document}catch(i){}e&&e.upload&&(e.scope?e.upload.apply(e.scope,[a]):e.upload(a)),d.uploadEvent.fire(a),t.uploadEvent&&t.uploadEvent.fire(a),YAHOO.util.Event.removeListener(u,"load",p),setTimeout(function(){document.body.removeChild(u),d.releaseObject(t)},100)};YAHOO.util.Event.addListener(u,"load",p)},abort:function(t,e,i){var n,o=e&&e.argument?e.argument:null;if(t&&t.conn)this.isCallInProgress(t)&&(t.conn.abort(),window.clearInterval(this._poll[t.tId]),delete this._poll[t.tId],i&&(window.clearTimeout(this._timeOut[t.tId]),delete this._timeOut[t.tId]),n=!0);else if(t&&t.isUpload===!0){var s="yuiIO"+t.tId,r=document.getElementById(s);r&&(YAHOO.util.Event.removeListener(r,"load"),document.body.removeChild(r),i&&(window.clearTimeout(this._timeOut[t.tId]),delete this._timeOut[t.tId]),n=!0)}else n=!1;return n===!0&&(this.abortEvent.fire(t,o),t.abortEvent&&t.abortEvent.fire(t,o),this.handleTransactionResponse(t,e,!0)),n},isCallInProgress:function(t){if(t&&t.conn)return 4!==t.conn.readyState&&0!==t.conn.readyState;if(t&&t.isUpload===!0){var e="yuiIO"+t.tId;return document.getElementById(e)?!0:!1}return!1},releaseObject:function(t){t&&t.conn&&(t.conn=null,t=null)}},YAHOO.register("connection",YAHOO.util.Connect,{version:"2.7.0",build:"1799"}),function(t){var e=t.asyncRequest,i=location.protocol+"//",n=/^(?:http:)?\/\//i;t.asyncRequest=function(o,s,r,a){return e.call(t,o,s.replace(n,i),r,a)}}(YAHOO.util.Connect),define("lofty/util/date/1.0/date",["jquery"],function(t){function e(t){var e="0"+t;return e.substring(e.length-2)}var i="yyyy-MM-dd",n={format:function(t,n){var o=n||i;return o.split("yyyy").join(t.getFullYear()).split("yy").join((t.getFullYear()+"").substring(2)).split("MM").join(e(t.getMonth()+1)).split("dd").join(e(t.getDate())).split("hh").join(e(t.getHours())).split("mm").join(e(t.getMinutes())).split("ss").join(e(t.getSeconds()))},formatTime:function(t,e){var i,n;0==arguments.length?(i=(new Date).getTime(),n="y/m/d hh:ii:ss"):"string"==typeof arguments[0]?(i=(new Date).getTime(),n=arguments[0]):(i=t,n=e||"y/m/d hh:ii:ss");var o;isNaN(new Date(i))?(i=i.replace("-","/"),o=isNaN(new Date(i))?new Date:new Date(i)):o=new Date(i);var s=o.getFullYear(),r=o.getMonth()+1,a=o.getDate(),l=o.getHours(),c=o.getMinutes(),u=o.getSeconds(),d=o.getMilliseconds(),h=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"][o.getDay()];return n=n.replace("yy",s.toString().substr(s.toString().length-2)),n=n.replace("y",s),n=n.replace("ms",("000"+d).slice(-3)),n=n.replace("mm",("0"+r).substr(r.toString().length-1)),n=n.replace("m",r),n=n.replace("dd",("0"+a).substr(a.toString().length-1)),n=n.replace("d",a),n=n.replace("hh",("0"+l).substr(l.toString().length-1)),n=n.replace("h",l),n=n.replace("ii",("0"+c).substr(c.toString().length-1)),n=n.replace("i",c),n=n.replace("ss",("0"+u).substr(u.toString().length-1)),n=n.replace("s",u),n=n.replace("w",h)},clearTime:function(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},isLeapYear:function(t){if(t instanceof Date)var t=t.getFullYear();return t%4===0&&t%100!==0||t%400===0},addMs:function(t,e){return t.setMilliseconds(t.getMilliseconds()+e),t},addSeconds:function(t,e){return this.addMs(t,1e3*e)},addMinutes:function(t,e){return this.addMs(t,6e4*e)},addHours:function(t,e){return this.addMs(t,36e5*e)},addDays:function(t,e){return this.addMs(t,864e5*e)},addWeeks:function(t,e){return this.addMs(t,6048e5*e)},addMonths:function(t,e){var i=t.getDate();return t.setDate(1),t.setMonth(t.getMonth()+e),t.setDate(Math.min(i,this.getDaysInMonth(t.getFullYear(),t.getMonth()))),t},addYears:function(t,e){return this.addMonths(t,12*e)},parseDate:function(e,n){if(!t.trim(e))return!1;var o=n||i,s=new Date(1970,0,1),r=o.indexOf("yyyy"),a=o.indexOf("yy"),l=o.indexOf("MM"),c=o.indexOf("dd"),u=o.indexOf("hh"),d=o.indexOf("mm"),h=o.indexOf("ss");return r>-1?s.setFullYear(Number(e.substr(r,4))):a>-1&&s.setFullYear(Number((s.getFullYear()+"").substr(0,2)+e.substr(a,2))),l>-1&&s.setMonth(Number(e.substr(l,2))-1),c>-1&&s.setDate(Number(e.substr(c,2))),u>-1&&s.setHours(Number(e.substr(u,2))),d>-1&&s.setMinutes(Number(e.substr(d,2))),h>-1&&s.setSeconds(Number(e.substr(h,2))),isNaN(s.getTime())?!1:s},getDaysInMonth:function(t,e){return[31,this.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},getWeekDays:function(t){var e=t.getDay(),i=1;for(l=7,days=[];i<=l;i++)days.push(this.addDays(new Date(t.getTime()),i-e));return days}};return n}),define("lofty/util/json/1.0/json",["jquery"],function($){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,o,s,r,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(s=l.length,i=0;s>i;i+=1)r[i]=str(i,l)||"null";return o=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+a+"]":"["+r.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(s=rep.length,i=0;s>i;i+=1)n=rep[i],"string"==typeof n&&(o=str(n,l),o&&r.push(quote(n)+(gap?": ":":")+o));else for(n in l)Object.hasOwnProperty.call(l,n)&&(o=str(n,l),o&&r.push(quote(n)+(gap?": ":":")+o));return o=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+a+"}":"{"+r.join(",")+"}",gap=a,o}}window.JSON||(window.JSON={});var JSON=window.JSON;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;return"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,o=t[e];if(o&&"object"==typeof o)for(i in o)Object.hasOwnProperty.call(o,i)&&(n=walk(o,i),void 0!==n?o[i]=n:delete o[i]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),JSON}),define("lofty/alicn/now/2.0/now",["jquery"],function(t){"use strict";var e=t.Callbacks("once memory"),i="//widget.1688.com/front/getJsonComponent.json?namespace=getCurrentServerTime&widgetId=getCurrentServerTime&methodName=execute";/timedebug=true/.test(location.href)?!function(){window.setDebugTime=function(t){e.fired()||define(["util/date/1.0"],function(i){var n=(new Date).getTime()-i.parseDate(t,"yyyy-MM-dd HH:mm:ss");e.fire(n)}),delete window.setDebugTime}}():!function(){t.ajax({url:i,dataType:"jsonp"}).done(function(t){if(t&&t.content&&t.content.serverTimeMillis){var i=(new Date).getTime()-t.content.serverTimeMillis;e.fire(i)}else e.fire(null)}).fail(function(){e.fire(null)})}();var n={now:function(i){e.add(function(e){i(t.isNumeric(e)?(new Date).getTime()-e:null)})},getAPI:function(){return i}};return n}),define("lofty/ui/timer/1.0/timer",["lofty/lang/class","lofty/ui/widget/1.0/widget","lofty/alicn/now/2.0/now","jquery"],function(t,e,i,n){"use strict";function o(t,e){t+="";for(var i=e-t.length;i;)t="0"+t,i--;return t}var s=["year","month","day","hour","minute","second"],r={year:"yy",month:"MM",day:"dd",hour:"hh",minute:"mm",second:"ss"},a=t(e,{options:{format:"y-M-d hh:mm:ss",to:new Date,startEventName:"start",stopEventName:"stop",useServerTime:!1,step:1,animate:!1,fixInterval:!1,autoStart:!0,maxUnit:"year",event:null},_create:function(){var t=this,e=t.get("el"),i=t.get("to"),o="<dl><dd></dd></dl>";n.each(s,function(i,s){var r=n("."+s,e);r.length&&(t["ph"+s]=r,t.get("animate")&&(r.html("year"===s?o:o+o),t["ph"+s]=r.children()))}),t.multiStage=n.isArray(i)?i.length:!1,t.endTime=t.multiStage?i[0]:i,t.currentStage=t.multiStage?1:!1,t.fixInterval=t.get("fixInterval")?60:!1,t._bind(),t.on("timeReady",function(){t._setEndDiff(),t.timeReady=!0,t.get("autoStart")&&t._start()}),t._setServerDiff()},_start:function(){return this.trigger(this.get("startEventName")),this._interval(),this},_bind:function(){var t=this,e=t.get("event");if(e)for(var i in e)t.on(i,e[i])},setStartTime:function(t){var e,i=this;if(t.constructor===Date)e=t;else{if(t.constructor!==String)return;e=new Date(t)}return i.debugTime=e,i.stop()._setEndDiff()._start(),i},start:function(){var t=this;return t.timeReady?t._start():t.on("timeReady",function(){t._start()}),t},stop:function(){var t=this,e=t.get("stopEventName");return t.timer&&(clearTimeout(t.timer),delete t.timer),t.multiStage&&t.currentStage<t.multiStage?(t.trigger(e[t.currentStage-1]),t.endTime=t.get("to")[t.currentStage++],t._setEndDiff()._start()):t.trigger(t.multiStage?e[t.currentStage-1]:e),t},off:function(t){var e=this,t=t||"0";return e.timer&&(clearTimeout(e.timer),delete e.timer),n.each(s,function(i,n){e["ph"+n]&&e["ph"+n].html(e.get("format").indexOf(r[n])>-1?t+t:t)}),e},_setEndDiff:function(){var t=this,e=t.debugTime||new Date;return e.setTime(e.getTime()+t.serverDiff),t.diff=new Date(t.endTime-e),t},_setServerDiff:function(){var t=this;return t.get("useServerTime")&&i?i.now(function(e){t.serverDiff=e?e-(new Date).getTime():0,t.trigger("timeReady")}):(t.serverDiff=0,t.trigger("timeReady")),t},_interval:function(){var t=this,e=t.diff;if(0>e)return void t.stop();var i={year:e.getFullYear()-1970,month:e.getUTCMonth(),day:e.getUTCDate()-1,hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds()};i=t._handleMaxUnit(i),t.get("animate")?n.each(s,function(e,n){var o=t[n]||0,s=i[n];t["ph"+n]&&o!==s&&(t._animate(t["ph"+n],o,s),t[n]=s)}):n.each(s,function(e,n){var o=i[n];t["ph"+n]&&t[n]!==o&&(t["ph"+n].html(10>o&&t.get("format").indexOf(r[n])>-1?"0"+o:o),t[n]=o)}),t.diff=new Date(t.diff-1e3*t.get("step")),t.fixInterval&&i.second%t.fixInterval===0&&t._setEndDiff(),t.timer=setTimeout(function(){t._interval.call(t)},990*t.get("step"))},_handleMaxUnit:function(t){var e=this,i=e.get("maxUnit");if(n.inArray(i,s)<=0)return t;switch(i){case"month":return{second:t.second,minute:t.minute,hour:t.hour,day:t.day,month:t.month+12*t.year,year:0};case"day":return{second:t.second,minute:t.minute,hour:t.hour,day:t.day+30*t.month+365*t.year,month:0,year:0};case"hour":return{second:t.second,minute:t.minute,hour:t.hour+24*(t.day+30*t.month+365*t.year),day:0,month:0,year:0};case"minute":return{second:t.second,minute:t.minute+60*(t.hour+24*(t.day+30*t.month+365*t.year)),hour:0,day:0,month:0,year:0};case"second":return{second:t.second+60*(t.minute+60*(t.hour+24*(t.day+30*t.month+365*t.year))),minute:0,hour:0,day:0,month:0,year:0}}},_animate:function(t,e,i){var s,r,a=t.length,l=0;for(e=o(e,a),i=o(i,a);a>l;l++)if(s=e.charAt(l),r=i.charAt(l),s!==r){var c=n(t[l]),u=c.children(),d=n("<dd>").addClass("num"+r);c.append(d),u.animate({marginTop:"-"+u.height()+"px"},800,function(){n(this).remove()})}}});return a}),define("lofty/ui/widget/1.0/widget",["lofty/lang/class","lofty/lang/base","jquery"],function(t,e,i){"use strict";function n(){return"fui_widget_"+d++}function o(t,e,n){if("document"===n)i(document).off(e);else if("window"===n)i(window).off(e);else{var o=t.get("el");o.off(e,n)}}function s(t){var e=document.documentElement;return i.contains?i.contains(e,t):!!(16&e.compareDocumentPosition(t))}function r(t,e){return t.replace(/{([^}]+)}/g,function(t,i){for(var n,o=i.split("."),s=e;n=o.shift();)s=s===e.options?e.get(n):s[n];return u(s)?s:""})}var a=t(e,{options:{tpl:"<div></div>",extendTplData:null,container:{value:"body",getter:function(t){return u(t)&&(t=i(t)),t}},el:{getter:function(t){return u(t)&&(t=i(t)),t}}},events:null,init:function(t){this.mixOptions(["tpl","events"]),e.prototype.init.call(this,t||{}),this.buildElement(),this.bindEvent(),this._create()},destroy:function(){this.unbindEvent(),e.prototype.destroy.call(this)},_create:function(t){},render:function(t){t&&this.set("container",t);var e=this.get("el"),i=this.get("container");return i&&!s(e[0])&&e.appendTo(i),this},bindEvent:function(t){t=t||this.get("events");for(var e in t){var n=t[e];for(var o in n){var e=r(e,this),s=r(o,this)+".events-"+this.wId;!function(t,n){var o=function(e){c(t)?t.call(n,e):n[t](e)},r=n.get("el");""===e?r.on(s,o):"document"===e?i(document).on(s,o):"window"===e?i(window).on(s,o):r.on(s,e,o)}(n[o],this)}}return this},unbindEvent:function(t){if(t)for(var e in t){var i=t[e],e=r(e,this);for(var n in i){var s=r(n,this)+".events-"+this.wId;o(this,s,e)}}else{var s=".events-"+this.wId;o(this,s)}return this},buildElement:function(){var t,e="dynamic",o=this.get("tpl");if(this.wId=n(),u(o)?("."===o.charAt(0)||"#"===o.charAt(0)||"body"===o)&&(t=i(o)):t=o,t&&t.length>0&&("SCRIPT"==t[0].nodeName.toUpperCase()?(o=t.html(),this.set("tpl",o)):e="static"),this.set("renderType",e),"static"===e)this.set("el",t);else{var s=i(this.get("el"));if(this.handleTpl(),s&&0!==s.length){var r=this.get("container");r.append(i(this.get("tpl")))}else{var a=this.wId,o=i(this.get("tpl"));o.length>1?o=i('<div id="'+a+'"></div>').append(o):(a=o.attr("id")||this.wId,o.attr("id",a)),this.set("el",o)}}if(!this.get("el"))throw new Error("element is empty!")},mixOptions:function(t){for(var e in t){var i=t[e];this[i]&&this.options&&(this.options[i]=this[i])}},handleTpl:function(){}}),l={}.toString,c=function(t){return"[object Function]"===l.call(t)},u=function(t){return"string"==typeof t},d=0;return a}),define("lofty/ui/clipboard/1.0/clipboard",["jquery","lofty/lang/class","lofty/lang/base"],function(t,e,i){"use strict";var n=e(i,{options:{container:null,triggerSelector:null,triggerEvent:"click",textGetter:null,isPreventDefault:!0,successCallback:null,failedCallback:null},init:function(){i.prototype.init.apply(this,arguments);var t=this.get("triggerSelector"),e=this.get("container"),n=this.get("triggerEvent"),o=this.get("textGetter"),s=this.get("isPreventDefault");t&&n&&o&&this.register({container:e,triggerSelector:t,triggerEvent:n,textGetter:o,isPreventDefault:s})},handleFailed:function(t,e){var i=this.get("failedCallback");"function"==typeof i?i.call(this,t,e):window.prompt("\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u590d\u5236\uff0c\u8bf7\u624b\u52a8\u590d\u5236\u4ee5\u4e0b\u6587\u6848",t),this.trigger("failed",t,e)},handleSuccess:function(t,e){var i=this.get("successCallback");"function"==typeof i&&i.call(this,t,e),this.trigger("success",t,e)},register:function(e){e=e||{};var i=this,n=e.container,o=e.triggerSelector,s=e.textGetter,r=e.isPreventDefault||this.get("isPreventDefault"),a=e.failedCallback,l=e.successCallback,c=e.triggerEvent||this.get("triggerEvent");if(o&&s&&c){var u=function(e){r&&e.preventDefault();var n=t(this),o=s.call(i,n);i.copyText(o)?"function"==typeof l?(l.call(i,o,n),i.trigger("success",o,n)):i.handleSuccess(o,n):"function"==typeof a?(a.call(i,o,n),i.trigger("failed",o,n)):i.handleFailed(o,n)};n?t(n).on(c,o,u):t(o).on(c,u)}},copyText:function(e){if(null==e)return!0;var i=!1;if(window.clipboardData&&window.clipboardData.setData)try{i=window.clipboardData.setData("text",e),i!==!1&&(i=!0)}catch(n){i=!1}else if(document.execCommand){var o=t('<textarea style="width:1px;height:1px;position:absolute;top:0;left:0"></textarea>').appendTo(t("body")).prop("readOnly",!0);o.val(e),o[0].select&&o[0].setSelectionRange?(o[0].select(),o[0].setSelectionRange(0,e.length),i=document.execCommand("copy"),o.remove()):o.remove()}return i}}),o=null;return n.getDefault=function(){return null==o&&(o=new n),o},n}),!function(){function t(t){return t.replace(b,"").replace(w,",").replace(_,"").replace(C,"").replace(k,"").split(S)}function e(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function i(i,n){function o(t){return h+=t.split(/\n/).length-1,u&&(t=t.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),t&&(t=y[1]+e(t)+y[2]+"\n"),t}function s(e){var i=h;if(c?e=c(e,n):r&&(e=e.replace(/\n/g,function(){return h++,"$line="+h+";"})),0===e.indexOf("=")){var o=d&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),o){var s=e.replace(/\s*\([^\)]+\)/,"");f[s]||/^(include|print)$/.test(s)||(e="$escape("+e+")")}else e="$string("+e+")";e=y[1]+e+y[2]}return r&&(e="$line="+i+";"+e),v(t(e),function(t){if(t&&!g[t]){var e;e="print"===t?w:"include"===t?_:f[t]?"$utils."+t:p[t]?"$helpers."+t:"$data."+t,C+=t+"="+e+",",g[t]=!0}}),e+"\n"}var r=n.debug,a=n.openTag,l=n.closeTag,c=n.parser,u=n.compress,d=n.escape,h=1,g={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},m="".trim,y=m?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],b=m?"$out+=text;return $out;":"$out.push(text);",w="function(){var text=''.concat.apply('',arguments);"+b+"}",_="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+b+"}",C="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(r?"$line=0,":""),k=y[0],S="return new String("+y[3]+");";v(i.split(a),function(t){t=t.split(l);var e=t[0],i=t[1];1===t.length?k+=o(e):(k+=s(e),i&&(k+=o(i)))});var x=C+k+S;r&&(x="try{"+x+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+e(i)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var D=new Function("$data","$filename",x);return D.prototype=f,D}catch(T){throw T.temp="function anonymous($data,$filename) {"+x+"}",T}}var n=function(t,e){return"string"==typeof e?m(e,{filename:t}):r(t,e)};n.version="3.0.0",n.config=function(t,e){o[t]=e};var o=n.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},s=n.cache={};n.render=function(t,e){return m(t,e)};var r=n.renderFile=function(t,e){var i=n.get(t)||g({filename:t,name:"Render Error",message:"Template not found"});return e?i(e):i};n.get=function(t){var e;if(s[t])e=s[t];else if("object"==typeof document){var i=document.getElementById(t);if(i){var n=(i.value||i.innerHTML).replace(/^\s*|\s*$/g,"");e=m(n,{filename:t})}}return e};var a=function(t,e){return"string"!=typeof t&&(e=typeof t,"number"===e?t+="":t="function"===e?a(t.call(t)):""),t},l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},c=function(t){return l[t]},u=function(t){return a(t).replace(/&(?![\w#]+;)|[<>"']/g,c)},d=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},h=function(t,e){var i,n;if(d(t))for(i=0,n=t.length;n>i;i++)e.call(t,t[i],i,t);else for(i in t)e.call(t,t[i],i)},f=n.utils={$helpers:{},$include:r,$string:a,$escape:u,$each:h};n.helper=function(t,e){p[t]=e};var p=n.helpers=f.$helpers;n.onerror=function(t){var e="Template Error\n\n";for(var i in t)e+="<"+i+">\n"+t[i]+"\n\n";"object"==typeof console&&console.error(e)};var g=function(t){return n.onerror(t),function(){return"{Template Error}"}},m=n.compile=function(t,e){function n(i){try{return new l(i,a)+""}catch(n){return e.debug?g(n)():(e.debug=!0,m(t,e)(i))}}e=e||{};for(var r in o)void 0===e[r]&&(e[r]=o[r]);var a=e.filename;try{var l=i(t,e)}catch(c){return c.filename=a||"anonymous",c.name="Syntax Error",g(c)}return n.prototype=l.prototype,n.toString=function(){return l.toString()},a&&e.cache&&(s[a]=n),n},v=f.$each,y="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,w=/[^\w$]+/g,_=new RegExp(["\\b"+y.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),C=/^\d[^,]*|,\d[^,]*/g,k=/^,+|,+$/g,S=/^$|,+/;o.openTag="{{",o.closeTag="}}";var x=function(t,e){var i=e.split(":"),n=i.shift(),o=i.join(":")||"";return o&&(o=", "+o),"$helpers."+n+"("+t+o+")"};o.parser=function(t,e){t=t.replace(/^\s/,"");var i=t.split(" "),o=i.shift(),s=i.join(" ");switch(o){case"if":t="if("+s+"){";break;case"else":i="if"===i.shift()?" if("+i.join(" ")+")":"",t="}else"+i+"{";break;case"/if":t="}";break;case"each":var r=i[0]||"$data",a=i[1]||"as",l=i[2]||"$value",c=i[3]||"$index",u=l+","+c;"as"!==a&&(r="[]"),t="$each("+r+",function("+u+"){";break;case"/each":t="});";break;case"echo":t="print("+s+");";break;case"print":case"include":t=o+"("+i.join(",")+");";break;case"!":t=s;break;default:if(/^\s*\|\s*[\w\$]/.test(s)){var d=!0;0===t.indexOf("#")&&(t=t.substr(1),d=!1);for(var h=0,f=t.split("|"),p=f.length,g=f[h++];p>h;h++)g=x(g,f[h]);t=(d?"=":"=#")+g}else t=n.helpers[o]?"=#"+o+"("+i.join(",")+");":"="+t}return t},"function"==typeof define?define("lofty/util/template/2.0/template",["require","exports","module"],function(t,e,i){i.exports=n}):"undefined"!=typeof exports?module.exports=n:this.template=n}();function aliclick(t,e){var i="//stat.1688.com/tracelog/click.html";return baseClick(i,e)}function etcclick(t,e){var i="//stat.1688.com/etclistquery.html";return baseClick(i,e)}function eeclick(t,e){var i="//stat.1688.com/ee.html";return baseClick(i,e)}function aliclickType(t,e){var i=window.location.href;if(i)var n=i.substring(i.lastIndexOf("/")+1,i.lastIndexOf("."));aliclick(t,e+"_"+n)}function baseClick(t,e){return!0}FD.widget.Calender=function(t){this.init(t)},FD.widget.Calender.defConfig={inputObj:null,targetObj:null,_date:null,calYearsel:null,calMonthsel:null,calbottom:null,calYear:0,calMonth:0,calDay:0,MonthDays:new Array(31,28,31,30,31,30,31,31,30,31,30,31),DayArr:[],showMoreDay:!1,Dragable:!1,
zeroAdd:!1,XOffset:0,YOffset:0,beginDate:"",endDate:"",onChooseData:""},FD.widget.Calender.prototype={getStyle:function(){var t="";return t},getHeader:function(){var t=new Array("\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"),e="<thead class ='candrag'><tr class='candrag'><th colspan='7' class='calhead candrag'><div id='calheader candrag'>";e+="<a class='calnavleft' id='calnavleft'></a><select id='calYearsel' style='margin-left:3px;margin-top:5px;width:65px;font-size:12px;'></select><select id='calMonthsel' style='margin-left:5px;width:48px;font-size:12px;'></select><a class='calnavright' id='calnavright'></a></div></th></tr><tr class='calweekdayrow candrag' style='height:20px;line-height:20px;'>";for(var i=0;7>i;i++)e+="<th class='calweekdaycell'>"+t[i]+"</th>";return e+="</tr></thead>"},getBody:function(){var t="",e=0;for(t="<tbody>",i=0;i<6;i++){for(t+="<tr align='center'>",j=0;j<7;j++)t+="<td class='calpoint' id='calDay"+e++ +"'></td>";t+="</tr>"}return t+="<tr><td colspan='7' style='border:0px;'><table><tr><td style='width:140px;' class='calbottom' id='calbottom'></td><td class='calbottom' style='width:30px;'><div style='cursor:pointer;' id='clearbutton'>\u6e05\u9664</div></td></tr></table></td></tr>",t+="</tbody>"},init:function(t){this.defConfig=FD.common.applyIf(t||{},FD.widget.Calender.defConfig);var e=this.getStyle(),n=document.createElement("div");if(n.id="fd-container",document.body.appendChild(n),$D.addClass("fd-container","fd-calcontainer"),$D.setStyle("fd-container","display","none"),e+="<table style='width:170px;position:absolute;left:3;top:0;z-index:10;'>",e+=this.getHeader(),e+=this.getBody(),e+="</table>",n.innerHTML=e,6==YAHOO.env.ua.ie){var o=document.createElement("iframe");o.className="fd-cal-iframe",$D.setStyle(o,"opacity","0"),n.appendChild(o)}for($E.addListener($("calnavleft"),"click",this.showPrevM,this,!0),$E.addListener($("calnavright"),"click",this.showNextM,this,!0),i=0;i<42;i++){var s=$("calDay"+i);$E.addListener(s,"click",this.onClickDay,this,!0),$E.addListener(s,"mouseover",this.onmMouseover,this,!0),$E.addListener(s,"mouseout",this.onmMouseout,this,!0),this.defConfig.DayArr[i]=s}$E.addListener($("clearbutton"),"click",this.clearData,this,!0),this.defConfig.calYearsel=$("calYearsel"),this.defConfig.calMonthsel=$("calMonthsel"),this.defConfig.calbottom=$("calbottom")},clearData:function(){this.defConfig.targetObj.value=""},onClickDay:function(t){t=t||window.event;var e=t.target||t.srcElement,i="",n=e.iYear,o=e.iMonth,s=e.innerHTML;this.defConfig.zeroAdd&&(10>o&&(o="0"+o),10>s&&(s="0"+s)),i=n+"-"+o+"-"+s,this.defConfig.targetObj.value=0==e.iMonth?"":i,$D.setStyle("fd-container","display","none"),this.defConfig.onChooseData&&this.defConfig.onChooseData.call(this)},showPrevM:function(){var t=this.defConfig.calYearsel.options[this.defConfig.calYearsel.selectedIndex].value,e=this.defConfig.calMonthsel.options[this.defConfig.calMonthsel.selectedIndex].value;if(e--,0==e){if(e=12,t--,this.defConfig.calMonthsel.selectedIndex=11,this.defConfig.calYearsel.selectedIndex--,0==this.defConfig.calYearsel.selectedIndex){for(var i=t-6,n=0;12>n;n++)this.defConfig.calYearsel.options[n].text=i+"\u5e74",this.defConfig.calYearsel.options[n].value=i,i++;this.defConfig.calYearsel.selectedIndex=6}}else this.defConfig.calMonthsel.selectedIndex--;var o=t+"-"+e+"-01";this.setData(o)},showNextM:function(){var t=this.defConfig.calYearsel.options[this.defConfig.calYearsel.selectedIndex].value,e=this.defConfig.calMonthsel.options[this.defConfig.calMonthsel.selectedIndex].value;if(e++,13==e){if(e=1,t++,this.defConfig.calMonthsel.selectedIndex=0,this.defConfig.calYearsel.selectedIndex++,11==this.defConfig.calYearsel.selectedIndex){for(var i=t-6,n=0;12>n;n++)this.defConfig.calYearsel.options[n].text=i+"\u5e74",this.defConfig.calYearsel.options[n].value=i,i++;this.defConfig.calYearsel.selectedIndex=6}}else this.defConfig.calMonthsel.selectedIndex++;var o=t+"-"+e+"-01";this.setData(o)},onSelectChange:function(){var t=this.defConfig.calYearsel.options[this.defConfig.calYearsel.selectedIndex].value,e=this.defConfig.calMonthsel.options[this.defConfig.calMonthsel.selectedIndex].value,i=t+"-"+e+"-01";if(this.setData(i),0==this.defConfig.calYearsel.selectedIndex||11==this.defConfig.calYearsel.selectedIndex){for(var n=t-6,o=0;12>o;o++)this.defConfig.calYearsel.options[o].text=n+"\u5e74",this.defConfig.calYearsel.options[o].value=n,n++;this.defConfig.calYearsel.selectedIndex=6}},onmMouseover:function(t){t=t||window.event;var e=t.target||t.srcElement;this.setClass(e,"calMouseOver")},onmMouseout:function(t){t=t||window.event;var e=t.target||t.srcElement;this.setClass(e,e.oClass)},setHead:function(t,e){if(0==this.defConfig.calYearsel.options.length){for(var i=t-6;t+6>i;i++)this.defConfig.calYearsel.options[this.defConfig.calYearsel.options.length]=new Option(i+"\u5e74",i);for(this.defConfig.calYearsel.selectedIndex=6,i=1;12>=i;i++)this.defConfig.calMonthsel.options[this.defConfig.calMonthsel.options.length]=new Option(i+"\u6708",i);this.defConfig.calMonthsel.selectedIndex=e,$E.addListener(this.defConfig.calMonthsel,"change",this.onSelectChange,this,!0),$E.addListener(this.defConfig.calYearsel,"change",this.onSelectChange,this,!0)}else{for(var i=t-6;t+6>i;i++)this.defConfig.calYearsel.options[i-t+6].text=i+"\u5e74",this.defConfig.calYearsel.options[i-t+6].value=i;this.defConfig.calYearsel.selectedIndex=6,this.defConfig.calMonthsel.selectedIndex=e}if(""==this.defConfig.calbottom.innerHTML){var n=this.defConfig.calMonth+1;this.defConfig.calbottom.innerHTML="\u4eca\u5929:"+this.defConfig.calYear+"\u5e74"+n+"\u6708"+this.defConfig.calDay+"\u65e5"}},setClass:function(t,e){1==$D.hasClass(t,"caltoday")&&$D.removeClass(t,"caltoday"),1==$D.hasClass(t,"calthisM")&&$D.removeClass(t,"calthisM"),1==$D.hasClass(t,"calNthisM")&&$D.removeClass(t,"calNthisM"),1==$D.hasClass(t,"calMouseOver")&&$D.removeClass(t,"calMouseOver"),1==$D.hasClass(t,"calneedremove")&&$D.removeClass(t,"calneedremove"),1==$D.hasClass(t,"calsettedday")&&$D.removeClass(t,"calsettedday"),$D.addClass(t,e)},setData:function(t){var e=t.split("-"),n=new Date(e[0],e[1]-1,e[2]);isNaN(n)&&(n=new Date),this.defConfig._date=n;var o=this.defConfig.targetObj.value.split("-"),s=-1,r=-1,a=-1;3==o.length&&(s=o[0],r=o[1]-1,a=o[2]);var l=n.getFullYear(),c=n.getMonth(),u=1;this.defConfig.calYear=(new Date).getFullYear(),this.defConfig.calMonth=(new Date).getMonth(),this.defConfig.calDay=(new Date).getDate(),this.setHead(l,c);var d=new Date(l,c,1).getDay(),h=0==c?l-1:l,f=0==c?11:c-1,p=this.defConfig.MonthDays[f],g=11==c?l+1:l,m=11==c?0:c+1,v=1,y=this.defConfig.targetObj.getAttribute("beginDate"),b=this.defConfig.targetObj.getAttribute("endDate"),w=-1,_=-1,C=-1,k=-1,S=-1,x=-1,D=!1;for(y&&(w=y.split("-")[0],_=y.split("-")[1],C=y.split("-")[2]),b&&(k=b.split("-")[0],S=b.split("-")[1],x=b.split("-")[2]),1==f&&(p=h%4==0&&h%100!=0||h%400==0?29:28),p-=d-1,this.defConfig.MonthDays[1]=l%4==0&&l%100!=0||l%400==0?29:28,i=0;i<42;i++){if(i<d)if(this.defConfig.showMoreDay){{new Date(h,f,p)}this.defConfig.DayArr[i].innerHTML=p,this.defConfig.DayArr[i].iMonth=f+1,this.defConfig.DayArr[i].iYear=h,this.defConfig.DayArr[i].oClass="calNthisM",this.setClass(this.defConfig.DayArr[i],"calNthisM"),p++}else this.defConfig.DayArr[i].innerHTML="",this.defConfig.DayArr[i].title="",this.defConfig.DayArr[i].iMonth=0;else if(i>=new Date(l,c,1).getDay()&&u<=this.defConfig.MonthDays[c])this.defConfig.DayArr[i].innerHTML=u,this.defConfig.DayArr[i].iMonth=c+1,this.defConfig.DayArr[i].iYear=l,u==this.defConfig.calDay&&c==this.defConfig.calMonth&&l==this.defConfig.calYear?(this.defConfig.DayArr[i].oClass="caltoday",this.setClass(this.defConfig.DayArr[i],"caltoday")):u==a&&c==r&&l==s?(this.defConfig.DayArr[i].oClass="calsettedday",this.setClass(this.defConfig.DayArr[i],"calsettedday")):(this.defConfig.DayArr[i].oClass="calthisM",this.setClass(this.defConfig.DayArr[i],"calthisM")),u++;else if(this.defConfig.showMoreDay){{new Date(g,m,1)}this.defConfig.DayArr[i].innerHTML=v,v++,this.defConfig.DayArr[i].iMonth=m+1,this.defConfig.DayArr[i].iYear=g,this.defConfig.DayArr[i].oClass="calNthisM",this.setClass(this.defConfig.DayArr[i],"calNthisM")}else this.defConfig.DayArr[i].innerHTML="",this.defConfig.DayArr[i].title="",this.defConfig.DayArr[i].iMonth=0;D=!1,w>0&&(this.defConfig.DayArr[i].iYear<w?D=!0:this.defConfig.DayArr[i].iYear==w&&this.defConfig.DayArr[i].iMonth<_?D=!0:this.defConfig.DayArr[i].iYear==w&&this.defConfig.DayArr[i].iMonth==_&&parseInt(this.defConfig.DayArr[i].innerHTML)<C&&(D=!0),1==D?($E.removeListener(this.defConfig.DayArr[i],"click"),$D.setStyle(this.defConfig.DayArr[i],"cursor","default"),this.setClass(this.defConfig.DayArr[i],"calneedremove"),this.defConfig.DayArr[i].oClass="calneedremove"):($E.removeListener(this.defConfig.DayArr[i],"click"),$E.addListener(this.defConfig.DayArr[i],"click",this.onClickDay,this,!0),$D.setStyle(this.defConfig.DayArr[i],"cursor","pointer"))),k>0&&(this.defConfig.DayArr[i].iYear>k?D=!0:this.defConfig.DayArr[i].iYear==k&&this.defConfig.DayArr[i].iMonth>S?D=!0:this.defConfig.DayArr[i].iYear==k&&this.defConfig.DayArr[i].iMonth==S&&parseInt(this.defConfig.DayArr[i].innerHTML)>x&&(D=!0),1==D?($E.removeListener(this.defConfig.DayArr[i],"click"),$D.setStyle(this.defConfig.DayArr[i],"cursor","default"),this.setClass(this.defConfig.DayArr[i],"calneedremove"),this.defConfig.DayArr[i].oClass="calneedremove"):($E.removeListener(this.defConfig.DayArr[i],"click"),$E.addListener(this.defConfig.DayArr[i],"click",this.onClickDay,this,!0),$D.setStyle(this.defConfig.DayArr[i],"cursor","pointer")))}},show:function(){if(arguments.length>3||0==arguments.length)return void alert("\u5bf9\u4e0d\u8d77\uff01\u53c2\u6570\u4e2a\u6570\u4e0d\u5bf9\uff01");for(var t=null,e=null,i=null,n=null,o=0;o<arguments.length;o++)"object"==typeof arguments[o]&&"text"==arguments[o].type?t=arguments[o]:"object"==typeof arguments[o]?e=arguments[o]:"string"==typeof arguments[o]&&(i=arguments[o]);if(this.defConfig.targetObj!=t||"none"==$D.getStyle("fd-container","display")){n=t.value,""==n&&i&&(n=i),this.defConfig.inputObj=e,this.defConfig.targetObj=t,$E.addListener(document,"click",this.hide,this,!0),this.setData(n);var s=$D.getXY(t)[1]+t.offsetHeight+this.defConfig.YOffset,r=$D.getXY(t)[0]+this.defConfig.XOffset;if($D.setStyle("fd-container","top",s+"px"),$D.setStyle("fd-container","left",r+"px"),$D.setStyle("fd-container","display",""),1==this.defConfig.Dragable)new YAHOO.util.DD("fd-container");else{var a=$D.getElementsByClassName("candrag").length;for(o=0;a>o;o++)$D.removeClass($D.getElementsByClassName("candrag")[0],"candrag")}}},hide:function(t){t=t||window.event;for(var e=t.target||t.srcElement,i=!1,n=e;null!=n;n=n.parentNode)if("fd-container"==n.id){i=!0;break}0==i&&e!=this.defConfig.inputObj&&e!=this.defConfig.targetObj&&$D.setStyle("fd-container","display","none")}},FD.widget.Calender.init=function(t){return new FD.widget.Calender(t)},!function(t){function e(e,o){if(o=FD.common.applyIf(o||{},t.block.defaults),o.css=FD.common.applyIf(o.css||{},t.block.defaults.css),o.overlayCSS=FD.common.applyIf(o.overlayCSS||{},t.block.defaults.overlayCSS),h&&i(),e.parentNode){var a={};a.el=e,a.parent=e.parentNode,a.display=e.style.display,a.position=e.style.position,t.block.cache.history=a}var p,g,m,v=o.baseZ;if(d){var y=/^https/i.test(window.location.href||"")?"javascript:false":"about:blank";o.iframe&&(p=document.createElement("iframe"),FYD.addClass(p,"blockui"),FYD.setStyle(p,"z-index",v++),FYD.setStyle(p,"display","none"),FYD.setStyle(p,"margin","0"),FYD.setStyle(p,"padding","0"),FYD.setStyle(p,"width","100%"),FYD.setStyle(p,"height","100%"),FYD.setStyle(p,"top","0"),FYD.setStyle(p,"left","0"),FYD.setStyle(p,"border","0 none"),FYD.setAttribute(p,"src",y))}o.showOverlay&&(g=document.createElement("div"),FYD.addClass(g,"blockui"),FYD.addClass(g,"blockoverlay"),FYD.setStyle(g,"position","fixed"),FYD.setStyle(g,"z-index",v++),FYD.setStyle(g,"display","none"),FYD.setStyle(g,"margin","0"),FYD.setStyle(g,"padding","0"),FYD.setStyle(g,"width","100%"),FYD.setStyle(g,"height",d?FYD.getDocumentHeight():"100%"),FYD.setStyle(g,"top","0"),FYD.setStyle(g,"left","0"),FYD.setStyle(g,"border","0 none")),m=document.createElement("div"),FYD.addClass(m,"blockui"),FYD.addClass(m,"blockmsg"),FYD.setStyle(m,"z-index",v),FYD.setStyle(m,"display","none"),FYD.setStyle(m,"position",o.fixed&&!d?"fixed":"absolute");for(prop in o.css)FYD.setStyle(m,prop,o.css[prop]);if(g&&!o.applyPlatformOpacityRules||!(u.gecko>0&&/Linux/.test(navigator.platform)))for(prop in o.overlayCSS)FYD.setStyle(g,prop,o.overlayCSS[prop]);p&&FYD.setStyle(p,"opacity",0),p&&document.body.appendChild(p),g&&document.body.appendChild(g),0<u.ie&&u.ie<8&&l(f),document.body.appendChild(m),d&&(FYD.batch([p,g,m],function(t){if(t){var e=t.style;t==p||t==g?FYD.setStyle(t,"position","absolute"):t!=m||o.center||(e.top=o.css&&o.css.top?parseInt(o.css.top):0,e.left=o.css&&o.css.left?parseInt(o.css.left):0)}}),o.fixed&&FYE.on(window,"scroll",r,[p,g,m],o)),m.appendChild(e),FYD.setStyle([p,g,m,e],"display","block"),FYE.on(window,"resize",s,[p,g,m],o),s.call(o,null,[p,g,m]),o.constrainTabKey&&o.showOverlay&&n(!0),h=m,f=FYS("input,textarea",m).filter(function(t){return!t.disabled&&"hidden"!==t.type&&(t.offsetWidth>0||t.offsetHeight>0)?!0:!1}),o.focusInput&&f.length&&(c=o.focusIndex,f[c].focus()),o.onBlock&&o.onBlock()}function i(e){if(h){FYE.removeListener(window,"resize",a),FYE.removeListener(window,"scroll",r),FYE.removeListener(window,"resize",s),e=e||{},n(!1,e),h=pageLeft=pageTop=null,f=[];var i=t.block.cache.history;0<u.ie&&u.ie<8&&l(f),i&&(i.el.style.display=i.display,i.el.style.position=i.position,i.parent&&i.parent.appendChild(i.el),i=null);for(var o=FYS("div.blockui,iframe.blockui"),c=0;c<o.length;c++)o[c].parentNode&&o[c].parentNode.removeChild(o[c]);"function"==typeof e.onUnblock&&e.onUnblock()}}function n(t){(t||h)&&(t?FYE.addListener(document,"keydown",o):$E.removeListener(document,"keydown",o))}function o(t){t.keyCode&&9==t.keyCode&&(FYE.preventDefault(t),f.length&&(t.shiftKey?c--:c++,t.shiftKey&&0>c&&(c=f.length-1),t.shiftKey||c!=f.length||(c=0),f[c].focus()))}function s(t,e){this.center&&a.call(e[2],null,this),d&&(FYD.setStyle([e[0],e[1]],"width",FYD.getDocumentWidth()+"px"),FYD.setStyle([e[0],e[1]],"height",FYD.getDocumentHeight()+"px"))}function r(t,e){var i=FYD.getDocumentScrollTop(),n=FYD.getDocumentScrollLeft();FYD.setStyle(e[2],"top",i+pageTop+"px"),FYD.setStyle(e[2],"left",n+pageLeft+"px")}function a(t,e){var i=FYD.getRegion(this);pageLeft=(FYD.getViewportWidth()-i.width)/2,pageTop=(FYD.getViewportHeight()-i.height)/2;var n=(e.fixed&&!d?0:FYD.getDocumentScrollLeft())+pageLeft,o=(e.fixed&&!d?0:FYD.getDocumentScrollTop())+pageTop;0>n&&(n=0),0>o&&(o=0),FYD.setStyle(this,"left",n+"px"),FYD.setStyle(this,"top",o+"px")}function l(t){for(var e=0;e<t.length;e++)("checkbox"==t[e].type||"radio"==t[e].type)&&(t[e].defaultChecked=t[e].checked)}t.block=function(t,i){e(t,i)},t.unblock=function(t){i(t)},t.block.defaults={css:{},overlayCSS:{backgroundColor:"#000",opacity:.3},baseZ:1e4,iframe:!1,fixed:!1,center:!0,allowBodyStretch:!0,constrainTabKey:!0,showOverlay:!0,focusInput:!0,focusIndex:0,applyPlatformOpacityRules:!0,onUnblock:null},t.block.cache={};var c,u=YAHOO.env.ua,d=6==u.ie,h=pageTop=pageLeft=null,f=[]}(FD.widget),!window.FD||FD.sys&&FD.sys.Dcms&&FD.sys.Dcms.Drive||(YAHOO.namespace("FD.sys.Dcms.Drive"),function(t,e){function i(t,e){e=FD.common.applyIf({},e),$D.batch(t,function(t){var i=$D.getAttribute(t,"data-url"),o=$D.getAttribute(t,"data-deletess"),r={},a={onCallback:function(i){if(i&&i.content){d.init();var r=d.handle(i.content,t,o);d.reset();var a=e.success;if(a&&a instanceof Function&&a.call(r),i.pid&&i.rid&&i.tid){var l=i.pid,c=i.rid,u=i.tid,h="pid="+l+"&rid="+c+"&tid="+u,f=l+","+c+","+u+";";$D.batch(r,function(t){"A"===t.tagName.toUpperCase()&&t.setAttribute("data-click-param",h),$D.batch($$("a",t),function(t){t.setAttribute("data-click-param",h)}),$D.hasClass(t,"dcms-beacon-position")&&t.setAttribute("data-exposure-id",f)}),s(f)}}else{var p=e.error;p&&p instanceof Function?p.call(t):n(t,"\u6570\u636e\u52a0\u8f7d\u5931\u8d25\uff0c\u7a0d\u540e\u5237\u65b0\u91cd\u8bd5")}},onFailure:function(i){var o=e.error;o&&o instanceof Function?o.call(t):n(t,"\u6570\u636e\u52a0\u8f7d\u5931\u8d25\uff0c\u7a0d\u540e\u5237\u65b0\u91cd\u8bd5")},onTimeout:function(i){var o=e.error;o&&o instanceof Function?o.call(t):n(t,"\u6570\u636e\u52a0\u8f7d\u5931\u8d25\uff0c\u7a0d\u540e\u5237\u65b0\u91cd\u8bd5")}};FD.common.request("jsonp",i,a,r)})}function n(t,e){if(t||e){var i=document.createElement("div");i.innerHTML=e,$D.setStyle(i,"fontSize","16px"),$D.setStyle(i,"fontWeight","bolder"),$D.insertAfter(i,t),t.parentNode.removeChild(t)}}function o(){var t=a();$E.delegate(document,"mousedown",function(e){var i=$D.getAttribute(this,"data-click-param"),n=$D.getAttribute(this,"href"),o=n.indexOf("?"),s=n.indexOf("#");n=-1!==o?n.substring(0,o):n,n=-1!==s?n.substring(0,s):n,i+="&url="+n,(new Image).src="//stat.1688.com/click_dcms.htm?"+i+"&st_page_id="+t},"a.dcms-beacon-position-a")}function s(t){var e=a(),i=document.createElement("script");r(i),i.setAttribute("type","text/javascript"),i.src="//ctr.1688.com/ctr_dcms.html?info="+t+"&page_id="+e}function r(t){var e=document.getElementsByTagName("head")[0],i=$$("base",e);i.length>0?e.insertBefore(t,i[0]):e.appendChild(t)}function a(){var t=window.dmtrack_pageid||"";return a=function(){return t},t}var l=null,c=null,u=null,d={init:function(){var t=this;t.write=document.write,t.writeln=document.writeln,document.write=function(e){t._reWrite(e)},document.writeln=function(e){t._reWrite(e+"\n")}},reset:function(){this.write&&(document.write=this.write),this.writeln&&(document.writeln=this.writeln)},_innerShiv:function(t){var e,i,n=document,o="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" ");if(!e&&(e=n.createElement("div"),e.innerHTML="<nav></nav>",i=1!==e.childNodes.length)){for(var s=document.createDocumentFragment(),r=o.length;r--;)s.createElement(o[r]);s.appendChild(e)}return e.innerHTML=t,e},handle:function(t,e,i,n){if(t||e){var o=document.createElement("div"),s=this;switch(i instanceof Boolean&&(n=i,i="none"),n="undefined"!=typeof n?n:!0,o.innerHTML='<span style="display:none">hack ie</span>'+t,i){case"style":s._delElementsByTag("style",o);break;case"script":s._delElementsByTag("script",o);break;case"both":s._delElementsByTag("style",o),s._delElementsByTag("script",o)}for(var r=o.getElementsByTagName("script"),a=r.length,l=[],c=0,u=0;a>c;c++)if(r[u]){var d=r[u],h={};h.parent=d.parentNode,h.before=$D.getPreviousSibling(d),h.after=$D.getNextSibling(d),h.script=d.innerHTML,h.src=d.src,l.push(h),d.parentNode.removeChild(d)}else u++;var f=$D.getChildren(this._innerShiv(o.innerHTML));if(n){for(var c=0,p=f.length;p>c;c++)$D.insertBefore(f[c],e);e.parentNode&&e.parentNode.removeChild(e)}else{e.innerHTML="";for(var c=0,p=f.length;p>c;c++)e.appendChild(f)}return this._includeScript(l,0),f}},_reWrite:function(t){var e=document.createElement("div");e.innerHTML=t;var i=e.childNodes,n=i.length;if(u&&0!==u.length)for(var o=0;n>o;o++){var s=i[o];$D.insertAfter(i[o],u),u=s}else if(c&&0!==c.length)for(var o=0;n>o;o++){var s=i[o];$D.insertBefore(i[o],c),c=s}else l&&0!==l.length&&(l.innerHTML=t)},_includeScript:function(t,e){var i=t.length;if(!(!t&&!e||e>=i)){var n=document.createElement("script"),o=this,s=e+1;n.type="text/javascript",l=t[e].parent,c=t[e].after,u=t[e].before,t[e].src?(n.src=t[e].src,n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(i>s&&o._includeScript(t,s),n.onload=n.onreadystatechange=null)},r(n)):(r(n),n.text=t[e].script,i>s&&o._includeScript(t,s))}},_delElementsByTag:function(t,e){for(var i=e.getElementsByTagName(t),n=0,o=i.length;o>n;n++){var s=i[n];s&&(s.parentNode.removeChild(s),n--)}}},h=[function(){i($$(".dcms-position-beacon-js"))},function(){var t=$$(".dcms-beacon-position"),e=[];t.length>0&&(t.forEach(function(t){var i=$D.getAttribute(t,"data-exposure-id"),n=e.length;e[n-1]!==i&&e.push(i)}),s(e.join(";"))),o()}];e.request=i,$E.onDOMReady(function(){for(var t=0,e=h.length;e>t;t++)try{h[t]()}catch(i){console&&console.info&&console.info("Error at No."+t+"; "+i.name+":"+i.message)}finally{continue}})}(window,FD.sys.Dcms.Drive)),FDEV.namespace("FD.orderlist.PopWin"),function(){FD.orderlist.PopWin.instanceWin={},FD.orderlist.PopWin=function(t){this.init(t)},FD.orderlist.PopWin.defConfig={panelId:"mod-popwin",hasBlock:!0,content:"",oprBtn:"",title:"",cls:"",showCallback:function(){},closeCallback:function(){}},FD.orderlist.PopWin.prototype={init:function(t){var e=this,t=FD.common.applyIf(t||{},FD.orderlist.PopWin.defConfig);this.config=t,e.panel=FYG(t.panelId),e.panel&&(e.title=FYS(".title h3",e.panel,!0),e.content=FYS(".content",e.panel,!0),e.oprBtn=FYS(".opr-btn",e.panel,!0),e.reset())},reset:function(){this.panel.className="mod-trade-popwin",FYD.addClass(this.panel,this.config.cls),this.setContent(this.config.content),this.setOprBtn(this.config.oprBtn),this.setTitle(this.config.title)},show:function(){this.config.hasBlock?FD.widget.block(this.panel,{iframe:!0}):FYD.removeClass(this.panel,"fd-hide"),this.config.showCallback.call(this),this.isShow=!0},close:function(){this.config.hasBlock?FD.widget.unblock():FYD.addClass(this.panel,"fd-hide"),this.config.closeCallback.call(this)},setContent:function(t){this.content&&(this.content.innerHTML=t)},setOprBtn:function(t){this.oprBtn&&(this.oprBtn.innerHTML=t)},setTitle:function(t){this.title&&(this.title.innerHTML=t)}}}(),define("doit/widget/ui/dialog/base-dialog",["jquery"],function(t){var e=function(t){this.init(t)};return e.prototype={ct:null,initDefaultOptions:function(){var t={closeBtnSelector:".close",okBtnSelector:".ok",cancelBtnSelector:".cancel",tpl:null,dlgOptions:{fixed:!0,center:!0},eventNs:".baseDlg",center:!0,showOnInit:!1,container:null};return t},initOptions:function(e){var i=this.initDefaultOptions(),n=i.dlgOptions;t.extend(this,i,e||{}),this.dlgOptions=t.extend({},n,this.dlgOptions)},init:function(t){this.initOptions(t),this.createComponent()},toCenter:function(){if(this.ct&&this._isShow){var e=this.ct.parent(),i=t(window),n=i.scrollLeft(),o=i.scrollTop(),s=n+Math.floor((i.width()-e.outerWidth())/2),r=o+Math.floor((i.height()-e.outerHeight())/2);o>r&&(r=o),e.offset({left:s,top:r})}},_isShow:!1,show:function(){var t=this.ct;t&&(this.dlgEl||(this.dlgEl=t),t.css("visibility","hidden").css("display","block").dialog(this.dlgOptions),this._isShow=!0,this.center&&this.toCenter(),t.css("visibility","visible"),this.onShow())},hide:function(){var t=this.ct,e=this.dlgOptions;this._isShow=!1,t.dialog("close"),e&&e.fadeOut?t.stop(!0,!0).fadeOut(e.fadeOut,function(){t.hide()}):t.hide(),this.onHide()},onShow:function(){},onHide:function(){},destroy:function(t){t||this.ct.remove(),delete this.dlgEl,delete this.ct,delete this.dlgOptions},initBtns:function(){var e=this;this.closeBtnSelector&&(t(this.closeBtnSelector,this.ct).bind("click"+this.eventNs,function(t){t.preventDefault(),e.onCloseClick(t)}),t(this.okBtnSelector,this.ct).bind("click"+this.eventNs,function(t){t.preventDefault(),e.onOkClick(t)}),t(this.cancelBtnSelector,this.ct).bind("click"+this.eventNs,function(t){t.preventDefault(),e.onCancelClick(t)}))},onOkClick:function(t){this.hide()},onCancelClick:function(t){this.hide()},onCloseClick:function(t){this.hide()},createDlgByTpl:function(e){return t(e).appendTo("body")},createComponent:function(){var e;e=!this.container&&this.tpl?this.createDlgByTpl(this.tpl):t(this.container).first(),e.length<=0||(this.ct=e,this.initBtns(),this.showOnInit&&this.show())}},e}),define("doit/widget/ui/dialog/message-dialog",["jquery"],function(t){var e=function(t){this.init(t)};return e.prototype={ct:null,_defaultOpts:null,initDefaultOptions:function(){var t={titleSelector:".cell-header .title",msgBoxSelector:".msg-dlg-msgct",closeBtnSelector:".close",okBtnSelector:".ok",cancelBtnSelector:".cancel",tpl:null,dlgOptions:{fixed:!0,center:!0},eventNs:".messageDlg",center:!0,showOnInit:!1,message:"",title:"\u63d0\u793a",msgType:"info",msgTypeSelector:".content",type:"confirm",isSingleton:!0,infoCss:"msg-dlg-info",warnCss:"msg-dlg-warn",errorCss:"msg-dlg-error",successCss:"msg-dlg-success",helpCss:"msg-dlg-help",container:null};return t},initOptions:function(e){var i=this.initDefaultOptions(),n=i.dlgOptions;t.extend(this,i,e||{}),this.dlgOptions=t.extend({},n,this.dlgOptions)},init:function(t){this.initOptions(t),this.createComponent()},toCenter:function(){if(this.ct&&this._isShow){var e=this.ct.parent(),i=t(window),n=i.scrollLeft(),o=i.scrollTop(),s=n+Math.floor((i.width()-e.outerWidth())/2),r=o+Math.floor((i.height()-e.outerHeight())/2);o>r&&(r=o),e.offset({left:s,top:r})}},_isShow:!1,show:function(t){var e=this.ct;if(e){var i=t||{};this.dlgEl||(this.dlgEl=e),this.isSingleton?(this._defaultOpts||(this._defaultOpts=this.initDefaultOptions()),this.onOkClick=this.onCancelClick=this.onCloseClick=this._defaultAction,this.type=null==i.type?this._defaultOpts.type:i.type,this.msgType=null==i.msgType?this._defaultOpts.msgType:i.msgType,this.title=null==i.title?this._defaultOpts.title:i.title,this.message=null==i.message?this._defaultOpts.message:i.message):(this.type=null==i.type?this.type:i.type,this.msgType=null==i.msgType?this.msgType:i.msgType,this.title=null==i.title?this.title:i.title,this.message=null==i.message?this.message:i.message),i.onOkClick&&(this.onOkClick=i.onOkClick),i.onCancelClick&&(this.onCancelClick=i.onCancelClick),i.onCloseClick&&(this.onCloseClick=i.onCloseClick),this.updateStatus(),e.css("visibility","hidden").css("display","block").dialog(this.dlgOptions),this._isShow=!0,this.center&&this.toCenter(),e.css("visibility","visible"),this.onShow()}},updateStatus:function(){if("alert"===this.type?t(this.cancelBtnSelector,this.ct).hide():t(this.cancelBtnSelector,this.ct).show(),null!=this.title&&t(this.titleSelector,this.ct).html(this.title),null!=this.message&&t(this.msgBoxSelector,this.ct).html(this.message),null!=this.msgType){var e=t(this.msgTypeSelector,this.ct).removeClass(this.infoCss).removeClass(this.warnCss).removeClass(this.successCss).removeClass(this.errorCss).removeClass(this.helpCss);switch(this.msgType){case"error":e.addClass(this.errorCss);break;case"warn":e.addClass(this.warnCss);break;case"info":e.addClass(this.infoCss);break;case"success":e.addClass(this.successCss);break;case"help":e.addClass(this.helpCss)}}},hide:function(){var t=this.ct,e=this.dlgOptions;this._isShow=!1,t.dialog("close"),e&&e.fadeOut?t.stop(!0,!0).fadeOut(e.fadeOut,function(){t.hide()}):t.hide(),this.onHide()},onShow:function(){},onHide:function(){},destroy:function(t){delete this._defaultOpts,t||this.ct.remove(),delete this.dlgEl,delete this.ct,delete this.dlgOptions},initBtns:function(){var e=this;this.closeBtnSelector&&(t(this.closeBtnSelector,this.ct).bind("click"+this.eventNs,function(t){t.preventDefault(),e.onCloseClick(t)}),t(this.okBtnSelector,this.ct).bind("click"+this.eventNs,function(t){t.preventDefault(),e.onOkClick(t)}),t(this.cancelBtnSelector,this.ct).bind("click"+this.eventNs,function(t){t.preventDefault(),e.onCancelClick(t)}))},onOkClick:function(t){this._defaultAction()},onCancelClick:function(t){this._defaultAction()},onCloseClick:function(t){this._defaultAction()},_defaultAction:function(){this.hide()},createDlgByTpl:function(e){return t(e).appendTo("body")},createComponent:function(){var e;e=!this.container&&this.tpl?this.createDlgByTpl(this.tpl):t(this.container).first(),e.length<=0||(this.ct=e,this.initBtns(),this.updateStatus(),this.showOnInit&&this.show())}},e}),define("doit/widget/ui/dialog/splash-dialog",["jquery","doit/widget/ui/dialog/base-dialog"],function(t,e){var i=function(t){this.init(t)};return t.extend(i.prototype,e.prototype,{setMessage:function(t,e){var i=this.msgCt;i&&(e&&"boolean"==typeof e.isHtmlMsg&&(this.isHtmlMsg=e.isHtmlMsg),e&&"string"==typeof e.msgType&&this.setMsgType(this.msgType),this.isHtmlMsg?i.html(t):i.text(t),this.message=t)},setMsgType:function(t){var e=this.msgCt;if(e.removeClass(this.infoCss).removeClass(this.warnCss).removeClass(this.successCss).removeClass(this.errorCss),"string"==typeof t&&(this.msgType=t),null!=this.msgType)switch(this.msgType){case"error":e.addClass(this.errorCss);break;case"warn":e.addClass(this.warnCss);break;case"info":e.addClass(this.infoCss);break;case"success":e.addClass(this.successCss)}},toCenter:function(){if(this.ct&&this._isShow){var e=this.ct.parent(),i=t(window),n=this.offset,o=i.scrollLeft(),s=i.scrollTop(),r=0,a=0;r=n&&n.left?n.left:o+Math.floor((i.width()-e.outerWidth())/2),a=n&&n.top?n.top:s+Math.floor((i.height()-e.outerHeight())/2),e.offset({left:r,top:a})}},show:function(t){if(this.ct){this.ct.css({zoom:"",width:""});var i=t||{},n=this;if(this.isSingleton&&(this._defaultOpts||(this._defaultOpts=this.initDefaultOptions()),this.onHide=this._defaultAction,n=this._defaultOpts),this.msgType=null==i.msgType?n.msgType:i.msgType,this.message=null==i.message?n.message:i.message,this.isHtmlMsg=null==i.isHtmlMsg?n.isHtmlMsg:i.isHtmlMsg,this.hideDelay=null==i.hideDelay?n.hideDelay:i.hideDelay,this.offset=null==i.offset?n.offset:i.offset,i.onHide&&(this.onHide=i.onHide),this.updateStatus(),e.prototype.show.apply(this,arguments),this.ct){window.clearTimeout(this.timeoutId);var o=this;this.timeoutId=window.setTimeout(function(){o.hide()},this.hideDelay)}}},updateStatus:function(){this.setMessage(this.message,{msgType:this.msgType,isHtmlMsg:this.isHtmlMsg})},_defaultAction:function(){},hide:function(){var t=this.ct;t&&"none"!==t.css("display")&&t.width(t.width()),e.prototype.hide.apply(this,arguments)},createComponent:function(){e.prototype.createComponent.apply(this,arguments),this.ct&&(this.msgCt=t(this.msgCtSelector,this.ct),this.updateStatus())},initDefaultOptions:function(){var i=e.prototype.initDefaultOptions.apply(this,arguments);return t.extend(i,{dlgOptions:{fadeOut:300,fixed:!0,modal:!1,center:!0},offset:null,isSingleton:!0,tpl:'<div class="mod-splash-dialog"><div class="content"><div class="msg-content"></div></div></div>',hideDelay:800,message:null,isHtmlMsg:!1,msgType:"success",infoCss:"label-info",warnCss:"label-warn",errorCss:"label-error",successCss:"label-succes",msgCtSelector:".msg-content"}),i}}),i}),define("doit/widget/util/web-util",["jquery"],function(t){var e={escapeHtml:function(t){return"string"!=typeof t?null:t.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;")},unEscapeHtml:function(t){return"string"!=typeof t?null:t.replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,'"').replace(/&#39;/gm,"'").replace(/&amp;/gm,"&")},strim:function(e){return e=t.trim(e),"string"!=typeof e?"":e.replace(/^[\u00A0\u3000]+|[\u00A0\u3000]+$/g,"")},limitStr:function(t,e,i,n){if(null==t)return t;if(n){for(var o="",s=0,r=0,a=t.length;a>r&&(s+=t.charCodeAt(r)>0&&t.charCodeAt(r)<255?1:2,e>=s);r++)o+=t.charAt(r);return i&&o.length<t.length&&(o+=i),o}var o=t;return o.length>e&&(o=o.substring(0,e)),i&&o.length<t.length&&(o+=i),o},getUrlQuery:function(t){var e=t.lastIndexOf("?");return 0>e?"":(t=t.substring(e+1,t.length),e=t.indexOf("#"),e>=0&&(t=t.substring(0,e)),t)},getUrlParams:function(t,e){for(var i,n=t||window.location.href,o={},s=this.getUrlQuery(n).split("&"),r=0;r<s.length;r++)try{if(s[r].indexOf("=")<=0)continue;i=s[r].split("=");var a,l;e&&"raw"===e.toLowerCase()?(a=i[0],l=i[1]):(a=decodeURIComponent(i[0]),l=decodeURIComponent(i[1])),o[a]?o[a].push(l):o[a]=[l]}catch(c){}return o},reload:function(t){var e;if(e=t&&t.url?t.url:window.location.href,!t||t&&!t.filter){var i=e.indexOf("#");return i>=0&&(e=e.substring(0,i)),void(window.location.href=e)}if(t&&t.filter){for(var n=t.charset||"utf-8",o=this.getUrlParams(e,n),s=0,r=t.filter.length;r>s;s++)delete o[t.filter[s]];var a=this.decodeParams(o,n),i=e.indexOf("#");

i>=0&&(e=e.substring(0,i)),i=e.lastIndexOf("?"),i>=0&&(e=e.substring(0,i),e=e+"?"+a),window.location.href=e}},decodeParams:function(t,e){var i="";for(var n in t)for(var o=0,s=t[n].length;s>o;o++)i+=e&&"raw"===e.toLowerCase()?(""===i?"":"&")+n+"="+t[n][o]:(""===i?"":"&")+encodeURIComponent(n)+"="+encodeURIComponent(t[n][o]);return i},openWin:function(e){e=e||{};var i=e.url,n=e.target,o=e.method,s=e.params,r=t("<form/>").appendTo(t("body"));if(r.prop("method",o||"get").prop("action",i).prop("target",n||"_self"),s)for(var a in s)t('<input type="hidden"/>').appendTo(r).val(s[a]).prop("name",a);r.submit().remove()},_isSubmiting:!1,ajaxProxy:function(e){if(!this._isSubmiting){this._isSubmiting=!0;var i=this,n=t.extend({},e),o=n.success;n.success=function(){i._isSubmiting=!1,o&&o.apply(this,arguments)};var s=n.error;n.error=function(){i._isSubmiting=!1,s&&s.apply(this,arguments)},t.ajax(n)}},safeWinClose:function(){window.opener=null,window.open("","_self",""),window.close()},getBundleMsg:function(t){var e=arguments;return t.replace(/\{\d\}/gm,function(t,i,n){var o=t.substring(1,t.length-1);return o=parseInt(o,10),isNaN(o)?t:null==e[o+1]?t:e[o+1]+""})}};return e}),define("doit/mod/splash-dialog-helper",["doit/widget/ui/dialog/splash-dialog"],function(t){var e={getDialog:function(){return this.splashDlg||(this.splashDlg=new t),this.splashDlg},show:function(t){this.getDialog().show(t)}};return e}),define("doit/mod/trade-resource-position",["jquery"],function(t){return{init:function(){var e=t(".trade-resource-position");if(e)for(var i=0;i<e.length;i++){var n=t(e[i]).data("resource-position-id"),o=t(e[i]).data("source-type"),s=t(e[i]).data("show-type");"jdata"===o?this.getJDataRender(n,t(e[i]),s):this.getBigRichDataRender(n,t(e[i]))}},getQueryString:function(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),n=i.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getJDataRender:function(e,i,n){t.ajax({url:"https://dcms.1688.com/open/query.json?app=DCMS&dataId=236",dataType:"jsonp",data:{resourceId:e},success:t.proxy(function(t){var e=t&&t.content&&t.content.data&&t.content.data[0].versionContent?JSON.parse(t.content.data[0].versionContent):null;this.render(n,i,e)},this)})},getBigRichDataRender:function(e,i){var n=this.getQueryString("mockDate");t.ajax({url:"//widget.1688.com/front/getJsonComponent.json?namespace=promotionAtmosphereService&widgetId=promotionAtmosphereService&methodName=execute&key=pcTradeView",dataType:"jsonp",data:{mockDate:n},success:function(n){var o=n&&n.content&&n.content.result&&n.content.result.model&&n.content.result.model.atmosphereConfig?JSON.parse(n.content.result.model.atmosphereConfig):null;if(o&&o[e]){var s=t("<div class='unit-ad-img' data-spm='trade-banner-res-pos-bigrich'><a class='to-block' target='_blank' href="+o[e+"URL"]+"><img src="+o[e]+" title='advertisement' alt='advertisement'/></a></div>");i.append(s)}}})},renderBanner:function(t,e,i){if(e){t.attr("data-spm","trade-img-res-pos-jdata");var n=["<div class='unit-ad-img'>","<a class='to-block' target='_blank' href="+i+">","<img src="+e+" title='advertisement' alt='advertisement'/>","</a>","</div>"].join("");t.append(n)}},renderTips:function(t,e){var i=[],e=e||[];t.attr("data-spm","trade-banner-res-pos-jdata");for(var n=0;n<e.length;n++)i=["<p>",e[n].text,e[n].href?" <a target='_blank' href="+e[n].href+">\u67e5\u770b\u8be6\u60c5>></a>":"","</p>"].join(""),t.append(i)},render:function(t,e,i){if(null!=i)switch(t){case"banner":this.renderBanner(e,i.img,i.url);break;case"text":this.renderTips(e,i.txtList);break;case"ol":this.renderOl(e,i.txtList)}},renderOl:function(t,e){var i=[],e=e||[];t.attr("data-spm","trade-ol-res-pos-jdata"),i.push("<ol>");for(var n=0;n<e.length;n++)i.push("<li>",e[n].text,"</li>");i.push("</ol>"),t.append(i.join(""))}}}),define("flow/doit/mod/electronicticket/electronic-ticket-item-tpl",["util/template/2.0","just/lang/amount"],function(t,e){"use strict";t.helper("formatBillAmount",function(t){return e.format(t)}),t.helper("typeLabel",function(t){var e={1:"\u7535\u5b50\u94f6\u884c\u627f\u5151\u6c47\u7968",2:"\u7535\u5b50\u5546\u4e1a\u627f\u5151\u6c47\u7968"};return e[t]});var i=['<tr class="unit unit-ticket-item {{if selectTicketType !== "multi" && (item.billAmount < waitPayAmount)}} disabled {{/if}}">','<td class="td-cell">','<div class="cell-content">','{{if selectTicketType == "multi"}}','<span class="lang-checkbox">',"<label>",'<input type="checkbox" autocomplete="off">',"</label>","</span>","{{else}}",'<span class="lang-radio" {{if item.billAmount < waitPayAmount}} data-disabled {{/if}}>',"<label>",'<input type="radio" autocomplete="off" name="ticket-radio" {{if item.billAmount < waitPayAmount}} disabled {{/if}}>',"</label>","</span>","{{/if}}","</div>","</td>",'<td class="td-cell cell-amount">','<div class="cell-content">',"{{item.billAmount | formatBillAmount}}","</div>","</td>",'<td class="td-cell">','<div class="cell-content">',"{{item.payerName}}","</div>","</td>",'<td class="td-cell">','<div class="cell-content">',"{{item.payerAcctNo}}","</div>","</td>",'<td class="td-cell">','<div class="cell-content">',"{{item.billType | typeLabel}}","</div>","</td>",'<td class="td-cell">','<div class="cell-content">',"{{item.billNo}}","</div>","</td>","</tr>"];return t.compile(i.join(""))}),define("flow/doit/mod/electronicticket/select-electronic-tickets-dialog-tpl",["util/template/2.0"],function(t){var e=['<div class="mod mod-dialog mod-select-tickets-dialog">','<div class="header">','<div class="container">','<h3 class="title">\u7535\u5b50\u94f6\u884c\u627f\u5151\u6c47\u7968</h3>','<div class="panel">','<button class="close icon-close" title="\u5173\u95ed">\u5173\u95ed</button>',"</div>","</div>","</div>",'<div class="content">','<div class="container">','<div class="fix-header-table">','<table class="fix-header">',"<colgroup>",'<col class="col-checkbox">','<col class="col-amount">','<col class="col-account-name">','<col class="col-account-no">','<col class="col-ticket-type">','<col class="col-ticket-no">',"</colgroup>","<tbody>","<tr>","<th>",'<div class="cell-content">','{{if selectTicketType == "multi"}}','<span class="lang-checkbox check-all">','<label><input type="checkbox" value="on"></label>',"</span>","{{/if}}","</div>","</th>",'<th class="cell-amount">','<div class="cell-content">\u91d1\u989d</div>',"</th>","<th>",'<div class="cell-content">\u4ed8\u6b3e\u65b9\u94f6\u884c\u6237\u540d</div>',"</th>","<th>",'<div class="cell-content">\u4ed8\u6b3e\u65b9\u94f6\u884c\u8d26\u53f7</div>',"</th>","<th>",'<div class="cell-content">\u7968\u636e\u7c7b\u578b</div>',"</th>","<th>",'<div class="cell-content">\u6c47\u7968\u7968\u53f7</div>',"</th>","</tr>","</tbody>","</table>",'<div class="scrollable-tbody-container">','<table class="scrollable-tbody">',"<colgroup>",'<col class="col-checkbox">','<col class="col-amount">','<col class="col-account-name">','<col class="col-account-no">','<col class="col-ticket-type">','<col class="col-ticket-no">',"</colgroup>",'<tbody class="zone-ticket-list"></tbody>',"</table>",'<div class="unit-blank">',"\u5f53\u524d\u6ca1\u6709\u53ef\u4f9b\u9009\u62e9\u7684\u7535\u5b50\u94f6\u884c\u627f\u5151\u6c47\u7968","</div>","</div>","</div>","</div>","</div>",'<div class="footer">','<div class="container">','<div class="unit-summary">','{{if selectTicketType != "multi"}}','<span class="text-strong">\u53ea\u80fd\u9009\u62e9\u5927\u4e8e/\u7b49\u4e8e\u8ba2\u5355\u91d1\u989d\u7684\u7968\u636e</span>',"{{/if}}","</div>",'<div class="panel unit-button-group buttons">','<button class="lang-button button button-important ok" disabled data-level="important">\u786e\u8ba4\u4ed8\u6b3e</button>','<button class="lang-button button button-stress cancel">\u53d6\u6d88</button>',"</div>","</div>","</div>","</div>"];return t.compile(e.join(""))}),define("flow/doit/mod/electronicticket/select-electronic-tickets-dialog",["jquery","just/lang/class","just/lang/amount","pitaya/lang/checkbox","pitaya/lang/radio","doit/widget/ui/dialog/base-dialog","doit/widget/util/web-util","flow/doit/mod/electronicticket/electronic-ticket-item-tpl"],function(t,e,i,n,o,s,r,a){"use strict";var l={GREATER_THEN_SUMMARY_MSG:'\u5df2\u9009\u62e9\u7535\u7968{0}\u5f20\uff0c\u603b\u91d1\u989d<span class="text-strong">{1}</span>\u5143\uff0c\u5927\u4e8e\u5f85\u4ed8\u6b3e\u91d1\u989d{2}\u5143',LESSER_THEN_SUMMARY_MSG:'\u5df2\u9009\u62e9\u7535\u7968{0}\u5f20\uff0c\u603b\u91d1\u989d<span class="text-strong">{1}</span>\u5143\uff0c\u8fd8\u5dee{2}\u5143',EQUAL_SUMMARY_MSG:'\u5df2\u9009\u62e9\u7535\u7968{0}\u5f20\uff0c\u603b\u91d1\u989d<span class="text-strong">{1}</span>\u5143\uff0c\u7b49\u4e8e\u5f85\u4ed8\u6b3e\u91d1\u989d'};return e(s,{initDefaultOptions:function(){var e=s.prototype.initDefaultOptions.apply(this,arguments);return t.extend(e,{summarySelector:".unit-summary",blankSelector:".unit-blank",ticketZoneSelector:".zone-ticket-list",selectTicketType:"multi",waitPayAmount:null,ticketItemsData:[],onSubmit:null})},createComponent:function(){s.prototype.createComponent.apply(this,arguments),this.ticketItems=[],this.selectedTicketsAmount=0,this.selectedTicketsCount=0,this.initCheckAllCheckbox()},initCheckAllCheckbox:function(){var t=this;"multi"===this.selectTicketType&&(this.checkAllCheckbox=n.startup(this.ct.find(".check-all")),this.checkAllCheckbox.on("change",function(){t.onCheckAllChange()}))},createItemList:function(){var t=this.ticketItemsData;if(t.length>0){for(var e=0,i=t.length;i>e;e++){var n=this.createTicketItem(t[e]);this.ticketItems.push(n)}this.checkAllCheckbox.set("disabled",!1),"single"==this.selectTicketType&&this.ct.find(this.summarySelector).show()}else this.checkAllCheckbox.set("disabled",!0),this.ct.find(this.blankSelector).show()},createTicketItem:function(e){var i=this,s={};return s.data=e,s.el=t(a({selectTicketType:this.selectTicketType,waitPayAmount:this.waitPayAmount,item:e})).appendTo(t(this.ticketZoneSelector,this.ct)),s.checkbox="multi"===this.selectTicketType?n.startup(s.el.find(".lang-checkbox")):o.startup(s.el.find(".lang-radio")),s.checkbox.on("change",function(){i.onCheckboxChange(s)}),s},onCheckAllChange:function(){var t=this.checkAllCheckbox.get("checked");this.selectedTicketsAmount=0,this.selectedTicketsCount=0;for(var e,i=0,n=this.ticketItems.length;n>i;i++)e=this.ticketItems[i],e.checkbox.set("checked",t),t?(this.selectedTicketsAmount+=e.data.billAmount,this.selectedTicketsCount++):(e.checkbox.set("disabled",!1),e.el.removeClass("disabled"));this.updateStatus()},onCheckboxChange:function(t){if("multi"===this.selectTicketType){var e=t.checkbox.get("checked");e?(this.selectedTicketsAmount=this.selectedTicketsAmount+t.data.billAmount,this.selectedTicketsCount++):(this.selectedTicketsAmount=this.selectedTicketsAmount-t.data.billAmount,this.selectedTicketsCount--);var i=this.getCheckedTicketItems();0===i.length?this.checkAllCheckbox.set("checked",!1):i.length<this.ticketItems.length?this.checkAllCheckbox.set("midchecked",!0):this.checkAllCheckbox.set("checked",!0)}else this.selectedTicketsAmount=t.data.billAmount,this.selectedTicketsCount=1;this.updateStatus()},updateStatus:function(){"multi"===this.selectTicketType&&this.updateTicketItemsStatus(),this.updateSummary(),this.updateConfirmStatus(this.valid())},updateTicketItemsStatus:function(){for(var t,e=this.selectedTicketsAmount>=this.waitPayAmount,i=0,n=this.ticketItems.length;n>i;i++)t=this.ticketItems[i],t.checkbox.get("checked")||(t.checkbox.set("disabled",e),e?t.el.addClass("disabled"):t.el.removeClass("disabled"))},updateConfirmStatus:function(t){this.ct.find(this.okBtnSelector).prop("disabled",!t)},updateSummary:function(){if("multi"===this.selectTicketType){var t,e=this.ct.find(this.summarySelector),n=i.format(Math.abs(this.selectedTicketsAmount-this.waitPayAmount));this.selectedTicketsAmount>this.waitPayAmount?(t=r.getBundleMsg(l.GREATER_THEN_SUMMARY_MSG,this.selectedTicketsCount,i.format(this.selectedTicketsAmount),n),e.addClass("emphasis")):this.selectedTicketsAmount<this.waitPayAmount?(t=r.getBundleMsg(l.LESSER_THEN_SUMMARY_MSG,this.selectedTicketsCount,i.format(this.selectedTicketsAmount),n),e.removeClass("emphasis")):(t=r.getBundleMsg(l.EQUAL_SUMMARY_MSG,this.selectedTicketsCount,i.format(this.selectedTicketsAmount)),e.removeClass("emphasis")),e.html(t).show()}},valid:function(){if("multi"===this.selectTicketType){if(0==this.selectedTicketsAmount)return!1;if(this.selectedTicketsAmount<=this.waitPayAmount)return!0;var t=this.getCheckedTicketItems(),e=t.sort(function(t,e){return t.data.billAmount>e.data.billAmount});return this.selectedTicketsAmount-e[0].data.billAmount>=this.waitPayAmount?!1:!0}return this.selectedTicketsAmount>=this.waitPayAmount},getCheckedTicketItems:function(){for(var t,e=[],i=0,n=this.ticketItems.length;n>i;i++)t=this.ticketItems[i],t.checkbox.get("checked")&&e.push(t);return e},getSubmitParams:function(){var e=this.getCheckedTicketItems();return"multi"===this.selectTicketType?t.map(e,function(t){return t.data}):e.length>0?e[0].data:null},onOkClick:function(){this.valid()&&("function"==typeof this.onSubmit&&this.onSubmit(this.getSubmitParams(),this.selectedTicketsAmount,this.selectedTicketsCount),this.hide())},onHide:function(){for(var t=0,e=this.ticketItems.length;e>t;t++)this.ticketItems[t].checkbox.destroy();this.selectedTicketsAmount=0,this.selectedTicketsCount=0,this.waitPayAmount=0,this.ticketItems.length=0,this.checkAllCheckbox&&this.checkAllCheckbox.set("checked",!1),"multi"===this.selectTicketType&&this.ct.find(this.summarySelector).hide().empty(),this.ct.find(this.ticketZoneSelector).empty(),this.ct.find(this.blankSelector).hide(),this.ct.find(this.okBtnSelector).prop("disabled",!0)},show:function(t){this.ticketItemsData=t.ticketItemsData?t.ticketItemsData:this.ticketItemsData,this.selectTicketType=t.selectTicketType?t.selectTicketType:this.selectTicketType,this.waitPayAmount=t.waitPayAmount?t.waitPayAmount:this.waitPayAmount,this.onSubmit=t.onSubmit?t.onSubmit:this.onSubmit,this.createItemList(),s.prototype.show.apply(this,arguments)}})}),FD._insertBefore=$D.insertBefore,function(){var t=0===location.protocol.indexOf("https")?"https://":"http://",e=function(e){return"string"==typeof e?e.replace(/^(?:http:)?\/\//i,t):e},i={init:function(){this.items=$$("span.tplogo"),this.groups={small:[],standard:[],winport:[],credit:[]},this.ids={small:[],standard:[],winport:[],credit:[]},this.items.length>0&&(this.filter(),this.load())},filter:function(){for(var t,e,i,n=this.items,o=this.ids,s=this.groups,r=0,a=n.length;a>r;r++)t=n[r],e=t.getAttribute("data-tplogo-memberid"),e&&(i=t.getAttribute("data-tplogo-type").toLowerCase(),["small","standard","winport","credit"].indexOf(i)<0||(o[i]?(o[i].push(e),s[i].push(t)):(o.standard.push(e),s.standard.push(t))))},load:function(){var t=this,e=this.ids,i=this.groups,n=this.get;for(var o in e)e[o].length>0&&i[o].length>0&&n(t,o,e[o],i[o])},get:function(t,e,i,n){{var o="//tpview.1688.com/tp_logo.htm?member_ids="+i.join(";")+"&type="+e,s={onCallback:function(e){t.onCallback(e,n)},onFailure:function(e){t.onFailure(e)},onTimeout:function(e){t.onFailure(e)}};FD.common.request("jsonp",o,s)}},onCallback:function(t,i){i.forEach(function(i){var n=i.getAttribute("data-tplogo-memberid");if(t[n]&&t[n].url){var o=document.createElement("img");o.className="fd-left",o.src=e(t[n].url),o.setAttribute("alt","\u8bda\u4fe1\u901a\u4f1a\u5458"),FD._insertBefore(o,i),i.parentNode.removeChild(i)}})},onFailure:function(t){}};$E.onDOMReady(function(){i.init()})}(),define("flow/trade/module/order-list/orders",["jquery","just/fit/observer","exports"],function(t,e,i){var n=t("#listBox input.single-select"),o={};n.each(function(){var e=t(this),i=e.closest("li"),n=i.find("input.tradeId").val();o[n]||(o[n]={orderId:n,$order:i,$checkbox:e})}),i.get=function(t){return o[t]||{}},i.remove=function(t){var i=o[t];if(i){var n=i.$order;delete o[t],n.fadeOut(1200,function(){n.remove(),e.notify("delete:order",i.orderId)})}}}),define("flow/trade/module/order-list/tips",["jquery","exports"],function(t,e){"use strict";var i,n,o,s={SYSTEM_ERROR:"\u62b1\u6b49\uff0c\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"},r=t("div.mod-tips div.content"),a='<div class="unit-dialog archive-tip fd-hide"><div class="main"><p></p></div></div>';r.length||(r=t("body"));var l=function(){i.addClass("fd-hide"),clearTimeout(o)},c=function(){i.removeClass("fd-hide"),o=setTimeout(function(){i.addClass("fd-hide")},700)},u=function(t){var e=t.position();i.css({left:e.left+320+"px",top:e.top+50+"px"})},d=function(t){return"string"!=typeof t?null:t.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;")};e.showArchive=function(e,o,h){var f=t("#region-orderlist");o=null===o?f:o,i=i||t(a).appendTo(r),n=n||i.find("p");var p,g,m={archive:"\u5220\u9664",restore:"\u8fd8\u539f",deleteForever:"\u5220\u9664"};switch(p=m[h],e){case"message":p="string"==typeof h?d(h):s.SYSTEM_ERROR,g="icon-info";break;case"success":p="\u8ba2\u5355"+p+"\u6210\u529f",g="icon-success";break;case"batch-success":p="\u8ba2\u5355"+p+"\u6210\u529f",g="icon-success";break;case"failure":p="\u62b1\u6b49\uff0c\u8ba2\u5355"+p+"\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",g="icon-info";break;case"error":default:p=s.SYSTEM_ERROR,g="icon-warning"}l(),n.html(p),n[0].className=g,u(o),c()}}),define("flow/trade/module/order-list/archive",["jquery","flow/trade/module/order-list/orders","flow/trade/module/order-list/tips","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl"],function(t,e,i,n,o){"use strict";var s=t("#orderList").attr("data-domain-trading"),r=s+"/order/ajax/order_restore_archive.jsx",a=t("input[name=_csrf_token]").val(),l=function(t,e,i){t.msgDlg||(t.msgDlg=new n({tpl:o}));var s={type:"confirm",title:"\u5220\u9664\u8ba2\u5355",msgType:"info",message:'\u4f60\u786e\u5b9a\u5220\u9664\u8be5\u8ba2\u5355\u5417\uff1f<p class="sub-message">\u4f60\u53ef\u5728\u8ba2\u5355\u56de\u6536\u7ad9\u627e\u56de\u6216\u6c38\u4e45\u5220\u9664</p>',onOkClick:function(){this.hide(),c(t,e,i)},onCloseClick:function(){this.hide()}};t.msgDlg.show(s,t)},c=function(n,o,s){n.data("hasSend",!0),t.ajax({type:"POST",url:r,data:{orderId:o.orderId,isHis:o.isHistory,command:s,_csrf_token:a},success:function(r){return"string"==typeof r&&(r=t.parseJSON(r)),r.success+""=="true"?(i.showArchive("success",e.get(o.orderId).$order,r.data.command),void e.remove(o.orderId)):(n.data("hasSend",!1),void(r.errorMessage?i.showArchive("message",e.get(o.orderId).$order,r.errorMessage):i.showArchive("failure",e.get(o.orderId).$order,s)))},error:function(){n.data("hasSend",!1),i.showArchive("error",e.get(o.orderId).$order,s)}})};t("#listBox .act-archive").on("click.listArchive",function(e){e.preventDefault();var i=t(this),n=i.data();n.orderId=i.attr("data-order-id"),!i.data("hasSend")&&l(i,n,"archive")})}),define("doit/widget/ui/component",["jquery"],function(t){var e=function(t){this.init(t)};return e.prototype={ct:null,initDefaultOptions:function(){var t={container:null};return t},initOptions:function(e){var i=this.initDefaultOptions();t.extend(this,i,e||{})},init:function(e){this.initOptions(e),this.ct=t(this.container).first(),this.createComponent()},find:function(e){return t(e,this.ct)},destroy:function(t){var e=this;for(var i in e)e[i]=null},createComponent:function(){}},e}),define("doit/mod/base-action",["jquery","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl"],function(t,e,i){var n=function(t){this.init(t)};return n.prototype={ct:null,initDefaultOptions:function(){var t={url:null,ajaxOptions:null,paramKeyMapping:{},dataKeyMapping:{},bundle:{MSG_DLG_TITLE:"\u63d0\u793a",ERROR_SYSTEM_ERROR:"\u5f88\u62b1\u6b49\uff0c\u7cfb\u7edf\u76ee\u524d\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5",ERROR_TIME_OUT:"\u8bf7\u6c42\u8d85\u65f6\uff0c\u7cfb\u7edf\u76ee\u524d\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5"},msgDlg:null,triggerSelector:null,bindType:"delegate",eventType:"click",csrfTokenSelector:"input[name=_csrf_token]:first",container:null};return t},initOptions:function(e){var i=this.initDefaultOptions(),n=i.bundle||{};t.extend(this,i,e||{}),t.extend(n,this.bundle||{}),this.bundle=n},extendOptions:function(e,i){var n=e.bundle||{},o=i.bundle||{};t.extend(n,o),t.extend(e,i||{}),e.bundle=n},init:function(e){if(this.initOptions(e),!e.triggerSelector)return void(console&&console.log("ERROR:TriggerSelector required! "));var i=t(e.container);return i.length<=0?void(console&&console.log("ERROR:Container required! ")):(this.ct=i,void this.createComponent())},showMsgDlg:function(t,n){this.msgDlg||(this.msgDlg=new e({tpl:i})),this.msgDlg.show(t,n)},parseTriggerBindData:function(e,i,n){var o=i||{},s={};if(!o)return s;for(var r in o){var a=e.attr(o[r]);n&&(a=t.trim(a)),s[r]=a}return s},getParams:function(t){return this.parseTriggerBindData(t,this.paramKeyMapping,!0)},getData:function(t,e){var i=null==e?this.dataKeyMapping:e;return this.parseTriggerBindData(t,i,!0)},getUrl:function(t){return this.url},onSuccess:function(t,e,i,n,o,s){},onError:function(t,e,i,n,o,s){var r=this,a=this.bundle,l=a.ERROR_SYSTEM_ERROR;"timeout"===e&&(l=a.ERROR_TIME_OUT);var c={errorCode:e,success:!1,errorThrow:i};this.showMsgDlg({type:"alert",title:this.getMsgDlgTitle(n,o),msgType:"warn",message:l,onOkClick:function(){this.hide(),r.onActionError(o,c),r.onActionComplete(o,c)},onCloseClick:function(){this.hide(),r.onActionError(o,c),r.onActionComplete(o,c)}},o)},onActionError:function(t,e){},onActionSuccess:function(t,e){},onActionComplete:function(t,e){},getCsrfToken:function(){return!this._isCsrfTokenLoaded&&this.csrfTokenSelector&&(this.csrfToken=t(this.csrfTokenSelector,this.ct).val()),this._isCsrfTokenLoaded=!0,this.csrfToken},ajax:function(e,i,n,o){if(null==e||e.length<=0)return void(console&&console.log("ERROR:Url required!"));e=e+(e.indexOf("?")>0?"&":"?")+"_input_charset=UTF-8";var s=this,r=this.getCsrfToken();i=i||{},i&&r&&r.length>0&&(i._csrf_token=r);var a={url:e,dataType:"json",type:"POST",data:i,cache:!1,success:function(t,e,r){s.showHideWinMask(!1),s.onSuccess(t,e,r,i,n,o)},error:function(t,e,r){s.showHideWinMask(!1),s.onError(t,e,r,i,n,o)}};t.extend(a,this.ajaxOptions||{}),this.showHideWinMask(!0),t.ajax(a)},showHideWinMask:function(e){this.winMask&&t.isFunction(this.winMask.show)&&t.isFunction(this.winMask.hide)&&this.winMask[e?"show":"hide"]()},getBundleMsg:function(t,e){var i=this.bundle,n=this.getCodeMapping(t);return i[n]?i[n]:null!=e?e:null},getCodeMapping:function(t){return t},destroy:function(){this._bindElement_&&this._bindElement_.unbind(this._bindHandler_),this.ct.undelegate(this._bindHandler_);var t=this;for(var e in t)t[e]=null},triggerEventHandler:function(t,e){this.executeAction(e,t)},executeAction:function(t,e){e&&e.preventDefault();var i=this.getParams(t),n=this.getUrl(t);this.ajax(n,i,t)},getMsgDlgTitle:function(t,e){return this.bundle.MSG_DLG_TITLE},createComponent:function(){var e=this;this._bindHandler_=function(i){e.triggerEventHandler(i,t(this))},"bind"===this.bindType?this._bindElement_=t(this.triggerSelector,this.ct).bind(this.eventType,this._bindHandler_):this.ct.delegate(this.triggerSelector,this.eventType,this._bindHandler_)}},n}),define("flow/trade/module/extendedtime/pay-extended-time-tpl",["jquery"],function(t){var e=['<div class="mod mod-dialog mod-extended-time-dialog">','<div class="header">','<div class="cell-header container">','<h3 class="title">\u5ef6\u957f\u4ed8\u6b3e\u65f6\u95f4</h3>','<div class="panel">','<a class="icon-close close" href="#" title="\u5173\u95ed">\u5173\u95ed</a>',"</div>","</div>","</div>",'<div class="content">','<div class="container etd-container">','<div class="info">',"\u8bf7\u9009\u62e9\u5ef6\u957f\u65f6\u95f4\uff1a","</div>",'<ul class="list extend-days-list">',"</ul>",'<div class="errors-info"></div>',"</div>","</div>",'<div class="footer">','<div class="container">','<div class="panel buttons unit-button-group">','<button class="button lang-button ok" data-level="important" href="#">\u786e\u8ba4</button>','<button class="button lang-button cancel" href="#">\u53d6\u6d88</button>',"</div>","</div>","</div>","</div>"];return e.join("")}),define("flow/trade/module/extendedtime/extended-time-tpl",["jquery"],function(t){var e=['<div class="mod mod-dialog mod-extended-time-dialog" data-type="confirm">','<div class="header">','<div class="cell-header container">','<h3 class="title">\u5ef6\u957f<em class="opt-name"></em>\u65f6\u95f4</h3>','<div class="panel">','<a class="icon-close close" href="#" title="\u5173\u95ed">\u5173\u95ed</a>',"</div>","</div>","</div>",'<div class="content">','<div class="container etd-container">','<div class="info">','\u5ef6\u957f<em class="opt-name"></em>\u65f6\u95f4\u53ef\u4ee5\u8ba9\u4e70\u5bb6\u6709\u66f4\u591a\u65f6\u95f4\u6765\u201c\u786e\u8ba4<em class="opt-name"></em>\u201d\uff0c\u800c\u4e0d\u4f1a\u6025\u4e8e\u53bb\u7533\u8bf7\u9000\u6b3e\u6216\u53d1\u8d77\u6295\u8bc9\u3002\u8bf7\u9009\u62e9\u5ef6\u957f\u65f6\u95f4\uff1a',"</div>",'<ul class="list extend-days-list">',"</ul>",'<div class="errors-info"></div>',"</div>","</div>",'<div class="footer">','<div class="container">','<div class="panel buttons unit-button-group">','<a class="button lang-button ok" data-level="important" href="#">\u786e\u8ba4</a>','<a class="button lang-button cancel" href="#">\u53d6\u6d88</a>',"</div>","</div>","</div>","</div>"];return e.join("")}),define("flow/trade/module/extendedtime/extended-time-dialog",["jquery","doit/widget/ui/dialog/base-dialog","doit/widget/util/web-util"],function(t,e,i){var n={ERROR_REQUIRE:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u65f6\u95f4\uff01"},o=0,s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{itemGroup:null,addItem:function(e){var i=this,n=this._genId(),o=t('<li><input type="radio" id="'+n+'" /><label for="'+n+'"></label></li>').appendTo(this.raidoCt);return t("input[type=radio]",o).val(e.value),t("label",o).text(e.text),o.delegate("input[type=radio]","click",function(t){i.onRadioClick.call(i,t,this,o)}),o},unSelectAll:function(){t.each(this.itemGroup,function(e,i){t("input[type=radio]",i).prop("checked",!1)})},onRadioClick:function(t,e,i){this.selectItem(i)},selectItem:function(e){this.unSelectAll(),t("input[type=radio]",e).prop("checked",!0)},selectValue:function(e){var i=this;t.each(this.itemGroup,function(n,o){t("input[type=radio]",o).val()===e&&i.selectItem(o)})},selectIndex:function(t){this.itemGroup&&this.itemGroup.length>t&&this.selectItem(this.itemGroup[t])},_genId:function(){return o++,"genid-extendtime-"+o},showMsgInfo:function(e,i,n,o){i=i||"";var s=null;n&&(s=e.offset(),s.top=s.top+e.outerHeight()+3);var r=e.data("etdmsgInfoEl");r||(r=t('<p class="extended-time-dlg-tip"></p>')[o?o:"insertAfter"](e),e.data("etdmsgInfoEl",r)),r.html(i),""===i?r.hide():(r.show(),s&&r.offset(s))},clearAllMsg:function(){t(".extended-time-dlg-tip",this.ct).html("").hide()},createItemGroup:function(t){if(this.clearItemGroup(),!(t.length<=0))for(var e=0,i=t.length;i>e;e++)this.itemGroup.push(this.addItem(t[e]))},clearItemGroup:function(){t.each(this.itemGroup,function(t,e){e.remove()}),this.itemGroup.slice(0,this.itemGroup.length)},clearSelect:function(){var e=null;t.each(this.itemGroup,function(i,n){e=t("input[type=radio]",n),e.prop("checked",!1)}),e=null},getSelectValue:function(){var e=null,i=null;return t.each(this.itemGroup,function(n,o){return i=t("input[type=radio]",o),i.prop("checked")===!0?(e=i.val(),!1):void 0}),e},createComponent:function(){e.prototype.createComponent.apply(this,arguments),this.itemGroup=[],this.raidoCt=t(this.itemContainerSelector,this.ct),this.errorsCt=t(this.errorsSelector,this.ct),this.infoEl=t(this.infoSelector,this.ct),this.createItemGroup(this.itemsData)},reset:function(){this.clearSelect(),this.selectIndex(0),this.disableDialog(!1)},show:function(){this.clearAllMsg(),e.prototype.show.apply(this,arguments)},validValues:function(){var t=this.getSelectValue();return null==t||t.length<0?(this.showMsgInfo(this.errorsCt,n.ERROR_REQUIRE,!1,"appendTo"),!1):!0},onOkClick:function(t){this._isDisable||this.validValues()&&this.onSubmit(t)},onCancelClick:function(t){this._isDisable||e.prototype.onCancelClick.apply(this,arguments)},onCloseClick:function(t){this._isDisable||e.prototype.onCloseClick.apply(this,arguments)},onSubmit:function(t){this.hide()},onOK:function(t){},_isDisable:!1,disableDialog:function(e){var i=this;this._isDisable=!!e,t.each(this.itemGroup,function(e,n){t("input[type=radio]",n).prop("disabled",i._isDisable)});var n=t(this.okBtnSelector,this.ct),o=t(this.cancelBtnSelector,this.ct);this._isDisable?(n.addClass("button-disabled"),o.addClass("button-disabled")):(n.removeClass("button-disabled"),o.removeClass("button-disabled"))},setInfo:function(t,e){this.infoEl[e?"html":"text"](t)},initDefaultOptions:function(){var i=e.prototype.initDefaultOptions.apply(this,arguments);return t.extend(i,{itemContainerSelector:"ul.extend-days-list",errorsSelector:".errors-info",infoSelector:".info",itemsData:[{value:3,text:"3\u5929"},{value:5,text:"5\u5929"},{value:7,text:"7\u5929"},{value:10,text:"10\u5929"}],eventNs:".extendedTimeDlg"}),i}}),s}),define("flow/trade/module/extendaccountperiod/extend-account-period-tpl",["jquery"],function(t){var e=['<div class="mod mod-dialog mod-extend-account-period-dialog">','<div class="header">','<div class="cell-header container">','<h3 class="title">\u5ef6\u957f\u8d26\u671f</h3>','<div class="panel">','<a class="icon-close close" href="#" title="\u5173\u95ed">\u5173\u95ed</a>',"</div>","</div>","</div>",'<div class="content">','<div class="container">',"<p>\u82e5\u4e70\u5bb6\u4e0e\u60a8\u534f\u5546\u8fbe\u6210\u4e00\u81f4\uff0c\u53ef\u5ef6\u957f\u7ed3\u7b97\u65f6\u95f4\uff0c\u907f\u514d\u51fa\u73b0\u4e0d\u5fc5\u8981\u7684\u903e\u671f\u8bb0\u5f55\u3002</p>",'<div class="input-days">',"\u8bf7\u8f93\u5165\u5ef6\u957f\u65f6\u95f4\uff08\u6700\u957f30\u5929\uff09\uff1a",'<input type="text" class="input lang-input" maxlength="2" /> \u5929','<span class="errmsg"></span>',"</div>",'<div class="jiesuanri">\u6700\u665a\u7ed3\u7b97\u65e5\uff1a<i></i></div>',"</div>","</div>",'<div class="footer">','<div class="container">','<div class="panel buttons unit-button-group">','<a class="button lang-button ok" data-level="strong" href="#">\u786e\u8ba4</a>','<a class="button lang-button cancel" href="#">\u53d6\u6d88</a>',"</div>","</div>","</div>","</div>"];return e.join("")}),define("flow/trade/module/extendaccountperiod/extend-account-period-dialog",["jquery","doit/widget/ui/dialog/base-dialog"],function(t,e){var i={ERROR_REQUIRE:"*\u8bf7\u8f93\u5165\u5ef6\u957f\u65f6\u95f4",ERROR_NUMBER:"*\u8bf7\u8f93\u5165\u6709\u6548\u65f6\u95f4",ERROR_MAX:"*\u6700\u957f\u5ef6\u957f30\u5929",ERROR_MIN:"*\u6700\u5c11\u5ef6\u957f1\u5929"},n=function(t){this.init(t)};return t.extend(n.prototype,e.prototype,{showMsgInfo:function(t){this.$errmsg.text(t)},getSelectValue:function(){return t.trim(this.$input.val())},createComponent:function(){e.prototype.createComponent.apply(this,arguments),this.$input=this.ct.find(".input-days input"),this.$errmsg=this.ct.find(".input-days .errmsg"),this.$day=this.ct.find(".jiesuanri i"),this.bind()},bind:function(){var t=this;this.$input.on("click",function(){t.$errmsg.text("")}),this.$input.on("keyup",function(){t.validValues()?(t.$errmsg.text(""),t.calc()):t.$day.text(t.jiesuanri)})},reset:function(){this.$input.val("").focus(),this.$errmsg.text(""),this.$day.text(this.jiesuanri),this.disableDialog(!1)},calc:function(){var t=this.jiesuanri,e=1*this.$input.val(),i="";if(t){var n=t.split(/-|\//);if(3===n.length){var o=new Date(n[0],n[1]-1,1*n[2]+e),s=function(t){return(10>t?"0":"")+t};i=o.getFullYear()+"-"+s(o.getMonth()+1)+"-"+s(o.getDate())}}this.$day.text(i),this.new_jiesuanri=i},show:function(){e.prototype.show.apply(this,arguments),this.reset()},validValues:function(){var t=this.getSelectValue();return""==t?(this.showMsgInfo(i.ERROR_REQUIRE),!1):isNaN(t)||-1!==t.indexOf(".")?(this.showMsgInfo(i.ERROR_NUMBER),
this.$input.select(),!1):(t*=1,1>t?(this.showMsgInfo(i.ERROR_MIN),this.$input.select(),!1):t>30?(this.showMsgInfo(i.ERROR_MAX),this.$input.select(),!1):!0)},onOkClick:function(t){this._isDisable||this.validValues()&&this.onSubmit(t)},onCancelClick:function(t){this._isDisable||e.prototype.onCancelClick.apply(this,arguments)},onCloseClick:function(t){this._isDisable||e.prototype.onCloseClick.apply(this,arguments)},onSubmit:function(t){this.hide()},onOK:function(t){},_isDisable:!1,disableDialog:function(e){this._isDisable=!!e;var i=t(this.okBtnSelector,this.ct),n=t(this.cancelBtnSelector,this.ct);this._isDisable?(i.addClass("button-disabled"),n.addClass("button-disabled")):(i.removeClass("button-disabled"),n.removeClass("button-disabled"))},initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return t}}),n}),define("flow/trade/module/extendaccountperiod/extend-repayment-date-dialog",["jquery","doit/widget/ui/dialog/base-dialog","pitaya/unit/date-time-picker","doit/widget/util/date-util","doit/widget/util/web-util"],function(t,e,i,n,o){var s="\u8bf7\u586b\u5199\u5ef6\u671f\u5929\u6570",r=function(t){this.init(t)};return t.extend(r.prototype,e.prototype,{createComponent:function(){e.prototype.createComponent.apply(this,arguments),this.extendDays=0,this.initDatePick(),this.initDateInput()},initDateInput:function(){var e=this;this.ct.find(".repayment-date").on("blur",function(){var i=t(this).val();e.extendDays=i,e.asynDate()}).on("keyup",function(){var e=t(this).val();t(this).val(e.replace(/[^\d]/g,""))})},initDatePick:function(){this.dateTimePicker=i.startup(this.ct.find(".repayment-time-datepicker")),this.repaymentDate=new Date(this.repaymentDate);var t={hasTime:!0,dateChangeHidePopup:!0,timeFormat:"HH:mm",placeholder:"\u70b9\u51fb\u9009\u62e9\u8fd8\u6b3e\u65f6\u95f4",minDate:this.repaymentDate,locale:{format:"YYYY-MM-DD"}};t.dateTime=this.repaymentDate,this.dateTimePicker.notify("updateOptions",t),this.dateTimePicker.attach("dateTimeChanged",this.asynDay,this)},onOkClick:function(){this.verify()&&this.onSubmit()},onCloseClick:function(){e.prototype.onCloseClick.apply(this,arguments)},verify:function(){return parseInt(this.extendDays,10)<1?(this.showErrorMsg(),!1):!0},showErrorMsg:function(){this.ct.find(".error-msg").text(s).show()},getUrl:function(){return t("#extendAccountPeriodUrl").val()},getParams:function(e){return t.extend({},e,{days:this.extendDays,orderId:this.orderId,date:this.extendDate})},asynDay:function(t){var e=parseInt(Math.abs(new Date(t)-this.repaymentDate)/1e3/60/60/24);this.ct.find(".repayment-date").val(e||0),this.extendDays=e,this.extendDate=t},asynDate:function(){var t=this.extendDays,e=this.repaymentDate.getTime()+1e3*t*60*60*24;this.dateTimePicker.set("dateTime",n(new Date(e)))}}),r}),define("flow/trade/module/extendaccountperiod/extend-repayment-date-tpl",["jquery"],function(t){var e=['<div class="module mod-dialog mod-extend-date-dialog">','<div class="header">','<div class="container">','<h3 class="title">\u5ef6\u957f\u8d26\u671f\u8fd8\u6b3e\u65f6\u95f4</h3>','<div class="panel">','<a class="close icon-close" href="#" target="_self" title="\u5173\u95ed">\u5173\u95ed</a>',"</div>","</div>","</div>",'<div class="content">','<div class="container">','<div class="ct-content">','<dl class="fd-clr"><dt>\u8bbe\u7f6e\u8fd8\u6b3e\u65e5\u671f\uff1a</dt><dd><div class="repayment-time-datepicker " >\u65f6\u95f4</div> </dd></dt></dl>','<dl class="fd-clr"><dt>\u8fd8\u6b3e\u5929\u6570\uff1a</dt><dd><input type="text" class="lang-input input-large repayment-date " value="0"/> </dd></dt></dl>',"</div>","</div>","</div>",'<div class="footer">','<div class="container">','<div class="panel buttons ">','<span class="error-msg text-warning fd-hide"></span>','<a class="lang-button submit-btn ok" data-level="important" href="#" target="_self">\u786e\u8ba4</a>','<a class="lang-button cancel-btn cancel" href="#" target="_self">\u53d6\u6d88</a>',"</div>","</div>","</div>","</div>"];return e.join("")}),define("flow/trade/module/electronicticket/add-electronic-ticket-tpl",["jquery"],function(t){var e=['<div class="module mod-dialog mod-add-electronic-ticket-dialog">','<div class="header">','<div class="container">','<h3 class="title">\u8f93\u5165\u7535\u5b50\u94f6\u884c\u627f\u5151\u6c47\u7968\u7968\u53f7</h3>','<div class="panel">','<a class="close icon-close" href="#" target="_self" title="\u5173\u95ed">\u5173\u95ed</a>',"</div>","</div>","</div>",'<div class="content">','<div class="container">','<div class="add-label">\u8bf7\u8f93\u5165\u7535\u5b50\u94f6\u884c\u627f\u5151\u6c47\u7968\u7968\u53f7</div>','<div><input type="text" class="lang-input ticket-number " maxlength="30" placeholder="\u8bf7\u8f93\u5165\u7968\u53f7"/></div>',"</div>","</div>",'<div class="footer">','<div class="container">','<div class="panel buttons ">','<span class="error-msg text-warning fd-hide"></span>','<button class="lang-button submit-btn ok" data-level="important">\u786e\u8ba4</button>','<button class="lang-button cancel-btn cancel">\u53d6\u6d88</button>',"</div>","</div>","</div>","</div>"];return e.join("")}),define("flow/trade/module/electronicticket/check-electronic-ticket-tpl",["jquery","doit/widget/util/web-util"],function(t,e){var i=function(t){return'<div class="electronic-ticket-detail"><dl><dt>\u7968\u53f7\uff1a</dt><dd class="ticket-number">'+t.billNo+"</dd></dl>"+(t.associated?(t.billType?"<dl><dt>\u7968\u636e\u7c7b\u578b\uff1a</dt>"+(1==t.billType?"<dd>\u7535\u5b50\u94f6\u884c\u627f\u5151\u6c47\u7968</dd>":'<dd class="text-subhead">\u7535\u5b50\u5546\u4e1a\u627f\u5151\u6c47\u7968</dd>')+"</dl>":"")+(t.money?'<dl><dt>\u7968\u636e\u91d1\u989d\uff1a</dt><dd class="">'+t.money+"</dd></dl>":"")+(t.sellerAccountName?'<dl><dt>\u6536\u6b3e\u4eba\u516c\u53f8\u540d\uff1a</dt><dd class="">'+e.escapeHtml(t.sellerAccountName)+"</dd></dl>":"")+(1==t.billType&&t.sellerBankName?'<dl><dt>\u627f\u5151\u94f6\u884c\uff1a</dt><dd class="">'+t.sellerBankName+"</dd></dl>":"")+(2==t.billType&&t.acceptor?'<dl><dt>\u4ed8\u6b3e\u4eba\uff1a</dt><dd class="">'+t.acceptor+"</dd></dl>":"")+(t.dueDt?"<dl>"+(1==t.billType?"<dt>\u627f\u5151\u65e5\u671f\uff1a</dt>":"<dt>\u5230\u671f\u65e5\uff1a</dt>")+'<dd class="">'+t.dueDt+"</dd></dl>":""):(t.sellerAccountName?'<dl><dt>\u5356\u5bb6\u6536\u7968\u8d26\u53f7\u540d\u79f0\uff1a</dt><dd class="company-name">'+e.escapeHtml(t.sellerAccountName)+"</dd></dl>":"")+(t.sellerAccountNo?'<dl><dt>\u5356\u5bb6\u6536\u7968\u94f6\u884c\u8d26\u53f7\uff1a</dt><dd class="bank-account">'+t.sellerAccountNo+"</dd></dl>":"")+(t.sellerBankName?'<dl><dt>\u5356\u5bb6\u6536\u7968\u94f6\u884c\uff1a</dt><dd class="bank-name">'+t.sellerBankName+"</dd></dl>":"")+(t.sellerPaymentLine?'<dl><dt>\u5356\u5bb6\u6536\u7968\u8054\u884c\u53f7\uff1a</dt><dd class="bank-union-account">'+t.sellerPaymentLine+"</dd></dl>":""))+(t.ebInputDt?'<dl><dt>\u63d0\u4ea4\u65f6\u95f4\uff1a</dt><dd class="created-date">'+t.ebInputDt+"</dd></dl>":"")+(t.associated&&t.payTicketDt?'<dl><dt>\u4ed8\u7968\u65f6\u95f4\uff1a</dt><dd class="pay-ticket-date">'+t.payTicketDt+"</dd></dl>":"")+(t.payStatus?'<dl><dt>\u652f\u4ed8\u72b6\u6001\uff1a</dt><dd class="pay-status">'+t.payStatus+"</dd></dl>":"")+"</div>"};return{render:function(t){return i(t)}}}),define("flow/trade/module/electronicticket/add-electronic-ticket-dialog",["jquery","doit/widget/ui/dialog/base-dialog"],function(t,e){var i="\u8bf7\u586b\u5199\u7968\u53f7",n=function(t){this.init(t)};return t.extend(n.prototype,e.prototype,{createComponent:function(){e.prototype.createComponent.apply(this,arguments),this.initInput()},initInput:function(){this.ct.on("keyup","input.ticket-number",function(){t(this).val(t(this).val().replace(/[^\d]/g,""))}),this.ct.find("input.ticket-number").val(this.billNo)},onOkClick:function(){this.verify()&&this.onSubmit()},onCloseClick:function(){e.prototype.onCloseClick.apply(this,arguments)},verify:function(){return t.trim(this.ct.find(".ticket-number").val())?!0:(this.showErrorMsg(),!1)},showErrorMsg:function(){this.ct.find(".error-msg").text(i).show()},getUrl:function(){return t("#addElectronicTicketUrl").val()},getParams:function(e){return t.extend({},e,{ticketNumber:this.ct.find(".ticket-number").val(),orderId:this.orderId})}}),n}),define("flow/trade/module/electronicticket/agree-electronic-ticket-dialog",["jquery","doit/widget/ui/dialog/base-dialog"],function(t,e){var i=function(t){this.init(t)};return t.extend(i.prototype,e.prototype,{createComponent:function(){e.prototype.createComponent.apply(this,arguments)},onOkClick:function(){this.onSubmit()},onCloseClick:function(){e.prototype.onCloseClick.apply(this,arguments)},getUrl:function(){return t("#agreeElectronicTicketUrl").val()},getParams:function(e){return t.extend({},e,{opt:this.opt,orderId:this.orderId})}}),i}),define("flow/trade/module/electronicticket/agree-electronic-ticket-tpl",["jquery","doit/widget/util/web-util"],function(t,e){var i=function(t){return'<div class="electronic-ticket-detail"><dl><dt>\u7968\u636e\u7968\u53f7\uff1a</dt><dd class="ticket-number">'+t.billNo+"</dd></dl>"+(t.associated?(t.billType?"<dl><dt>\u7968\u636e\u7c7b\u578b\uff1a</dt>"+(1==t.billType?"<dd>\u7535\u5b50\u94f6\u884c\u627f\u5151\u6c47\u7968</dd>":'<dd class="text-subhead">\u7535\u5b50\u5546\u4e1a\u627f\u5151\u6c47\u7968</dd>')+"</dl>":"")+(t.money?'<dl><dt>\u7968\u636e\u91d1\u989d\uff1a</dt><dd class="">'+t.money+"</dd></dl>":"")+(t.sellerAccountName?'<dl><dt>\u6536\u6b3e\u4eba\u516c\u53f8\u540d\uff1a</dt><dd class="">'+e.escapeHtml(t.sellerAccountName)+"</dd></dl>":"")+(1==t.billType&&t.sellerBankName?'<dl><dt>\u627f\u5151\u94f6\u884c\uff1a</dt><dd class="">'+t.sellerBankName+"</dd></dl>":"")+(2==t.billType&&t.acceptor?'<dl><dt>\u4ed8\u6b3e\u4eba\uff1a</dt><dd class="">'+t.acceptor+"</dd></dl>":"")+(t.dueDt?"<dl>"+(1==t.billType?"<dt>\u627f\u5151\u65e5\u671f\uff1a</dt>":"<dt>\u5230\u671f\u65e5\uff1a</dt>")+'<dd class="">'+t.dueDt+"</dd></dl>":""):(t.sellerAccountName?'<dl><dt>\u5356\u5bb6\u6536\u7968\u8d26\u53f7\u540d\u79f0\uff1a</dt><dd class="company-name">'+e.escapeHtml(t.sellerAccountName)+"</dd></dl>":"")+(t.sellerAccountNo?'<dl><dt>\u5356\u5bb6\u6536\u7968\u94f6\u884c\u8d26\u53f7\uff1a</dt><dd class="bank-account">'+t.sellerAccountNo+"</dd></dl>":"")+(t.sellerBankName?'<dl><dt>\u5356\u5bb6\u6536\u7968\u94f6\u884c\uff1a</dt><dd class="bank-name">'+t.sellerBankName+"</dd></dl>":"")+(t.sellerPaymentLine?'<dl><dt>\u5356\u5bb6\u6536\u7968\u8054\u884c\u53f7\uff1a</dt><dd class="bank-union-account">'+t.sellerPaymentLine+"</dd></dl>":""))+(t.ebInputDt?'<dl><dt>\u7968\u636e\u63d0\u4ea4\u65f6\u95f4\uff1a</dt><dd class="created-date">'+t.ebInputDt+"</dd></dl>":"")+(t.associated&&t.payTicketDt?'<dl><dt>\u7968\u636e\u4ed8\u7968\u65f6\u95f4\uff1a</dt><dd class="pay-ticket-date">'+t.payTicketDt+"</dd></dl>":"")+"</div>"};return{render:function(t,e){return['<div class="module mod-dialog mod-check-electronic-ticket-dialog">','<div class="header">','<div class="container">','<h3 class="title">'+("sign"===e?"\u786e\u8ba4\u7b7e\u6536":"\u62d2\u7edd\u7b7e\u6536")+"</h3>",'<div class="panel">','<a class="close icon-close" href="#" target="_self" title="\u5173\u95ed">\u5173\u95ed</a>',"</div>","</div>","</div>",'<div class="content">',1==t.billType?'<div class="content-label">\u8bf7\u786e\u8ba4\u7535\u5b50\u94f6\u884c\u627f\u5151\u6c47\u7968\u4fe1\u606f\uff0c\u662f\u5426'+("sign"===e?"\u786e\u8ba4\u7b7e\u6536":"\u62d2\u7edd\u7b7e\u6536")+"\uff1f</div>":'<div class="content-label text-error">\u672c\u6b21\u6536\u6b3e\u4e3a\u7535\u5b50<em class="text-subhead">\u5546\u4e1a</em>\u627f\u5151\u6c47\u7968\uff0c\u5230\u671f\u627f\u5151\u4f9d\u8d56\u627f\u5151\u4eba\u662f\u5426\u4ed8\u6b3e\uff0c\u8bf7\u8fa8\u660e\u98ce\u9669\u540e\u518d\u7b7e\u6536\uff0c\u662f\u5426'+("sign"===e?"\u786e\u8ba4\u7b7e\u6536":"\u62d2\u7edd\u7b7e\u6536")+"\uff1f</div>",i(t),"</div>",'<div class="footer">','<div class="container">','<div class="panel buttons ">','<span class="error-msg text-warning fd-hide"></span>','<a class="lang-button submit-btn ok" data-level="important" href="#" target="_self">'+("sign"===e?"\u786e\u8ba4\u7b7e\u6536":"\u62d2\u7edd\u7b7e\u6536")+"</a>",'<a class="lang-button cancel-btn cancel" href="#" target="_self">\u53d6\u6d88</a>',"</div>","</div>","</div>"].join("")}}}),define("flow/trade/module/checkorderagreement/tpl",["jquery"],function(t){var e=['<div class="mod mod-dialog mod-check-order-agreement-dlg" data-type="confirm">','<div class="header">','<div class="cell-header container">','<h3 class="title">\u8865\u5145\u534f\u8bae</h3>','<div class="panel">','<a class="icon-close close" href="#" title="\u5173\u95ed">\u5173\u95ed</a>',"</div>","</div>","</div>",'<div class="content fd-clr">','<div class="container etd-container">',"</div>",'<div class="footer">','<div class="container">','<div class="panel buttons unit-button-group fd-right">','<a class="button lang-button ok" data-level="important" href="#">\u786e\u8ba4</a>',"</div>","</div>","</div>","</div>"];return e.join("")}),define("flow/trade/module/checkorderagreement/dlg",["jquery","doit/widget/ui/dialog/base-dialog","doit/widget/util/web-util"],function(t,e,i){var n=function(t){this.init(t)};return t.extend(n.prototype,e.prototype,{onOkClick:function(t){this.hide()},createComponent:function(){e.prototype.createComponent.apply(this,arguments),this.initBind()},initBind:function(){var e=this;this.ct.on("click",".check-origin-agreement-content-link",function(i){i.preventDefault(),e.ct.find(".origin-agreement-content").toggleClass("fd-hide"),e.toCenter(),t(this).toggleClass("dropdown")})},initDefaultOptions:function(){var i=e.prototype.initDefaultOptions.apply(this,arguments);return t.extend(i,{}),i}}),n}),define("flow/trade/module/editmemo/edit-memo-dialog",["jquery","justTracker","doit/widget/ui/dialog/base-dialog","doit/widget/ui/placeholder","pitaya/lang/radio","doit/widget/util/web-util"],function(t,e,i,n,o,s){var r=function(t){this.init(t)};return t.extend(r.prototype,i.prototype,{radioComponentList:null,showMsgInfo:function(e,i,n,o){i=i||"";var s=null;n&&(s=e.offset(),s.top=s.top+e.outerHeight()+3);var r=e.data("emdmsgInfoEl");r||(r=t('<p class="edit-memo-dlg-tip"></p>')[o?o:"insertAfter"](e),e.data("emdmsgInfoEl",r)),r.html(i),""===i?r.hide():(r.show(),s&&r.offset(s))},clearAllMsg:function(){t(".edit-memo-dlg-tip",this.ct).html("").hide()},getData:function(){var t=this.getSelectValue(),e=this.getText();return{markType:t,text:e}},getSelectValue:function(){var e=null;return t.each(this.radioComponentList,function(t,i){return i.get("checked")===!0?(e=i.get("value"),!1):void 0}),e},selectValue:function(e){t.each(this.radioComponentList,function(t,i){i.get("value")===e&&i.set("checked",!0)})},initRadioComponentList:function(e){var i=this;this.radioComponentList=[],e.each(function(){i.radioComponentList.push(o.startup(t(this)))})},clearSelect:function(){t.each(this.radioComponentList,function(t,e){e.set("checked",!1)})},getText:function(){return this.msgTxt.val()},setText:function(t){this.msgTxt.val(t),this.updateTxtSize()},clearData:function(){this.data=null,this.clearSelect(),this.radioComponentList[0].set("checked",!0),this.setText("")},setData:function(t,e){e!==!1&&this.clearData(),t&&(null!=t.markType&&this.selectValue(t.markType+""),null!=t.text&&this.setText(t.text))},initMsgTxt:function(){var t=this;this.msgTxt=new n({isIgnoreUnload:!0,container:this.msgTxt}).ct;var e=this.msgTxt,i=this.txtMaxLength;e.bind("blur",function(n){e.val(s.strim(e.val())),t.limitTxtVal(e,i),t.updateTxtSize()}).bind("keyup",function(n){t.limitTxtVal(e,i),t.updateTxtSize()}),this.updateTxtSize()},updateTxtSize:function(){this.msgTxtSize.text(this.txtMaxLength-this.countVal(this.msgTxt))},limitTxtVal:function(t,e){var i=t.val();i.length>e&&t.val(i.substring(0,e))},countVal:function(t){return t.val().length},createComponent:function(){i.prototype.createComponent.apply(this,arguments);var e=this.ct;this.radioComponentList=[],this.$radioList=t(this.itemContainerSelector,e),this.errorsCt=t(this.errorsSelector,e),this.msgTxt=t(this.msgTxtSelector,e),this.msgTxtSize=t(this.txtSizeSelector,e),this.okBtn=t(this.okBtnSelector,e),this.cancelBtn=t(this.cancelBtnSelector,e),this.dlgTipCt=t(this.dialogTipSelector,e),this.initMsgTxt(),this.data&&this.setData(this.data,!0),this.initRadioComponentList(this.$radioList),this.isReadOnly&&this.setReadOnly(this.isReadOnly)},reset:function(){this.clearSelect(),this.radioComponentList[0].set("checked",!0),this.isReadOnly=!1,this.setDialogTip(null),this.disableDialog(!1)},onOkClick:function(t){this._isDisable||this.isReadOnly||this.onSubmit(t)},onCancelClick:function(t){this._isDisable||i.prototype.onCancelClick.apply(this,arguments)},onCloseClick:function(t){this._isDisable||i.prototype.onCloseClick.apply(this,arguments)},onSubmit:function(t){this.hide()},_isDisable:!1,disableDialog:function(t){this._isDisable=!!t,this.isReadOnly||this.setReadOnly(this._isDisable,!0),this._isDisable?this.cancelBtn.attr("disabled","disabled"):this.cancelBtn.removeAttr("disabled")},setReadOnly:function(e,i){t.each(this.radioComponentList,function(t,i){i.set("disabled",e)}),e?(this.okBtn.attr("disabled","disabled"),this.msgTxt.prop("readOnly",!0)):(this.okBtn.removeAttr("disabled"),this.msgTxt.prop("readOnly",!1)),i||(this.isReadOnly=e)},setDialogTip:function(t,e){var i=t;if(null==t)i="";else{var n="tip-content";"info"===e&&(n+=" icon-warning-small text-lesser"),i='<span class="'+n+'">'+s.escapeHtml(t)+"</span>"}this.dlgTipCt.html(i)},destroy:function(t){i.prototype.destroy.apply(this,arguments),delete this.okBtn,delete this.cancelBtn},initDefaultOptions:function(){var n=i.prototype.initDefaultOptions.apply(this,arguments);return t.extend(n,{isReadOnly:!1,data:null,itemContainerSelector:"ul.memo-icon-ct .lang-radio",msgTxtSelector:"textarea.memo-txt",dialogTipSelector:".emd-dialog-tip",errorsSelector:".errors-info",txtSizeSelector:"em.txt-size",txtMaxLength:500,eventNs:".editMemoDlg",dlgOptions:{draggable:{handle:"div.header",containment:"body",start:function(){e.goldlog("/trade.20.1.28","CLK",{},"H46836993")}}}}),n}}),r}),define("flow/trade/module/actions/observer",["jquery","just/fit/observer"],function(t,e){return e.create({})}),define("flow/trade/module/actions/action-extended-time",["jquery","doit/mod/base-action","flow/trade/module/extendedtime/extended-time-dialog","flow/trade/module/extendedtime/extended-time-tpl","doit/widget/util/web-util"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{extendTimeDlg:null,initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{fetchUrl:null,bundle:{MSG_EXTEND_DLG_TITLE:"\u5ef6\u957f{0}\u65f6\u95f4",MSG_EXTENDED_SUCCESS:"{0}\u65f6\u95f4\u5ef6\u957f\u6210\u529f\uff01",ERROR_EXTENDED_TIME_FAILED:"\u5ef6\u957f\u65f6\u95f4\u5931\u8d25\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5"},keyDelayedDays:"date",paramKeyMapping:{orderId:"data-order-id",subPayOrderId:"data-subpayorderid",bizId:"data-bizid",bizType:"data-biztype",buyerId:"data-buyerId",role:"data-role"},dataKeyMapping:{optName:"data-optname",notSync:"data-not-sync"},triggerSelector:".action-extend-time"}),t},showExtendedTimeDlg:function(e,o){var s=this,r=this.getUrl(e),a=this.getParams(e);this.extendTimeDlg||(this.extendTimeDlg=new i({tpl:n}));var l=this.extendTimeDlg.itemsData;o&&o.choice&&(l=o.choice),this.extendTimeDlg.createItemGroup(l),this.extendTimeDlg.onSubmit=function(t){a[s.keyDelayedDays]=this.getSelectValue(),s.ajax(r,a,e),this.disableDialog(!0)},null==this.extendTimeDlg._ori_info&&(this.extendTimeDlg._ori_info=this.extendTimeDlg.infoEl.html()),o&&o.depict?this.extendTimeDlg.setInfo(o.depict):this.extendTimeDlg.setInfo(this.extendTimeDlg._ori_info,!0);var c=this.getData(e).optName;c&&t(".opt-name",this.extendTimeDlg.ct).text(c),this.extendTimeDlg.reset(),this.extendTimeDlg.show(e)},loadExtendInfo:function(t,e){var i=this.getParams(t),n=this.getData(t),o=this.fetchUrl;o&&"true"!==n.notSync?this.ajax(o,i,t,"fetch"):this.showExtendedTimeDlg(t)},executeAction:function(t,e){e&&e.preventDefault(),this.loadExtendInfo(t,e)},onSuccess:function(t,e,i,n,s,r){var a=this,l=this.getMsgDlgTitle(n,s),c=this.bundle;this.extendTimeDlg&&this.extendTimeDlg.hide();var u=t;if(t&&t.success+""=="true")"fetch"===r?a.showExtendedTimeDlg(s,t.data):this.showMsgDlg({type:"alert",title:l,msgType:"success",message:o.getBundleMsg(c.MSG_EXTENDED_SUCCESS,a.getData(s).optName),onOkClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u)}},s);else{var d="ERROR_EXTENDED_TIME_FAILED",h=c.ERROR_SYSTEM_ERROR,f="error";t&&(t.errorCode&&(d=t.errorCode,t.errorMessage&&(h=o.escapeHtml(t.errorMessage))),f="warn");var p=a.getBundleMsg(d,h);this.showMsgDlg({type:"alert",title:l,msgType:f,message:p,onOkClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)}},s)}},onError:function(t,i,n,o,s,r){this.extendTimeDlg&&this.extendTimeDlg.hide(),e.prototype.onError.apply(this,arguments)},getMsgDlgTitle:function(t,e){var i=this.getData(e);return o.getBundleMsg(this.bundle.MSG_EXTEND_DLG_TITLE,i.optName)}}),s}),define("flow/trade/module/actions/action-extend-account-period",["jquery","doit/mod/base-action","flow/trade/module/extendaccountperiod/extend-account-period-dialog","flow/trade/module/extendaccountperiod/extend-account-period-tpl","doit/widget/util/web-util"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{extendAccountPeriodDlg:null,initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_EXTEND_DLG_TITLE:"\u5ef6\u957f{0}\u65f6\u95f4",MSG_EXTENDED_SUCCESS:"{0}\u65f6\u95f4\u5ef6\u957f\u6210\u529f\uff01",ERROR_EXTENDED_TIME_FAILED:"\u5ef6\u957f\u65f6\u95f4\u5931\u8d25\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5"},keyDelayedDays:"days",paramKeyMapping:{orderId:"data-orderid",subPayOrderId:"data-subpayorderid"},dataKeyMapping:{optName:"data-optname",jiesuanri:"data-jiesuanri",extendCount:"data-extend-count"},triggerSelector:".act-extend-account-period"}),t},showExtendedTimeDlg:function(t){var e=this,o=this.getUrl(t),s=this.getParams(t),r=this.getData(t);this.extendAccountPeriodDlg||(this.extendAccountPeriodDlg=new i({tpl:n,jiesuanri:r.jiesuanri,extendCount:r.extendCount,optName:r.optName})),this.extendAccountPeriodDlg.onSubmit=function(i){s[e.keyDelayedDays]=this.getSelectValue(),e.ajax(o,s,t),this.disableDialog(!0)},this.extendAccountPeriodDlg.show(t)},executeAction:function(t,e){e&&e.preventDefault(),this.showExtendedTimeDlg(t)},onSuccess:function(t,e,i,n,s,r){var a=this,l=this.getMsgDlgTitle(n,s),c=this.bundle;this.extendAccountPeriodDlg.hide();var u=t;if(t&&t.success+""=="true")this.extendAccountPeriodDlg.extendCount++,this.extendAccountPeriodDlg.extendCount>=2?s.hide():this.extendAccountPeriodDlg.new_jiesuanri&&(this.extendAccountPeriodDlg.jiesuanri=this.extendAccountPeriodDlg.new_jiesuanri),window.reqCountdown_glb&&reqCountdown_glb(),this.showMsgDlg({type:"alert",title:l,msgType:"success",message:o.getBundleMsg(c.MSG_EXTENDED_SUCCESS,a.getData(s).optName),onOkClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u)}},s);else{var d="ERROR_EXTENDED_TIME_FAILED",h=c.ERROR_SYSTEM_ERROR,f="error";t&&(t.errorCode&&(d=t.errorCode,t.errorMessage&&(h=o.escapeHtml(t.errorMessage))),f="warn");var p=a.getBundleMsg(d,h);this.showMsgDlg({type:"alert",title:l,msgType:f,message:p,onOkClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)}},s)}},onError:function(t,i,n,o,s,r){this.extendAccountPeriodDlg&&this.extendAccountPeriodDlg.hide(),e.prototype.onError.apply(this,arguments)},getMsgDlgTitle:function(t,e){var i=this.getData(e);return o.getBundleMsg(this.bundle.MSG_EXTEND_DLG_TITLE,i.optName)}}),s}),define("flow/trade/module/actions/action-pay-extended-time",["jquery","doit/mod/base-action","flow/trade/module/extendedtime/extended-time-dialog","flow/trade/module/extendedtime/pay-extended-time-tpl","doit/widget/util/web-util"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{extendTimeDlg:null,initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{INFO_BUYER_DESC:"\u8bf7\u9009\u62e9\u5ef6\u957f\u65f6\u95f4\uff1a",INFO_SELLER_DESC:"\u5ef6\u957f\u4ed8\u6b3e\u65f6\u95f4\u53ef\u4ee5\u8ba9\u4e70\u5bb6\u6709\u66f4\u591a\u65f6\u95f4\u4ed8\u6b3e<br>\u8bf7\u9009\u62e9\u5ef6\u957f\u4ed8\u6b3e\u65f6\u95f4\uff1a",MSG_EXTEND_DLG_TITLE:"\u5ef6\u957f\u4ed8\u6b3e\u65f6\u95f4",MSG_EXTENDED_SUCCESS:"\u4ed8\u6b3e\u65f6\u95f4\u5ef6\u957f\u6210\u529f\uff01",ERROR_EXTENDED_TIME_FAILED:"\u5ef6\u957f\u65f6\u95f4\u5931\u8d25\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5",BUYER_HAS_DELAY_TIME:"\u60a8\u5df2\u5ef6\u957f\u8fc7\u4ed8\u6b3e\u65f6\u95f4\u3002\u5982\u9700\u518d\u6b21\u5ef6\u957f\uff0c\u60a8\u53ef\u4ee5\u8054\u7cfb\u5356\u5bb6\u3002"},keyDelayedDays:"delayedDays",paramKeyMapping:{orderId:"data-orderid",subPayOrderId:"data-subpayorderid",role:"data-role"},dataKeyMapping:{role:"data-role",count:"data-count"},triggerSelector:".action-pay-extend-time"}),t},showExtendedTimeDlg:function(e){var o=this,s=this.getUrl(e),r=this.getParams(e);this.extendTimeDlg||(this.extendTimeDlg=new i({tpl:n,setDescInfo:function(e){!this.ct||this.ct.length<=0||(this.descInfoCt||(this.descInfoCt=t(".info",this.ct)),this.descInfoCt.html(e))}})),this.extendTimeDlg.setDescInfo("seller"===r.role?o.bundle.INFO_SELLER_DESC:o.bundle.INFO_BUYER_DESC),this.extendTimeDlg.onSubmit=function(t){r[o.keyDelayedDays]=this.getSelectValue(),o.ajax(s,r,e),this.disableDialog(!0)},this.extendTimeDlg.reset(),this.extendTimeDlg.show(e)},executeAction:function(e,i){i&&i.preventDefault();var n=this.bundle,o=this.getMsgDlgTitle(this.getParams(e),e),s=this.getData(e,this.dataKeyMapping),r=parseInt(t.trim(s.count),10);return isNaN(r)&&(r=0),"buyer"===s.role&&r>0?void this.showMsgDlg({type:"alert",title:o,msgType:"info",message:n.BUYER_HAS_DELAY_TIME},e):void this.showExtendedTimeDlg(e)},onSuccess:function(e,i,n,s,r,a){var l=this,c=this.getMsgDlgTitle(s,r),u=this.bundle;this.extendTimeDlg.hide();var d=e;if(e&&e.success+""=="true")this.showMsgDlg({type:"alert",title:c,msgType:"success",message:u.MSG_EXTENDED_SUCCESS,onOkClick:function(){this.hide(),l.onActionSuccess(r,d),l.onActionComplete(r,d)},onCloseClick:function(){this.hide(),l.onActionSuccess(r,d),l.onActionComplete(r,d)}},r);else{var h="ERROR_EXTENDED_TIME_FAILED",f=u.ERROR_SYSTEM_ERROR,p="error";if(e)switch(e.errorCode&&(h=e.errorCode,e.errorMessage&&(f=o.escapeHtml(e.errorMessage))),p="warn",e.errorCode){case"BUYER_HAS_DELAY_TIME":p="info";var g=l.getData(r,l.dataKeyMapping),m=parseInt(t.trim(g.count),10);isNaN(m)&&(m=0),"buyer"===g.role&&r.attr("data-count",m+1+"")}var v=l.getBundleMsg(h,f);this.showMsgDlg({type:"alert",title:c,msgType:p,message:v,onOkClick:function(){this.hide(),l.onActionError(r,d),l.onActionComplete(r,d)},onCloseClick:function(){this.hide(),l.onActionError(r,d),l.onActionComplete(r,d)}},r)}},onError:function(t,i,n,o,s,r){this.extendTimeDlg&&this.extendTimeDlg.hide(),e.prototype.onError.apply(this,arguments)},getMsgDlgTitle:function(t,e){return this.bundle.MSG_EXTEND_DLG_TITLE}}),s}),define("flow/trade/module/actions/action-push-step",["jquery","doit/mod/base-action","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl","doit/widget/util/web-util"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_PUSH_STEP_DLG_TITLE:"\u63a8\u8fdb\u5230\u4e0b\u9636\u6bb5",MSG_PUSH_STEP_CONFRIM:"\u60a8\u786e\u5b9a\u5df2\u51c6\u5907\u597d\uff0c\u5e76\u63a8\u8fdb\u5230\u4e0b\u4e00\u9636\u6bb5\uff1f",MSG_PUSH_STEP_SUCCESS:'\u63a8\u8fdb\u6210\u529f\uff01<div class="msg-dlg-extra">\u8bf7\u53ca\u65f6\u8054\u7cfb\u4e70\u5bb6\u4ed8\u6b3e</div>',INCORRECT_STATE:"\u63a8\u8fdb\u5931\u8d25\uff0c\u8ba2\u5355\u72b6\u6001\u9519\u8bef\uff01"},keyDelayedDays:"delayedDays",paramKeyMapping:{orderId:"data-orderid",userType:"data-usertype"},triggerSelector:".action-push-next-step"}),t},showConfirmDlg:function(e,o){this.confirmDlg||(this.confirmDlg=new i({tpl:n,_isDisable:!1,disableDialog:function(e){this._isDisable=!!e;var i=t(this.okBtnSelector,this.ct),n=t(this.cancelBtnSelector,this.ct);this._isDisable?(i.addClass("button-disabled"),n.addClass("button-disabled")):(i.removeClass("button-disabled"),n.removeClass("button-disabled"))}})),this.confirmDlg.disableDialog(!1),this.confirmDlg.show(e,o)},executeAction:function(t,e){e&&e.preventDefault();var i=this,n=this.bundle;this.showConfirmDlg({type:"confirm",title:n.MSG_PUSH_STEP_DLG_TITLE,msgType:"info",message:n.MSG_PUSH_STEP_CONFRIM,onOkClick:function(){if(!this._isDisable){i.confirmDlg.disableDialog(!0);var e=i.getParams(t),n=i.getUrl(t);i.ajax(n,e,t)}},onCancelClick:function(){this._isDisable||this.hide()},onCloseClick:function(){this._isDisable||this.hide()}},t)},onSuccess:function(t,e,i,n,s,r){var a=this,l=this.getMsgDlgTitle(n,s),c=this.bundle;this.confirmDlg&&this.confirmDlg.hide();var u=t;if(t&&t.success+""=="true")a.showMsgDlg({type:"alert",title:l,msgType:"success",message:c.MSG_PUSH_STEP_SUCCESS,onOkClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u)}},s);else{var d="ERROR_SYSTEM_ERROR",h=c.ERROR_SYSTEM_ERROR,f="error";t&&(t.errorCode&&(d=t.errorCode,t.errorMessage&&(h=o.escapeHtml(t.errorMessage))),f="warn");var p=a.getBundleMsg(d,h);a.showMsgDlg({type:"alert",title:l,msgType:f,message:p,onOkClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)}},s)}},onError:function(t,i,n,o,s,r){this.confirmDlg&&this.confirmDlg.hide(),e.prototype.onError.apply(this,arguments)},getMsgDlgTitle:function(t,e){return this.bundle.MSG_PUSH_STEP_DLG_TITLE}}),s}),define("flow/trade/module/actions/action-remind-seller",["jquery","doit/mod/base-action","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl","doit/widget/util/web-util"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_REMIND_DLG_TITLE:"\u63d0\u9192\u5356\u5bb6{0}",MSG_REMIND_CONFRIM:"\u60a8\u786e\u5b9a\u63d0\u9192\u5356\u5bb6{0}\uff1f",MSG_REMIND_SUCCESS:"\u63d0\u9192\u5356\u5bb6{0}\u6210\u529f\uff01",ERROR_REMIND_FAILED:"\u63d0\u9192\u5356\u5bb6{0}\u5931\u8d25\uff01",INCORRECT_STATE:"\u63d0\u9192\u5931\u8d25\uff0c\u8ba2\u5355\u72b6\u6001\u9519\u8bef\uff01",TRADE_TYPE_ERROR:"\u63d0\u9192\u5931\u8d25\uff0c\u8ba2\u5355\u7c7b\u578b\u9519\u8bef\uff01",USER_ORDER_NOT_EXIST:"\u60a8\u64cd\u4f5c\u7684\u8ba2\u5355\u4e0d\u5b58\u5728\uff01",ORDER_DATA_ERROR:"\u63d0\u9192\u5931\u8d25\uff0c\u8ba2\u5355\u6570\u636e\u9519\u8bef\uff01",SYSTEM_ERROR:"\u5f88\u62b1\u6b49\uff0c\u7cfb\u7edf\u76ee\u524d\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5",MEMBER_ISNOT_LOGIN:"\u7528\u6237\u672a\u767b\u9646"},paramKeyMapping:{orderId:"data-orderid"},dataKeyMapping:{optName:"data-optname"},triggerSelector:".action-remind-seller"}),t},showConfirmDlg:function(e,o){this.confirmDlg||(this.confirmDlg=new i({tpl:n,_isDisable:!1,disableDialog:function(e){this._isDisable=!!e;var i=t(this.okBtnSelector,this.ct),n=t(this.cancelBtnSelector,this.ct);this._isDisable?(i.addClass("button-disabled"),
n.addClass("button-disabled")):(i.removeClass("button-disabled"),n.removeClass("button-disabled"))}})),this.confirmDlg.disableDialog(!1),this.confirmDlg.show(e,o)},_parseMsg:function(t){var e=this._optName;return e||(e="\u64cd\u4f5c"),o.getBundleMsg(t,o.escapeHtml(e))},executeAction:function(t,e){e&&e.preventDefault();var i=this,n=this.bundle,o=this.getData(t);null!=o.optName&&(this._optName=o.optName),this.showConfirmDlg({type:"confirm",title:this._parseMsg(n.MSG_REMIND_DLG_TITLE),msgType:"info",message:i._parseMsg(n.MSG_REMIND_CONFRIM),onOkClick:function(){if(!this._isDisable){i.confirmDlg.disableDialog(!0);var e=i.getParams(t),n=i.getUrl(t);i.ajax(n,e,t)}},onCancelClick:function(){this._isDisable||this.hide()},onCloseClick:function(){this._isDisable||this.hide()}},t)},onSuccess:function(t,e,i,n,s,r){var a=this,l=this.getMsgDlgTitle(n,s),c=this.bundle;this.confirmDlg&&this.confirmDlg.hide();var u=t;if(t&&t.success+""=="true")this.showMsgDlg({type:"alert",title:l,msgType:"success",message:this._parseMsg(c.MSG_REMIND_SUCCESS),onOkClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u)}},s);else{var d="ERROR_REMIND_FAILED",h=c.ERROR_SYSTEM_ERROR,f="error";t&&(t.errorCode&&(d=t.errorCode,t.errorMessage&&(h=o.escapeHtml(t.errorMessage))),f="warn");var p=a.getBundleMsg(d,h);p=this._parseMsg(p),this.showMsgDlg({type:"alert",title:l,msgType:f,message:p,onOkClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)}},s)}},onError:function(t,i,n,o,s,r){this.confirmDlg&&this.confirmDlg.hide(),e.prototype.onError.apply(this,arguments)},getMsgDlgTitle:function(t,e){return this._parseMsg(this.bundle.MSG_REMIND_DLG_TITLE)}}),s}),define("flow/trade/module/actions/action-complaints",["jquery","doit/mod/base-action","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl","doit/widget/util/web-util"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{},paramKeyMapping:{orderId:"data-orderid"},ajaxOptions:{type:"GET",dataType:"jsonp"},triggerSelector:".action-complaints"}),t},openWin:function(e,i,n,o){var s=t("<form/>").appendTo(t("body"));if(s.prop("method",n||"post").prop("action",e).prop("target",i||"_blank"),o)for(var r in o)t('<input type="hidden"/>').appendTo(s).val(o[r]).prop("name",r);s.submit().remove()},onSuccess:function(t,e,i,n,s,r){var a=this,l=this.getMsgDlgTitle(n,s),c=this.bundle;this.confirmDlg&&this.confirmDlg.hide();var u=t;if(t&&t.success+""=="true"){var d=t.data;a.openWin(d.url,"_top")}else{var h="ERROR_SYSTEM_ERROR",f=c.ERROR_SYSTEM_ERROR,p="error";t&&(t.errorCode&&(h=t.errorCode,t.errorMessage&&(f=o.escapeHtml(t.errorMessage))),p="warn");var g=a.getBundleMsg(h,f);if(t&&t.data){var m=t.data;m.head&&(l=m.head);var v="";m.body&&(v+='<div class="complaints-dlg-body">'+m.body+"</div>"),m.foot&&(v+='<div class="complaints-dlg-foot">'+m.foot+"</div>"),v.length>0&&(p="info",g='<div class="msg-dlg-extra">'+v+"</div>")}this.showMsgDlg({type:"alert",title:l,msgType:p,message:g,onOkClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)}},s)}}}),s}),define("flow/trade/module/actions/action-accountperiod-remind",["jquery","doit/mod/base-action","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl","doit/widget/ui/dialog/splash-dialog","doit/widget/util/web-util"],function(t,e,i,n,o,s){var r={REPAYMENT:"repayment"},a=function(t){this.init(t)};return t.extend(a.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_REMIND_DLG_TITLE:"\u63d0\u9192\u4e70\u5bb6\u4ed8\u6b3e",MSG_REMIND_SUCCESS:"\u63d0\u9192\u4e70\u5bb6\u4ed8\u6b3e\u6210\u529f\uff01",ERROR_REMIND_FAILED:"\u63d0\u9192\u5356\u5bb6\u4ed8\u6b3e\u5931\u8d25\uff01"},paramKeyMapping:{orderId:"data-orderid",buyerMemberId:"data-memberid",apoId:"data-apoid"},triggerSelector:".action-accountperiod-remind"}),t},showSplashDialog:function(t,e){this.splashDlg||(this.splashDlg=new o),this.splashDlg.show(t,e)},toggleTrigger:function(t){t.data("remindtype")===r.REPAYMENT&&t.remove()},onSuccess:function(t,e,i,n,o,r){var a=this,l=this.bundle,c=l.MSG_REMIND_DLG_TITLE;this.confirmDlg&&this.confirmDlg.hide();var u=t;if(t&&t.success+""=="true")this.showSplashDialog({msgType:"success",message:l.MSG_REMIND_SUCCESS,onHide:function(){a.onActionSuccess(o,u),a.onActionComplete(o,u)}},o),a.toggleTrigger(o);else{var d="ERROR_REMIND_FAILED",h=l.ERROR_SYSTEM_ERROR,f="error";t&&(t.errorCode&&(d=t.errorCode,t.errorMessage&&(h=s.escapeHtml(t.errorMessage))),f="warn");var p=a.getBundleMsg(d,h);this.showMsgDlg({type:"alert",title:c,msgType:f,message:p,onOkClick:function(){this.hide(),a.onActionError(o,u),a.onActionComplete(o,u)},onCloseClick:function(){this.hide(),a.onActionError(o,u),a.onActionComplete(o,u)}},o)}}}),a}),define("flow/trade/module/actions/action-refund-check",["jquery","doit/mod/base-action","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl","doit/widget/util/web-util"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{},paramKeyMapping:{orderId:"data-orderid"},ajaxOptions:{async:!1,type:"GET"},triggerSelector:".action-refund-check"}),t},executeAction:function(t,e){var i=this.getParams(t),n=this.getUrl(t);this.ajax(n,i,t,e)},onError:function(t,i,n,o,s,r){r&&r.preventDefault(),e.prototype.onError.apply(this,arguments)},onSuccess:function(t,e,i,n,s,r){var a=this,l=this.getMsgDlgTitle(n,s),c=this.bundle,u=t;if(!t||t.success+""!="true"){r&&r.preventDefault();var d="ERROR_SYSTEM_ERROR",h=c.ERROR_SYSTEM_ERROR,f="error";t&&(t.errorCode&&(d=t.errorCode,t.errorMessage&&(h=o.escapeHtml(t.errorMessage))),f="warn");var p=a.getBundleMsg(d,h);this.showMsgDlg({type:"alert",title:l,msgType:f,message:p,onOkClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)}},s)}}}),s}),define("flow/trade/module/actions/action-cancel-order",["jquery","doit/mod/base-action","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl","doit/mod/splash-dialog-helper","doit/widget/util/web-util"],function(t,e,i,n,o,s){var r=function(t){this.init(t)};return t.extend(r.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_DLG_TITLE:"\u7ec8\u6b62\u4ea4\u6613",MSG_CANCEL_CONFIRM:"\u7ec8\u6b62\u4ea4\u6613\u540e\uff0c\u5356\u5bb6\u5c06\u7acb\u5373\u6536\u5230\u5f85\u7ed3\u7b97\u6b3e\u9879\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u7ec8\u6b62\u4ea4\u6613\uff1f",MSG_SUCCESS:"\u7ec8\u6b62\u4ea4\u6613\u6210\u529f\uff01"},dataKeyMapping:{confirmMsg:"data-confirm"},paramKeyMapping:{orderId:"data-orderid"},triggerSelector:".action-cancel-order"}),t},showConfirmDlg:function(e,o){this.confirmDlg||(this.confirmDlg=new i({tpl:n,_isDisable:!1,disableDialog:function(e){this._isDisable=!!e;var i=t(this.okBtnSelector,this.ct),n=t(this.cancelBtnSelector,this.ct);this._isDisable?(i.addClass("button-disabled"),n.addClass("button-disabled")):(i.removeClass("button-disabled"),n.removeClass("button-disabled"))}})),this.confirmDlg.disableDialog(!1),this.confirmDlg.show(e,o)},executeAction:function(t,e){e&&e.preventDefault();var i=this,n=this.bundle,o=this.getData(t);this.showConfirmDlg({type:"confirm",title:n.MSG_DLG_TITLE,msgType:"info",message:o.confirmMsg||n.MSG_CANCEL_CONFIRM,onOkClick:function(){if(!this._isDisable){i.confirmDlg.disableDialog(!0);var e=i.getParams(t),n=i.getUrl(t);i.ajax(n,e,t)}},onCancelClick:function(){this._isDisable||this.hide()},onCloseClick:function(){this._isDisable||this.hide()}},t)},reloadPage:function(){this._isReload||(this._isReload=!0,window.location.reload(!0))},onSuccess:function(t,e,i,n,r,a){var l=this,c=this.bundle;this.confirmDlg&&this.confirmDlg.hide();var u=t;if(t&&t.success+""=="true"){var d=r?r.offset():null;d&&(d.top=d.top-20,delete d.left),r&&r.hide(),o.show({msgType:"success",message:c.MSG_SUCCESS,offset:d,onHide:l.reloadPage()})}else{var h="ERROR_SYSTEM_ERROR",f=c.ERROR_SYSTEM_ERROR,p="error";t&&(t.errorCode&&(h=t.errorCode,t.errorMessage&&(f=s.escapeHtml(t.errorMessage))),p="warn");var g=l.getBundleMsg(h,f);l.showMsgDlg({type:"alert",title:c.MSG_DLG_TITLE,msgType:p,message:g,onOkClick:function(){this.hide(),l.onActionError(r,u),l.onActionComplete(r,u)},onCloseClick:function(){this.hide(),l.onActionError(r,u),l.onActionComplete(r,u)}},r)}},onError:function(t,i,n,o,s,r){this.confirmDlg&&this.confirmDlg.hide(),e.prototype.onError.apply(this,arguments)},getMsgDlgTitle:function(t,e){return this.bundle.MSG_DLG_TITLE}}),r}),define("flow/trade/module/actions/action-accept-order",["jquery","doit/mod/base-action","doit/widget/util/web-util"],function(t,e,i){var n=function(t){this.init(t)};return t.extend(n.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_ACTION_ORDER_SUCCESS:"\u60a8\u5df2\u6210\u529f\u786e\u8ba4\u8be5\u7b14\u8ba2\u5355",MSG_DLG_TITLE:"\u786e\u8ba4\u8ba2\u5355"},paramKeyMapping:{orderId:"data-order-id",operateRole:"data-role",operateUserId:"data-user-id"},triggerSelector:".action-accept-order"}),t},executeAction:function(t,e){e&&e.preventDefault();var i=this.getUrl(t),n=this.getParams(t),o=this,s="manufact"===t.data("type")?'<span class="icon-warning-large" style="line-height: 24px; display: block;">\u662f\u5426\u786e\u8ba4\u6b64\u8ba2\u5355\u7684\u5b9a\u5236\u5185\u5bb9?</span>':'<span class="icon-warning-large" style="line-height: 24px; display: block;">\u786e\u8ba4\u8ba2\u5355\u540e\u65e0\u6cd5\u4fee\u6539\u4ef7\u683c\u3001\u65e0\u6cd5\u5173\u95ed\u4ea4\u6613\u3002\u60a8\u662f\u5426\u9700\u8981\u786e\u8ba4\u8ba2\u5355\u3002</span>';this.showMsgDlg({message:s,onOkClick:function(){this.hide(),o.ajax(i,n,t)},onCloseClick:function(){this.hide()}})},onSuccess:function(t,e,n,o,s,r){var a=this,l=this.bundle;if(t&&t.success+""=="true")this.showMsgDlg({type:"alert",title:this.getMsgDlgTitle(o,s),msgType:"success",message:l.MSG_ACTION_ORDER_SUCCESS,onOkClick:function(){this.hide(),window.location.reload(!0)},onCloseClick:function(){this.hide(),window.location.reload(!0)}},s);else{var c="ERROR_SYSTEM_ERROR",u=l.ERROR_SYSTEM_ERROR,d="warn";t&&t.errorCode&&(c=t.errorCode,t.errorMessage&&(u=i.escapeHtml(t.errorMessage)));var h=a.getBundleMsg(c,u);this.showMsgDlg({type:"alert",title:this.getMsgDlgTitle(o,s),msgType:d,message:h,onOkClick:function(){this.hide()},onCloseClick:function(){this.hide()}},s)}},onError:function(t,i,n,o,s,r){e.prototype.onError.apply(this,arguments)},getMsgDlgTitle:function(t,e){return this.bundle.MSG_DLG_TITLE}}),n}),define("flow/trade/module/actions/action-add-electronic-ticket",["jquery","doit/mod/base-action","flow/trade/module/electronicticket/add-electronic-ticket-dialog","flow/trade/module/electronicticket/add-electronic-ticket-tpl","doit/widget/util/web-util"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{ERROR_SYSTEM_ERROR:"\u7cfb\u7edf\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01",MSG_DLG_TITLE:"\u8f93\u5165\u7535\u5b50\u94f6\u884c\u627f\u5151\u6c47\u7968\u7968\u53f7",MSG_CANCEL_CONFIRM:"\u7ec8\u6b62\u4ea4\u6613\u540e\uff0c\u5356\u5bb6\u5c06\u7acb\u5373\u6536\u5230\u5f85\u7ed3\u7b97\u6b3e\u9879\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u7ec8\u6b62\u4ea4\u6613\uff1f",MSG_SUCCESS:"{0}\u7968\u53f7\u6210\u529f\uff01"},paramKeyMapping:{orderId:"data-order-id",billNo:"data-bill-no"},dataKeyMapping:{orderId:"data-order-id",billNo:"data-bill-no",optName:"data-optname"},triggerSelector:".action-add-electronic-ticket"}),t},executeAction:function(e,o){o&&o.preventDefault();var s=this,r=this.getData(e);this.actionTrigger=e,this.addElectronicTicketDlg=new i({tpl:n,orderId:r.orderId,billNo:r.billNo});var a=this.getParams(e);this.addElectronicTicketDlg.onSubmit=function(i){s.submitData=this.getParams(),s.ajax(this.getUrl(e),t.extend(a,{billNo:s.submitData.ticketNumber}),e)},this.addElectronicTicketDlg.show()},reloadPage:function(){this._isReload||(this._isReload=!0,window.location.reload(!0))},onSuccess:function(t,e,i,n,s,r){var a=this,l=this.getMsgDlgTitle(n,s),c=this.bundle;this.addElectronicTicketDlg&&this.addElectronicTicketDlg.hide();var u=t;if(t&&t.success+""=="true")this.showMsgDlg({type:"alert",title:l,msgType:"success",message:o.getBundleMsg(c.MSG_SUCCESS,a.getData(s).optName),onOkClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u),window.location.reload()},onCloseClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u)}},s);else{var d="MSG_FAILURE",h=c.ERROR_SYSTEM_ERROR,f="error";t&&(t.errorCode&&(d=t.errorCode,t.errorMessage&&(h=o.escapeHtml(t.errorMessage))),f="warn");var p=a.getBundleMsg(d,h);this.showMsgDlg({type:"alert",title:l,msgType:f,message:p,onOkClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)}},s)}},onError:function(t,i,n,o,s,r){this.addElectronicTicketDlg&&this.addElectronicTicketDlg.hide(),e.prototype.onError.apply(this,arguments)},getMsgDlgTitle:function(t,e){return this.bundle.MSG_DLG_TITLE}}),s}),define("flow/trade/module/actions/action-select-electronic-ticket",["jquery","doit/mod/base-action","flow/doit/mod/electronicticket/select-electronic-tickets-dialog","flow/doit/mod/electronicticket/select-electronic-tickets-dialog-tpl","doit/widget/util/web-util"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{ERROR_SYSTEM_ERROR:"\u7cfb\u7edf\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01",MSG_CANCEL_CONFIRM:"\u7ec8\u6b62\u4ea4\u6613\u540e\uff0c\u5356\u5bb6\u5c06\u7acb\u5373\u6536\u5230\u5f85\u7ed3\u7b97\u6b3e\u9879\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u7ec8\u6b62\u4ea4\u6613\uff1f",MSG_SUCCESS:"{0}\u7968\u53f7\u6210\u529f\uff01"},paramKeyMapping:{orderId:"data-order-id"},dataKeyMapping:{orderId:"data-order-id",waitPayAmount:"data-wait-pay-amount",optName:"data-optname"},triggerSelector:".action-select-electronic-ticket"}),t},executeAction:function(t,e){e&&e.preventDefault();var i=this.getParams(t);this.ajax(this.fetchUrl,i,t,"fetch")},reloadPage:function(){this._isReload||(this._isReload=!0,window.location.reload(!0))},onSuccess:function(e,i,n,s,r,a){var l=this,c=this.bundle,u=e;if(e&&e.success+""=="true")"fetch"===a?this.getSelectTicketsDialog().show({selectTicketType:"single",ticketItemsData:e.data,waitPayAmount:this.getData(r).waitPayAmount,onSubmit:function(e){e&&l.ajax(l.getUrl(r),t.extend(l.getParams(r),{billNo:e.billNo}),r,"submit")}}):this.showMsgDlg({type:"alert",title:"\u63d0\u793a",msgType:"success",message:o.getBundleMsg(c.MSG_SUCCESS,l.getData(r).optName),onOkClick:function(){this.hide(),l.onActionSuccess(r,u),l.onActionComplete(r,u),window.location.reload(!0)},onCloseClick:function(){this.hide(),l.onActionSuccess(r,u),l.onActionComplete(r,u)}},r);else{var d=e&&e.errorCode?e.errorCode:"MSG_FAILURE",h=e&&e.errorMessage?e.errorMessage:c.ERROR_SYSTEM_ERROR,f=l.getBundleMsg(d,h);this.showMsgDlg({type:"alert",title:"\u63d0\u793a",msgType:"error",message:f,onOkClick:function(){this.hide(),l.onActionError(r,u),l.onActionComplete(r,u)},onCloseClick:function(){this.hide(),l.onActionError(r,u),l.onActionComplete(r,u)}},r)}},onError:function(t,i,n,o,s,r){this.addElectronicTicketDlg&&this.addElectronicTicketDlg.hide(),e.prototype.onError.apply(this,arguments)},getSelectTicketsDialog:function(){return this.selectTicketsDialog||(this.selectTicketsDialog=new i({tpl:n({selectTicketType:"single"})})),this.selectTicketsDialog}}),s}),define("flow/trade/module/actions/action-check-electronic-ticket",["jquery","doit/mod/base-action","doit/widget/ui/bubbletip","doit/widget/ui/bubbletip-dpl-tpl","flow/trade/module/electronicticket/check-electronic-ticket-tpl"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_DLG_TITLE:"\u7ec8\u6b62\u4ea4\u6613",MSG_CANCEL_CONFIRM:"\u7ec8\u6b62\u4ea4\u6613\u540e\uff0c\u5356\u5bb6\u5c06\u7acb\u5373\u6536\u5230\u5f85\u7ed3\u7b97\u6b3e\u9879\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u7ec8\u6b62\u4ea4\u6613\uff1f",MSG_SUCCESS:"\u7ec8\u6b62\u4ea4\u6613\u6210\u529f\uff01"},dataKeyMapping:{confirmMsg:"data-confirm"},paramKeyMapping:{orderId:"data-orderid"},triggerSelector:""}),t},executeAction:function(t,e){e&&e.preventDefault();var i=this,n=i.getParams(t),o=i.getUrl(t);i.ajax(o,n,t)},reloadPage:function(){this._isReload||(this._isReload=!0,window.location.reload(!0))},onSuccess:function(e,s,r,a,l,c){var u=t('<div style="position:relative;width:200px;"></div>').prependTo(this.ct);if(!l[0].tip){var d=new i({zIndex:11,tipGroup:null,isAutoPos:!0,isReversePos:!0,isHoldOnTip:!0,isAutoFitWidth:!0,isAutoFitInnerWidth:!1,width:380,arrowMargin:40,enableClose:!0,applyTo:l,alignType:"tr",container:u,contentHtml:e&&e.success+""=="true"?o.render(e.data):e.errorMessage,tpl:n});l[0].tip=d}l[0].tip.show()},onError:function(t,e,i,n,o,s){},getMsgDlgTitle:function(t,e){}}),s}),define("flow/trade/module/actions/action-agree-electronic-ticket",["jquery","doit/mod/base-action","flow/trade/module/electronicticket/agree-electronic-ticket-dialog","flow/trade/module/electronicticket/agree-electronic-ticket-tpl","doit/widget/util/web-util"],function(t,e,i,n,o){var s=function(t){this.init(t)};return t.extend(s.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{ERROR_SYSTEM_ERROR:"\u7cfb\u7edf\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01",MSG_DLG_TITLE:"{0}\u7535\u5b50\u94f6\u884c\u627f\u5151\u6c47\u7968\u7968\u53f7",MSG_OPT_SUCCESS:"{0}\u64cd\u4f5c\u6210\u529f\uff01"},paramKeyMapping:{orderId:"data-order-id",opt:"data-opt",optName:"data-optname"},dataKeyMapping:{orderId:"data-order-id",opt:"data-opt",optName:"data-optname"},triggerSelector:".action-agree-electronic-ticket"}),t},executeAction:function(e,i){i&&i.preventDefault();var n=this.getData(e);this.actionTrigger=e,this.actionType="query",this.ajax(t("#checkElectronicTicketUrl").val(),n)},show:function(t){var e=this,o=this.actionTrigger,s=this.getData(o);this.agreeElectronicTicketDlg=new i({tpl:n.render(t,s.opt),orderId:s.orderId}),this.agreeElectronicTicketDlg.onSubmit=function(t){var i=e.getParams(o);e.actionType="sign",e.ajax(e.getUrl(o),i,o)},this.agreeElectronicTicketDlg.show()},reloadPage:function(){this._isReload||(this._isReload=!0,window.location.reload(!0))},onSuccess:function(t,e,i,n,o,s){var r=(this.getMsgDlgTitle(n,this.actionTrigger),this.bundle,t);"query"==this.actionType?this.showQueryRes(t,r,n):(this.agreeElectronicTicketDlg.hide(),this.showSignRes(t,r,n))},showSignRes:function(t,e,i){var n=this,s=this.actionTrigger,r=this.getMsgDlgTitle(i,s),a=this.bundle;if(t&&t.success+""=="true")this.showMsgDlg({type:"alert",title:r,msgType:"success",message:o.getBundleMsg(a.MSG_OPT_SUCCESS,n.getData(s).optName),onOkClick:function(){this.hide(),window.location.href=window.location.href},onCloseClick:function(){this.hide()}},s);else{var l="ERROR_EXTENDED_TIME_FAILED",c=a.ERROR_SYSTEM_ERROR,u="error";t&&(t.errorCode&&(l=t.errorCode,t.errorMessage&&(c=o.escapeHtml(t.errorMessage))),u="warn");var d=n.getBundleMsg(l,c);this.showMsgDlg({type:"alert",title:"\u63d0\u793a",msgType:u,message:d,onOkClick:function(){this.hide()},onCloseClick:function(){this.hide()}},s)}},showQueryRes:function(t,e,i){var n=this,s=this.actionTrigger,r=this.bundle,a=this.getMsgDlgTitle(i,s);if(t&&t.success+""=="true")this.show(t.data);else{var l="MSG_FAILURE",c=r.ERROR_SYSTEM_ERROR,u="error";t&&(t.errorCode&&(l=t.errorCode,t.errorMessage&&(c=o.escapeHtml(t.errorMessage))),u="warn");var d=n.getBundleMsg(l,c);this.showMsgDlg({type:"alert",title:a,msgType:u,message:d,onOkClick:function(){this.hide(),n.onActionError(s,e),n.onActionComplete(s,e)},onCloseClick:function(){this.hide(),n.onActionError(s,e),n.onActionComplete(s,e)}},s)}},onError:function(t,i,n,o,s,r){this.confirmDlg&&this.confirmDlg.hide(),e.prototype.onError.apply(this,arguments)},getMsgDlgTitle:function(t,e){return o.getBundleMsg(this.bundle.MSG_DLG_TITLE,this.getData(e).optName)}}),s}),define("flow/trade/module/actions/action-extend-account-period-date",["jquery","doit/mod/base-action","flow/trade/module/extendaccountperiod/extend-repayment-date-dialog","flow/trade/module/extendaccountperiod/extend-repayment-date-tpl","doit/widget/util/web-util","doit/widget/util/date-util"],function(t,e,i,n,o,s){var r=function(t){this.init(t)};return t.extend(r.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{fetchUrl:null,bundle:{MSG_EXTEND_DLG_TITLE:"\u5ef6\u957f{0}\u65f6\u95f4",MSG_EXTENDED_SUCCESS:"{0}\u65f6\u95f4\u5ef6\u957f\u6210\u529f\uff01",ERROR_EXTENDED_TIME_FAILED:"\u5ef6\u957f\u65f6\u95f4\u5931\u8d25\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5"},keyDelayedDays:"date",paramKeyMapping:{orderId:"data-order-id",extendDays:"date-extend-days",repaymentDate:"data-repayment-date",optName:"data-optname"},dataKeyMapping:{orderId:"data-order-id",extendDays:"date-extend-days",repaymentDate:"data-repayment-date",optName:"data-optname"},triggerSelector:".action-extend-account-period-repayement"}),t},executeAction:function(t,e){e&&e.preventDefault();var o=this,s=this.getData(t);this.actionTrigger=t,this.extendDateDlg=new i({tpl:n,orderId:s.orderId,repaymentDate:s.repaymentDate}),this.extendDateDlg.onSubmit=function(e){o.submitData=this.getParams(),o.ajax(this.getUrl(t),{days:o.submitData.days,orderId:o.submitData.orderId},t)},this.extendDateDlg.show()},onSuccess:function(t,e,i,n,s,r){var a=this,l=this.getMsgDlgTitle(n,s),c=this.bundle;this.extendDateDlg&&this.extendDateDlg.hide();var u=t;if(t&&t.success+""=="true")this.showMsgDlg({type:"alert",title:l,msgType:"success",message:o.getBundleMsg(c.MSG_EXTENDED_SUCCESS,a.getData(s).optName),onOkClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u),a.updateTip(s)},onCloseClick:function(){this.hide(),a.onActionSuccess(s,u),a.onActionComplete(s,u)}},s);else{var d="ERROR_EXTENDED_TIME_FAILED",h=c.ERROR_SYSTEM_ERROR,f="error";t&&(t.errorCode&&(d=t.errorCode,t.errorMessage&&(h=o.escapeHtml(t.errorMessage))),f="warn");var p=a.getBundleMsg(d,h);this.showMsgDlg({type:"alert",title:l,msgType:f,message:p,onOkClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)},onCloseClick:function(){this.hide(),a.onActionError(s,u),a.onActionComplete(s,u)}},s)}},onError:function(t,i,n,o,s,r){this.extendDateDlg&&this.extendDateDlg.hide(),e.prototype.onError.apply(this,arguments)},getMsgDlgTitle:function(t,e){var i=this.getData(e);return o.getBundleMsg(this.bundle.MSG_EXTEND_DLG_TITLE,i.optName)},updateTip:function(t,e){var i=t.closest("table.orderInfo").find(".accountperiod-repayment-date-tip");this.submitData&&(i[0]&&i[0].tip&&i[0].tip.ct&&i[0].tip.ct.find(".main").html("\u7ed3\u7b97\u65e5\u671f\uff1a"+s(this.submitData.date).format("YYYY\u5e74MM\u6708DD\u65e5")),t.attr("data-repayment-date",s(this.submitData.date).format("YYYY-MM-DD")),this.parseTriggerBindData(this.actionTrigger,this.dataKeyMapping))}}),r}),define("flow/trade/module/actions/action-check-order-agreement",["jquery","doit/mod/base-action","flow/trade/module/checkorderagreement/dlg","flow/trade/module/checkorderagreement/tpl"],function(t,e,i,n){var o=function(t){this.init(t)};return t.extend(o.prototype,e.prototype,{dlg:null,initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_DLG_TITLE:"\u8865\u5145\u534f\u8bae"},keyDelayedDays:"date",paramKeyMapping:{},dataKeyMapping:{},triggerSelector:".action-check-order-agreement-link"}),t},executeAction:function(t,e){e&&e.preventDefault();var o=t.closest(".agreement-detail-item").find(".check-agreement-content-dlg").html();this.dlg=new i({tpl:n}),this.dlg.ct.find(".etd-container").html(o),this.dlg.show(t)}}),o}),define("flow/trade/module/actions/action-stop-receive-goods",["jquery","doit/mod/base-action"],function(t,e){var i=function(t){this.init(t)};return t.extend(i.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_DLG_TITLE:"\u7ec8\u6b62\u6536\u8d27",MSG_CONFIRM_MESSGAGE:"\u7ec8\u6b62\u6536\u8d27\u540e\uff0c\u5c06\u4e0d\u80fd\u518d\u786e\u8ba4\u6536\u8d27\uff0c\u662f\u5426\u786e\u5b9a\u7ec8\u6b62\u6536\u8d27\uff1f"}}),t},executeAction:function(t,i){var n=this,o=arguments;i&&i.preventDefault(),this.showMsgDlg({title:this.bundle.MSG_DLG_TITLE,message:this.bundle.MSG_CONFIRM_MESSGAGE,onOkClick:function(){e.prototype.executeAction.apply(n,o)}})},getUrl:function(t){return t.data("actionUrl")},onSuccess:function(t,e,i,n,o,s){this.showMsgDlg(t.success+""=="true"?{type:"alert",message:"\u7ec8\u6b62\u6536\u8d27\u6210\u529f"+(t.needSellerAccept?"\uff0c\u7b49\u5f85\u5356\u5bb6\u786e\u8ba4":""),onOkClick:function(){location.reload()}}:t.waitAcceptReceiveNote?{type:"alert",message:"\u6b64\u8ba2\u5355\u6709"+t.waitAcceptReceiveNote+"\u7b14\u5f85\u5356\u5bb6\u786e\u8ba4\u7684\u6536\u8d27\u5355\uff0c\u8bf7\u901a\u77e5\u5356\u5bb6\u786e\u8ba4\u6536\u8d27\u5355\u540e\uff0c\u518d\u8fdb\u884c\u7ec8\u6b62\u6536\u8d27\u64cd\u4f5c\u3002"}:{type:"alert",message:t.errorMessage||"\u672a\u77e5\u9519\u8bef"})}}),i}),define("flow/trade/module/actions/action-accept-stop-receive-goods",["jquery","doit/mod/base-action"],function(t,e){var i=function(t){this.init(t)};return t.extend(i.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_DLG_TITLE:"\u540c\u610f\u7ec8\u6b62\u6536\u8d27",MSG_CONFIRM_MESSGAGE:"\u60a8\u662f\u5426\u540c\u610f\u4e70\u5bb6\u7ec8\u6b62\u6536\u8d27\u7533\u8bf7\uff1f"}}),t},executeAction:function(t,i){var n=this,o=arguments;i&&i.preventDefault(),this.showMsgDlg({title:this.bundle.MSG_DLG_TITLE,message:this.bundle.MSG_CONFIRM_MESSGAGE,onOkClick:function(){e.prototype.executeAction.apply(n,o)}})},getUrl:function(t){return t.data("actionUrl")},onSuccess:function(t){this.showMsgDlg(t.success+""=="true"?{type:"alert",message:"\u540c\u610f\u7ec8\u6b62\u6536\u8d27\u6210\u529f",onOkClick:function(){location.reload()}}:{type:"alert",message:t.errorMessage||"\u672a\u77e5\u5f02\u5e38"})}}),i}),define("flow/trade/module/actions/action-reject-stop-receive-goods",["jquery","doit/mod/base-action"],function(t,e){var i=function(t){this.init(t)};return t.extend(i.prototype,e.prototype,{initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{bundle:{MSG_DLG_TITLE:"\u62d2\u7edd\u7ec8\u6b62\u6536\u8d27",MSG_CONFIRM_MESSGAGE:"\u60a8\u662f\u5426\u62d2\u7edd\u4e70\u5bb6\u7ec8\u6b62\u6536\u8d27\u7533\u8bf7\uff1f"}}),t},executeAction:function(t,i){var n=this,o=arguments;i&&i.preventDefault(),this.showMsgDlg({title:this.bundle.MSG_DLG_TITLE,message:this.bundle.MSG_CONFIRM_MESSGAGE,onOkClick:function(){e.prototype.executeAction.apply(n,o)}})},getUrl:function(t){return t.data("actionUrl")},onSuccess:function(t){this.showMsgDlg(t.success+""=="true"?{type:"alert",message:"\u62d2\u7edd\u7ec8\u6b62\u6536\u8d27\u6210\u529f",onOkClick:function(){location.reload()}}:{type:"alert",message:t.errorMessage||"\u672a\u77e5\u5f02\u5e38"})}}),i}),define("flow/trade/module/actions/all-action-support",["jquery","doit/widget/ui/component","doit/widget/ui/mask","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl","doit/widget/ui/dialog/splash-dialog","flow/trade/module/actions/action-extended-time","flow/trade/module/actions/action-extend-account-period","flow/trade/module/actions/action-extend-account-period-date","flow/trade/module/actions/action-pay-extended-time","flow/trade/module/actions/action-push-step","flow/trade/module/actions/action-edit-memo","flow/trade/module/actions/action-remind-seller","flow/trade/module/actions/action-complaints","flow/trade/module/actions/action-accountperiod-remind","flow/trade/module/actions/action-batch-close-order","flow/trade/module/actions/action-refund-check","flow/trade/module/actions/action-cancel-order","flow/trade/module/actions/action-accept-order","flow/trade/module/actions/action-add-electronic-ticket","flow/trade/module/actions/action-select-electronic-ticket","flow/trade/module/actions/action-check-electronic-ticket","flow/trade/module/actions/action-agree-electronic-ticket","flow/trade/module/actions/action-check-order-agreement","flow/trade/module/actions/action-stop-receive-goods","flow/trade/module/actions/action-accept-stop-receive-goods","flow/trade/module/actions/action-reject-stop-receive-goods","flow/trade/module/actions/observer"],function(t,e,i,n,o,s,r,a,l,c,u,d,h,f,p,g,m,v,y,b,w,_,C,k,S,x,D,T){var O=function(t){this.init(t)};return t.extend(O.prototype,e.prototype,{initAcceptOrder:function(e,i){if(null==this.acceptOrder){var n="actionAcceptOrder",o={triggerSelector:".action-accept-order",url:t("#acceptOrderUrl").val(),container:e,msgDlg:i};this._extendBaseOpt(n,o),this.acceptOrder=new y(o)}},initProlongTake:function(e,i){if(null==this.actProlongTake){var n="actionExtendedTime",o={triggerSelector:".act-prolong-take",url:t("#prolongTakeUrl").val(),fetchUrl:t("#prolongTakeInfoUrl").val(),keyDelayedDays:"date",container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actProlongTake=new r(o)}},initActionExtendedTime:function(e,i){if(null==this.actionExtendedTime){var n="actionExtendedTime",o={triggerSelector:".action-extended-time",url:t("#extendedTimeUrl").val(),fetchUrl:t("#extendedTimeInfoUrl").val(),container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionExtendedTime=new r(o)}},initActionPayExtendedTime:function(e,i){if(null==this.actionPayExtendedTime){var n="actionPayExtendedTime",o={triggerSelector:".action-pay-extended-time",url:t("#payExtendedTimeUrl").val(),container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionPayExtendedTime=new c(o)}},initActionPushStep:function(e,i){if(null==this.actionPushStep){var n="actionPushStep",o={triggerSelector:".action-push-next-step",url:t("#pushNextStepUrl").val(),container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionPushStep=new u(o)}},initActionEditMemo:function(e,i){if(null==this.actionEditMemo){var n="actionEditMemo",o={triggerSelector:".action-edit-memo",url:t("#editMemoUrl").val(),container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionEditMemo=new d(o)}},initActionRemindSeller:function(e,i){if(null==this.actionRemindSeller){var n="actionRemindSeller",o={triggerSelector:".action-remind-seller",url:t("#remindSellerUrl").val(),container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionRemindSeller=new h(o)}},initActionComplaints:function(e,i){if(null==this.actionComplaints){var n="actionComplaints",o={triggerSelector:".action-complaints",url:t("#complaintsUrl").val(),container:e,msgDlg:i};this._extendBaseOpt(n,o),
this.actionComplaints=new f(o)}},initActionAccountperiodRemind:function(e,i){var n=this.winMask,o=this.splashDlg;if(null==this.actionAccountperiodRemind){var s="actionAccountperiodRemind",r={triggerSelector:".action-accountperiod-remind",url:t("#accountperiodRemindUrl").val(),container:e,winMask:n,splashDlg:o,msgDlg:i};this._extendBaseOpt(s,r),this.actionAccountperiodRemind=new p(r)}},initActionExtendAccountPeriod:function(e,i){var n=t("#orderList").data("urlExtendAccountPeriod");if(n&&null==this.actExtendAccountPeriod){var o={url:n,triggerSelector:".act-extend-account-period",paramKeyMapping:{orderId:"data-order-id"},container:e,msgDlg:i};this.actExtendAccountPeriod=new a(o)}},initActionExtendAcountPeriodRepaymentDate:function(e,i){if(!this.actionExtendAccountRepayment&&l){var n="actionExtendAccountRepayment",o={triggerSelector:".action-extend-account-period-repayement",url:t("#extendedTimeUrl").val(),paramKeyMapping:{orderId:"data-order-id",extendDays:"date-extend-days",repaymentDate:"data-repayment-date"},container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionExtendAccountRepayment=new l(o)}},initActionAddElectronicTicket:function(e,i){if(!this.actionAddElectronicTicket&&b){var n="actionAddElectronicTicket",o={triggerSelector:".action-add-electronic-ticket",url:t("#addElectronicTicketUrl").val(),paramKeyMapping:{orderId:"data-order-id"},container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionAddElectronicTicket=new b(o)}},initActionSelectElectronicTicket:function(e,i){if(!this.actionSelectElectronicTicket&&w){var n="actionSelectElectronicTicket",o={triggerSelector:".action-select-electronic-ticket",url:t("#addElectronicTicketUrl").val(),fetchUrl:t("#getAvailableTicketsUrl").val(),paramKeyMapping:{orderId:"data-order-id"},container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionSelectElectronicTicket=new w(o)}},initActionCheckElectronicTicket:function(e,i){if(!this.actionCheckElectronicTicket&&_){var n="actionCheckElectronicTicket",o={triggerSelector:".action-check-electronic-ticket",url:t("#checkElectronicTicketUrl").val(),paramKeyMapping:{orderId:"data-order-id"},container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionCheckElectronicTicket=new _(o)}},initActionAgreeElectronicTicket:function(e,i){if(!this.actionAgreeElectronicTicket&&C){var n="actionCheckElectronicTicket",o={triggerSelector:".action-agree-electronic-ticket",url:t("#agreeElectronicTicketUrl").val(),paramKeyMapping:{orderId:"data-order-id",opt:"data-opt"},container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionAgreeElectronicTicket=new C(o)}},initActionBatchCloseTrade:function(t,e,i){g&&g.init(t,e,i)},initActionRefundCheck:function(e,i){if(null==this.actionRefundCheck){var n="actionRefundCheck",o={triggerSelector:".action-refund-check",url:t("#refundCheckUrl").val(),container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionRefundCheck=new m(o)}},initActionCancelOrder:function(e,i){if(null==this.actionCancelOrder){var n="actionCancelOrder",o={triggerSelector:".action-cancel-order",url:t("#cancelOrderUrl").val(),container:e,msgDlg:i};this._extendBaseOpt(n,o),this.actionCancelOrder=new v(o)}},initActionCheckOrderAgreement:function(t,e){if(k&&!this.actionCheckOrderAgreement){var i="actionCheckOrderAgreement",n={triggerSelector:".action-check-order-agreement-link",container:t,msgDlg:e};this._extendBaseOpt(i,n),this.actionCheckOrderAgreement=new k(n)}},initActionStopReceiveGoods:function(t,e){if(S&&!this.actionStopReceiveGoods){var i="actionStopReceiveGoods",n={triggerSelector:".action-stop-receive-goods",container:t,msgDlg:e};this._extendBaseOpt(i,n),this.actionStopReceiveGoods=new S(n)}},initActionAcceptStopReceiveGoods:function(t,e){if(x&&!this.actionAcceptCheckOrderAgreement){var i="actionAcceptCheckOrderAgreement",n={triggerSelector:".action-accept-stop-receive-goods",container:t,msgDlg:e};this._extendBaseOpt(i,n),this.actionAcceptCheckOrderAgreement=new x(n)}},initActionRejectStopReceiveGoods:function(t,e){if(D&&!this.actionRejectStopReceiveGoods){var i="actionRejectStopReceiveGoods",n={triggerSelector:".action-reject-stop-receive-goods",container:t,msgDlg:e};this._extendBaseOpt(i,n),this.actionRejectStopReceiveGoods=new D(n)}},_extendBaseOpt:function(e,i){var n=this;t.extend(i,{onActionError:function(t,i){n.onActionError(e,t,i)},onActionSuccess:function(t,i){n.onActionSuccess(e,t,i)},onActionComplete:function(t,i){n.onActionComplete(e,t,i)}})},onActionError:function(t,e,i){T.notify("flowAction","error",t,e,i)},onActionSuccess:function(t,e,i){T.notify("flowAction","success",t,e,i)},onActionComplete:function(t,e,i){T.notify("flowAction","complete",t,e,i)},initActions:function(){var t=new n({tpl:o,warnCss:"icon-warning-small",errorCss:"icon-error-small",successCss:"icon-success-small",msgTypeSelector:".content .container"});this.msgDlg=t;var e=new s({message:""});this.splashDlg=e;var r=new i({layoutOnWinResize:!0,isShim:!1,container:"body",applyTo:"body"});this.winMask=r;var a=this.ct;this.initAcceptOrder(a,t),this.initProlongTake(a,t),this.initActionExtendedTime(a,t),this.initActionPayExtendedTime(a,t),this.initActionPushStep(a,t),this.initActionEditMemo(a,t),this.initActionRemindSeller(a,t),this.initActionComplaints(a,t),this.initActionAccountperiodRemind(a,t),this.initActionExtendAccountPeriod(a,t),this.initActionBatchCloseTrade(a,t,e),this.initActionRefundCheck(a,t),this.initActionCancelOrder(a,t),this.initActionExtendAcountPeriodRepaymentDate(a,t),this.initActionAddElectronicTicket(a,t),this.initActionSelectElectronicTicket(a,t),this.initActionCheckElectronicTicket(a,t),this.initActionAgreeElectronicTicket(a,t),this.initActionCheckOrderAgreement(a,t),this.initActionRejectStopReceiveGoods(a,t),this.initActionAcceptStopReceiveGoods(a,t),this.initActionStopReceiveGoods(a,t)},createComponent:function(){this.initActions()}}),O}),define("doit/lab/tracker",["justTracker","jquery","just/lang/class"],function(t,e,i){"use strict";var n=i({init:function(t,i,n){this._$scope=e(t?t:"body"),this._eventType=i||"mousedown",this.logMethod=n||"trace"},register:function(t){var i=this;e.each(t,function(t,e){i._register(t,e)})},_register:function(i,n){var o=this;o._$scope.on(o._eventType+".tracker",i,function(){n?"goldlog"===o.logMethod?t[o.logMethod](n.logkey,n.gmkey||"",n.gokey||{},n.chksum):t[o.logMethod](n):(n=e(this).data("tracelog"),n&&t.trace(n))})}});return n}),define("doit/mod/notice-support",["jquery"],function(t){return function(e,i){var n=t(e);if(!(n.length<=0)){var o=t.extend({noticeSelector:"div.mod-admin-notice",closeSelector:"div.mod-admin-notice .close"},i||{});n.delegate(o.closeSelector,"click",function(e){e.preventDefault(),t(this).closest(o.noticeSelector).slideUp(200,function(){i.callback&&i.callback()})})}}}),define("doit/mod/iframe-dialog",["jquery","doit/widget/ui/dialog/page-iframe-dialog"],function(t,e){var i=function(t){this.init(t)};return t.extend(i.prototype,e.prototype,{_isReloadOnHide:!1,reloadPage:function(){window.location.reload(!0)},setReloadOnHide:function(t){this._isReloadOnHide=t!==!1},show:function(){this._isReloadOnHide=!1,e.prototype.show.apply(this,arguments)},hide:function(){this._isReloadOnHide?this.reloadPage():e.prototype.hide.apply(this,arguments)},initDefaultOptions:function(){var i=e.prototype.initDefaultOptions.apply(this,arguments);return t.extend(i,{isEnableGlobalEvent:!0,dlgOptions:{fixed:!1}}),i}}),i}),define("doit/widget/ui/dialog/base-iframe-dialog",["jquery"],function(t){var e=function(t){this.init(t)};return e.prototype={initDefaultOptions:function(){var t={closeBtnSelector:".close",isAlwaysReload:!1,titleCtSelector:".header:first .title",iframeSelector:"iframe:first",tpl:null,blankUrl:"about:blank",clearSrcOnHide:!0,cache:!1,isAutoFit:!0,url:null,appendWidth:0,margin:0,dlgOptions:{fixed:!0,center:!0},center:!0,eventNs:".baseIframedlg",fitProtocol:!0,container:null};return t},init:function(t){this.initOptions(t),this.createComponent()},convertUrl:function(e){return this.fitProtocol&&(e=t.util.fitProtocol(e)),e},initOptions:function(e){var i=this.initDefaultOptions(),n=i.dlgOptions;t.extend(this,i,e||{}),this.dlgOptions=t.extend({},n,this.dlgOptions)},toCenter:function(){if(this.ct&&this._isShow){var e=this.ct.parent(),i=t(window),n=i.scrollLeft(),o=i.scrollTop(),s=n+Math.floor((i.width()-e.outerWidth())/2),r=o+Math.floor((i.height()-e.outerHeight())/2);o>r&&(r=o),e.offset({left:s,top:r})}},_isShow:!1,show:function(){this.ct.css("visibility","hidden"),this.createDialog(),this.dlg.dialog("open"),this._isShow=!0,this.center&&this.toCenter(),this.ct.css("visibility","visible")},_onShow:function(){this.isAutoFit&&this.fitContent(),this.onShow()},_destroyIframe:function(e){var i=t(e);if("iframe"===i.prop("tagName").toLowerCase()&&i.length>0)try{i[0].src=this.convertUrl(this.blankUrl),i[0].contentWindow.document.write(""),i[0].contentWindow.close(),window.CollectGarbage&&"function"==typeof window.CollectGarbage&&window.CollectGarbage()}catch(n){}i.remove()},hide:function(){if(this.dlg){this._isShow=!1,this.clearSrcOnHide&&this.iframe.attr("src",this.convertUrl(this.blankUrl)),this.dlg.dialog("close");var t=this.ct,e=this.dlgOptions;e&&e.fadeOut?t.stop(!0,!0).fadeOut(e.fadeOut,function(){t.hide()}):t.hide(),this.onHide()}},onHide:function(){},_getNoCacheUrl:function(t){var e=t;e=e.substring(e.lastIndexOf("/")+1,e.length);var i="?";return e.indexOf("?")>-1&&(i="&"),t+i+"_="+(new Date).getTime()},load:function(t){var e=t;this.cache||(e=this._getNoCacheUrl(e)),this.iframe.attr("src",this.convertUrl(e))},onShow:function(){var t=this.iframe,e=t.attr("src");this.isAlwaysReload?this.load(this.url):""!==e&&e!==this.blankUrl||!this.url||this.load(this.url)},setIframeSize:function(t,e){return this.iframe.width(t).height(e),this.fitContent(),this},setIframeWidth:function(t){return this.iframe.width(t),this.fitContent(),this},setIframeHeight:function(t){return this.iframe.height(t),this.fitContent(),this},setWidth:function(t){return this.ct.width(t),this},setHeight:function(t){return this.ct.height(t),this},getTitleBarHeight:function(){return this.header.outerHeight()},getBtnBarHeight:function(){return this.btnBar.length?this.btnBar.outerHeight():0},fitContent:function(){if(this.iframe){this.iframeCt.width(this.iframe.outerWidth(!0)),this.iframeCt.height(this.iframe.outerHeight(!0));var t=this.iframeCt.outerWidth();this.setWidth(t+this.appendWidth+2*this.margin),this.margin>0&&this.iframe.css("marginLeft",this.margin).css("marginRight",this.margin)}},createDialog:function(){var t=this;t.dlg||this.ct.bind("dialogopen",function(e,i){t.dlg&&t._onShow(e,i)}),this.dlg=this.ct,this.dlg.dialog(this.dlgOptions)},initTitleBar:function(){var e=this;this.titleCt=t(this.titleCtSelector,this.ct),this.titleCloseBtn=this.getCloseBtn(),this.titleCloseBtn.bind("click"+this.eventNs,function(t){t.preventDefault(),e.hide()})},initButtonBar:function(t){},getCloseBtn:function(){return t(this.closeBtnSelector,this.ct)},destroy:function(t){this.dlg&&this.dlg.dialog("close").dialog("destroy"),this.titleCloseBtn&&this.titleCloseBtn.unbind(this.eventNs),t&&(this._destroyIframe(this.iframe),this.header.remove(),this.iframeCt.remove(),this.btnBar.remove(),this.ct.remove());var e=this;for(var i in e)e[i]=null},getTitle:function(t){return this.titleCt?t?this.titleCt.html():this.titleCt.text():void 0},setTitle:function(t,e){this.titleCt&&(e?this.titleCt.html(t):this.titleCt.text(t))},createDlgByTpl:function(e){return t(e).appendTo("body")},createComponent:function(){var e;if(e=!this.container&&this.tpl?this.createDlgByTpl(this.tpl):t(this.container).first(),!(e.length<=0)){this.ct=e.hide();var i=e.data("url"),n=t(this.iframeSelector,e);this.header=t(".header",e),this.iframeCt=n.parent(),this.btnBar=t(".btnbar",e),this.iframe=n,i&&(this.url=i),this.initTitleBar(),this.initButtonBar(this.btnBar)}}},e}),define("doit/widget/ui/dialog/page-iframe-dialog",["jquery","doit/widget/ui/dialog/base-iframe-dialog"],function(t,e){var i=function(t){this.init(t)};return t.extend(i.prototype,e.prototype,{parseTriggerBindData:function(e,i,n){var o=i||{},s={};if(!o)return s;for(var r in o){var a=e.attr(o[r]);n&&(a=t.trim(a)),s[r]=a}return s},getData:function(t,e){var i=null==e?this.dataKeyMapping:e;return this.parseTriggerBindData(t,i,!0)},_globalEventAdded:!1,addGlobalEvent:function(){var e=this;this._globalEventAdded||(t(document).bind(this.globalEvent,function(){e.handleGlobalEvent.apply(e,arguments)}),this._globalEventAdded=!0)},handleGlobalEvent:function(){var e=Array.prototype.slice.call(arguments,0);if(e.length>=2&&"string"==typeof e[1]&&t.isFunction(this[e[1]])){var i=null;i=e.length>2?e.slice(2):[],this[e[1]].apply(this,i)}},createComponent:function(){if(null!=this.applyTo){var i=this;this.applyEl=t(this.applyTo),e.prototype.createComponent.apply(this,arguments),this.ct&&(this.defaultTitle=this.getTitle(!0),this._bindHandler_=function(e){i.triggerEventHandler(e,t(this))},"bind"===this.bindType?this._bindElement_=t(this.triggerSelector,this.applyEl).bind(this.eventType,this._bindHandler_):this.applyEl.delegate(this.triggerSelector,this.eventType,this._bindHandler_),this.isEnableGlobalEvent&&this.addGlobalEvent())}},openDialog:function(e){var i=this.getData(e),n=t.trim(i.url);if(n){if(this.url=n,null!=i.title?this.setTitle(i.title):this.setTitle(this.defaultTitle,!0),i.width&&i.height){var o=parseInt(t.trim(i.width),10),s=parseInt(t.trim(i.height),10);isNaN(o)||isNaN(s)||this.setIframeSize(o,s)}this.show()}},triggerEventHandler:function(t,e){t.preventDefault(),this.openDialog(e)},initDefaultOptions:function(){var i=e.prototype.initDefaultOptions.apply(this,arguments);return t.extend(i,{triggerSelector:".iframe-dlg-trigger",bindType:"delegate",eventType:"click",applyTo:null,dataKeyMapping:{width:"data-iwidth",height:"data-iheight",title:"data-ititle",url:"data-iurl"},isEnableGlobalEvent:!1,globalEvent:"pageiframedlg",eventNs:".pageIframeDlg"}),i}}),i}),define("doit/widget/ui/dialog/page-iframe-dialog-dpl-tpl",["jquery"],function(t){var e=['<div class="mod mod-dialog">','<div class="header">','<div class="container">','<h3 class="title">\u5bf9\u8bdd\u6846</h3>','<div class="panel">','<button class="close icon-close" title="\u5173\u95ed">\u5173\u95ed</button>',"</div>","</div>","</div>",'<div class="content">','<div class="container">','<iframe src="about:blank" frameborder="0" scrolling="no" width="600" height="300" ></iframe>',"</div>","</div>","</div>"];return e.join("")}),define("flow/trade/module/order-list/frame-dialog-helper",["jquery","doit/mod/iframe-dialog","doit/widget/ui/dialog/page-iframe-dialog-dpl-tpl"],function(t,e,i){var n=null;return{getDialog:function(){return n||(n=new e({applyTo:t("#app-content"),tpl:i,appendWidth:32})),n},init:function(){this.getDialog()}}}),define("doit/mod/bubbletip-support",["jquery","doit/widget/util/web-util","doit/widget/ui/bubbletip"],function(t,e,i){return function(n,o){o=o||{};var s=t(n);s.length<=0||s.find(o.registerSelector||"[data-bubbletip]").each(function(n,s){var r=t(this),a=t.extend({tipGroup:null,showEvent:null,hideEvent:null,applyTo:r,enableClose:!0,cls:"unit-bubbletip-stress",maxWidth:300,isHideOnDocClick:!1},o),l=r.data("tipcfg");t.isPlainObject(l)&&(a=t.extend(a,l));var c='<div style="position:relative;"></div>';null!=a.proxy&&(c=a.proxy);var u=a.insertTipContainer;a.insertTipContainer=null;var d=null;d=u?u(t(c),r):t(c).appendTo(r.parent()),a.container=d;var h=a.cls,f=r.attr("data-tip-content"),p=r.attr("data-tip-type");f=t.trim(f);var g=null;f&&f.length>0&&(g=0===f.indexOf("#")?t(f).html():r.parent().find(f).first().html());var m=r.attr("data-bubbletip");if(g||m){var v=new i(a);null!=h&&("lesser"===p?v.ct.removeClass(h):v.ct.addClass(h)),g?v.setContent(g,!0):v.setContent(e.escapeHtml(m),!0),v.show()}})}}),define("flow/trade/module/order-list/list-actions",["jquery","flow/trade/module/actions/all-action-support","flow/trade/module/actions/action-edit-memo","flow/trade/module/actions/observer"],function(t,e,i,n){var o={initActions:function(){{var n=t("#listBox");new e({initActionEditMemo:function(e,n){if(null==this.actionEditMemo){var o="actionEditMemo",s={triggerSelector:".action-edit-memo",url:t("#cmtUrl").val(),syncUrl:t("#urlGetOrderMemo").val(),container:e,msgDlg:n};this._extendBaseOpt(o,s),this.actionEditMemo=new i(s)}},container:n})}},initObserver:function(){n.attach("flowAction",this.actionEventsListener,this)},destroy:function(t){n.detach("flowAction",this.actionEventsListener,this)},actionEventsListener:function(t,e,i,n){var o=this;if("complete"===t)switch(e){case"actionPushStep":o.reloadPage()}else if("error"===t)switch(e){case"actionRemindSeller":o.reloadPage()}else if("success"===t)switch(e){case"actionEditMemo":o._clearMemoClass(i);var s=i.attr("data-marktype");s&&0!==s.length||(s=0),s=parseInt(s,10),i.addClass("comment"+s),s>0?i.removeClass("icon-write-note").addClass("icon-note"):i.removeClass("icon-note").addClass("icon-write-note");var r=i.attr("data-text");r&&r.length>10&&(r=r.substring(0,8)+"..."),i.prop("title",r),i.attr("data-tooltip",r)}},_clearMemoClass:function(t){t.removeClass("comment0").removeClass("comment1").removeClass("comment2").removeClass("comment3").removeClass("comment4")},reloadPage:function(){window.location.reload(!0)},init:function(){this.mainCt=t("#new-content"),this.initObserver(),this.initActions()}};return o}),define("flow/trade/module/order-list/list-invoice",["jquery"],function(t,e){var i={listIds:[],listItems:{},initElm:function(){var e=this;t("#listBox>ul>li").each(function(i,n){var o=t(this).find(".tradeId").val();e.listItems[o]={item:t(this),container:t(this).find("td.s10")},e.listIds.push(o)})},load:function(e){var i=this,n=this.getAjaxUrl(),o={orderIds:i.listIds.join(","),_csrf_token:t("input[name=_csrf_token]").val()};if(n){var s={url:n,dataType:"json",data:o,cache:!1,success:function(t,n,s){t&&t.success+""=="true"?i.renderSuccessContent(t.data,e,o):i.renderErrorContent(t,e,o)},error:function(t,n,s){i.renderErrorContent(s,e,o)}};t.extend(s,this.ajaxOptions||{}),t.ajax(s)}},renderSuccessContent:function(e,i,n){var o=this;e&&e.orderList&&e.orderList.length>0&&t.each(e.orderList,function(e,i){var n=t("<div></div>"),s="AVAILABLE"===i.type?"\u53d1\u7968\u7533\u8bf7":"\u67e5\u770b\u53d1\u7968\u8be6\u60c5",r='<a href="'+i.link+'" target="_blank" >'+s+"</a>";n.append(r),o.listItems[i.orderId+""].container.append(n)})},renderErrorContent:function(t,e,i){},getAjaxUrl:function(){return this._ajaxUrl||(this._ajaxUrl=t("#getInvoiceUrl").val()),this._ajaxUrl},init:function(){"buyer"===t("#memberRole").val()&&(this.mainCt=t("#new-content"),this.initElm(),this.load())}};return i}),define("flow/trade/module/common-action/verify-order-pay",["jquery","lofty/util/date/1.0/date"],function(t,e){"use strict";var i={VERIFY_PAY_TITLE:"\u786e\u8ba4\u5df2\u4ed8\u6b3e",VERIFY_REPAY_TITLE:"\u786e\u8ba4\u5df2\u8fd8\u6b3e",VERIFY_PAY_SUCCESS_MSG:"\u786e\u8ba4\u4ed8\u6b3e\u6210\u529f!",VERIFY_REPAY_SUCCESS_MSG:"\u786e\u8ba4\u8fd8\u6b3e\u6210\u529f!"},n=function(t){return'<div class="mod-empty-container"><span class="icon-warning-large">'+(t||"\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5\uff01")+"</span></div>"},o=n("\u672a\u6536\u5230\u4efb\u4f55\u652f\u4ed8\u4fe1\u606f!"),s={init:function(t){this.bind(t)},bind:function(t){var e=this;t.on("click","a.verify-order-pay",function(t){t.preventDefault(),e.check(this)})},check:function(e){var i=this;e=t(e),t.ajax({type:"get",url:e.data("checkOrderUrl"),dataType:"json",success:function(t){i.showDialog(t,e.data("verifyOrderUrl"),e.data("canBuyerRepayment"))}})},verify:function(e){var o=this,s=t(e).data("canBuyerRepayment");t.ajax({type:"get",url:t(e).data("verifyOrderUrl"),dataType:"json",success:function(t){var e=o.dialog.find(".content"),r="";r=t.success?'<div class="mod-empty-container"><span class="icon-success">'+(s?i.VERIFY_REPAY_SUCCESS_MSG:i.VERIFY_PAY_SUCCESS_MSG)+"</span></div>":n(t.errorMessage),e.html(r),o.dialog.find(".footer").hide()}})},showDialog:function(e,i,n){this.dialog?this.update(e,i,n):(this.render(e,i,n),this.bindDialog()),t(".mod-verify-order-pay-dialog").dialog({center:!0})},update:function(t,e,n){var s=this.dialog.find(".header"),r=this.dialog.find(".content"),a=this.dialog.find(".footer"),l=n?i.VERIFY_REPAY_TITLE:i.VERIFY_PAY_TITLE;if(s.find(".title").text(l),t&&t.data&&t.data.fundTransfers&&t.data.fundTransfers.length){var c=a.find(".btn-submit");c.text(l),r.html(this.buildPayInfo(t.data.fundTransfers)),a.show(),this.fundTransferId&&this.outFundTransferNo&&(e=e+(-1!==e.indexOf("?")?"&":"?")+"fundTransferId="+this.fundTransferId+"&outFundTransferNo="+this.outFundTransferNo),c.data("verifyOrderUrl",e),c.data("canBuyerRepayment",n)}else r.html(o),a.hide()},bindDialog:function(){var e=this;t(".mod-verify-order-pay-dialog").on("click",".btn-submit",function(t){t.preventDefault(),e.verify(this)}).on("click",".btn-cancel, .close",function(t){t.preventDefault(),e.dialog.dialog("close")})},render:function(e,i,n){var o=['<div class="mod mod-dialog mod-verify-order-pay-dialog">','<div class="header">','<div class="container">','<div class="title fd-left">\u786e\u8ba4\u5df2\u4ed8\u6b3e</div>','<div class="panel">','<div class="close icon-close fd-right"></div>',"</div>","</div>","</div>",'<div class="content"></div>','<div class="footer '+(e.data&&e.data.fundTransfers&&e.data.fundTransfers.length?"":" fd-hide ")+'">','<div class="mod-operate">','<button type="button" class="button lang-button button-stress btn-submit" data-level="strong" data-verify-order-url="'+i+'" >\u786e\u8ba4\u5df2\u4ed8\u6b3e</button>','<button type="button" class="button lang-button btn-cancel">\u53d6\u6d88</button>',"</div>","</div>","</div>"].join("");this.dialog=t(o).appendTo("body"),this.update(e,i,n)},buildPayInfo:function(i){var n=[],o=this;return i&&t.each(i,function(t,s){var r=i[t],a='<div class="mod-pay-info"><div class="block fd-clr"><ul class="fd-left"><li><label>\u4ed8\u6b3e\u65b9\u6237\u540d\uff1a</label><span >'+r.payerCardName+"</span></li><li><label>\u4ed8\u6b3e\u65b9\u5f00\u6237\u884c\uff1a</label><span >"+r.payerBankName+"</span></li><li><label>\u4ed8\u6b3e\u65b9\u8d26\u53f7\uff1a</label><span >"+r.payerCardNo+'</span></li></ul><ul class="fd-right"><li><label>\u6536\u6b3e\u65b9\u6237\u540d\uff1a</label><span >'+r.payeeCardName+"</span></li><li><label>\u6536\u6b3e\u65b9\u5f00\u6237\u884c\uff1a</label><span >"+r.payeeBankName+"</span></li><li><label>\u6536\u6b3e\u94f6\u884c\u8d26\u53f7\uff1a</label><span >"+r.payeeCardNo+'</span></li></ul></div><div class="block fd-clr"><ul><li><label>\u4ed8\u6b3e\u65e5\u671f\uff1a</label><span >'+e.format(new Date(r.transferDate),"yyyy-MM-dd ")+"</span></li><li><label>\u4ed8\u6b3e\u91d1\u989d\uff1a</label><span > "+r.amount+" </span></li><li><label>\u652f\u4ed8\u65b9\u5f0f\uff1a</label><span >"+r.channelDisplayName+"</span></li><li><label>\u7528\u9014/\u9644\u8a00/\u6458\u8981/\u5907\u6ce8\uff1a</label><span >"+r.paymentCode+"</span></li></ul></div></div>";o.changeSubmitParam(r),n.push(a)}),n.join("")},changeSubmitParam:function(t){this.fundTransferId=t.id,this.outFundTransferNo=t.outFundTransferNo}};return s}),define("doit/widget/countdown",["jquery"],function(t){var e=function(t){this.init(t)};return e.prototype={initDefaultOptions:function(){var t={interval:1e3,countSize:60};return t},initOptions:function(e){var i=this.initDefaultOptions();t.extend(this,i,e||{})},init:function(t){this.initOptions(t),this.createComponent()},createComponent:function(){},onCountDownEnd:function(t){},onCountDown:function(t){},end:function(){window.clearTimeout(this._tid_),this.onCountDownEnd(0)},_tid_:null,countDown:function(t,e){var i=null==t?this.countSize:t,n=null==e?this.interval:e;this._tid_&&window.clearTimeout(this._tid_);var o=this;return 0==i?void o.onCountDownEnd.call(o,i):(o.onCountDown.call(o,i),this._tid_=window.setTimeout(function(){o.countDown(i-1,n)},n),this)}},e}),define("flow/trade/module/order-list/ladder-group-countdown",["jquery","doit/widget/ui/bubbletip","doit/widget/ui/bubbletip-dpl-tpl","doit/widget/countdown"],function(t,e,i,n){var o=t("#listBox"),s="li.item-active",r=o.find(s);r.length||(s="div.mod-order",r=o.find(s));var a=r.find(".countdown-sync"),l=r.find(".countdown-async"),c={alignType:"tl",showOption:{type:"fadeIn",duration:400},hideEvent:!1,showEvent:!1,tipGroup:!1};function u(e,i){e="<div>"+e+"</div>",i=parseInt(i,10);var n="",o=0,s=0;o=i%1440;var r=(i-o)/1440;s=o%60;var a=(o-s)/60,l=s;return r&&(n+=r+"\u5929"),a&&(n+=a+"\u5c0f\u65f6"),l>=0&&(n+=l+"\u5206"),t.util.substitute(e,[n])}t.each(a,function(o,r){var a=t(r),l=a.data("countdown");if(l){var d=new e(t.extend({},c,{applyTo:a,container:a.closest(s),fixRelative:!0,content:u(l.template,l.time),alignType:l.alignType||"tl",appendOffset:"r"===l.alignType?{top:-10}:{},tpl:i}));d.show({hideOthers:!1});var h=new n({interval:6e4,countSize:l.time,onCountDown:function(t){d.setContent(u(l.template,t))},onCountDownEnd:function(t){d.setContent(u(l.template,0))}});h.countDown()}});var d=o.data("domainTrading"),h=d+"/order/get_time.do",f=function(e,i){e="<div>"+e+"</div>";var n="";return i.day&&(n+=i.day+"\u5929"),i.hour&&(n+=i.hour+"\u5c0f\u65f6"),i.min>0&&(n+=i.min+"\u5206"),t.util.substitute(e,[n])},p=function(t){var e=t.time;e.min>0?e.min-=1:(0===e.min||"0"===e.min)&&e.hour>0?(e.min=59,e.hour-=1):0!==e.min&&"0"!==e.min||0!==e.hour&&"0"!==e.hour||!(e.day>0)||(e.min=59,e.hour=59,e.day-=1),t.bubble.setContent(f(t.template,t.time)),0!==e.min&&"0"!==e.min||0!==e.hour&&"0"!==e.hour||0!==e.day&&"0"!==e.day?t.timeout=setTimeout(function(){p(t)},6e4):clearTimeout(t.timeout)},g=function(n,o){var r=o.data("countdown"),a={template:r.template,time:n};a.bubble=new e(t.extend({},c,{applyTo:o,container:o.closest(s),fixRelative:!0,content:f(a.template,a.time),alignType:r.alignType||"tl",tpl:i})),a.bubble.show({hideOthers:!1}),a.timeout=setTimeout(function(){p(a)},6e4)};l.each(function(){var e=t(this),i=e.data("requestParam");i&&t.ajax({url:h,dataType:"jsonp",data:i,success:function(t){"min"in t&&g(t,e)}})})}),define("flow/trade/module/order-list/alipay-level-warning",["jquery","doit/mod/alipay-level-warning","just/fit/observer"],function(t,e,i){var n=t('<div class="region region-warning"></div>'),o=t("div.region-title");o.length&&e.deploy(n,{isSeller:"seller"===t("#memberRole").val(),callback:function(){o.before(n),i&&i.notify("TDK.pageService:resize")}})}),define("doit/lang/alitalk",["require","jquery"],function(require,$){"use strict";var getDefaultOptions=function(){return{attr:"alitalk",cls:{base:"doit-alitalk",on:"doit-alitalk-on",off:"doit-alitalk-off"},fdev4Cls:{base:"alitalk",on:"alitalk-on",off:"alitalk-off"},getCls:function(t){var e=t.cls;return t.styleMode||"label"!==t.type||(e={base:"doit-alitalk-label",on:"doit-alitalk-label-on",off:"doit-alitalk-label-off"}),e}}},deps=function(t){var e=[],i="";switch(t.styleMode&&(i=t.styleMode),e.push("//g.alicdn.com/aliww/ww-light-cbu/index.js"),i){case"fdev4":case"lofty":e.push("lofty/alicn/alitalk/1.0/alitalk.css"),t.cls=t.fdev4Cls;break;case"none":break;default:e.push("doit/lang/alitalk.css")}return e},replaceAnchorWithSpan=function(t){var e=$(t),i=$("<span></span>"),n=e.prop("attributes");return $.each(n,function(){"href"!==this.name&&i.attr(this.name,this.value)}),i.text(e.text()),i.insertBefore(e),e.remove(),i[0]},isLightSetup=!1,alitalk=function(elements,options){options=options||{},options=$.extend(!0,getDefaultOptions(),options);var fun=options.getCls;if("function"==typeof fun){var cls=fun(options);cls&&(options.cls=cls)}$(elements).removeClass(options.cls.base).addClass("ww-cbu-light-hook").each(function(){"A"===$(this).prop("tagName").toUpperCase()&&replaceAnchorWithSpan(this)}),require.use(deps(options),function(){isLightSetup||(isLightSetup=!0,window.Light.setup({hook:"ww-cbu-light-hook",theme:"cbu",cssText:"",defaultSite:"cnalichn",beforeLightNode:function(t,e){var i=options.cls;e?$(t).addClass(i.base).addClass(i.on).removeClass(i.off).attr("title","\u6211\u6b63\u5728\u7f51\u4e0a\uff0c\u9a6c\u4e0a\u548c\u6211\u6d3d\u8c08").children("span").hide():$(t).addClass(i.base).addClass(i.off).removeClass(i.on).attr("title","\u6211\u4e0d\u5728\u7f51\u4e0a\uff0c\u7ed9\u6211\u7559\u4e2a\u6d88\u606f\u5427").children("span").hide()},getParamsFromDomOverride:function(element,result){var attribute=$(element).attr(options.attr)||$(element).attr("data-"+options.attr)||"{}",alitalkData=eval("("+attribute+")");return result.nick=encodeURIComponent(alitalkData.id||""),result.from=alitalkData.siteID||"cnalichn",result.encode=!0,result}})),window.Light.light()})};return alitalk}),define("doit/widget/ui/dialog/message-dialog-dpl-tpl",["jquery"],function(t){var e=['<div class="mod mod-dialog msg-dlg" data-type="confirm">','<div class="header">','<div class="container">','<h3 class="title">\u63d0\u793a</h3>','<div class="panel">','<button type="button" class="icon-close close">\u5173\u95ed</button>',"</div>","</div>","</div>",'<div class="content msg-dlg-info">','<div class="container msg-dlg-msgct">',"</div>","</div>",'<div class="footer">','<div class="container">','<div class="panel unit-button-group buttons">','<button class="lang-button button button-important ok" data-level="important">\u786e\u8ba4</button>','<button class="lang-button button button-stress cancel">\u53d6\u6d88</button>',"</div>","</div>","</div>","</div>"];return e.join("")}),define("doit/widget/ui/bubbletip",["jquery"],function(t){var e=!1,i=t.browser.msie&&0===(t.browser.version+"").indexOf("6."),n={diff:0,isReverse:!1},o=function(){this.init()};o.prototype={init:function(){this.tipStore={}},layoutAll:function(t){if(t){var e=this.tipStore[t];if(e)for(var i=0,n=e.length;n>i;i++)e[i].layout()}else for(var o in this.tipStore)this.layoutAll(o)},hideAll:function(t){if(t){var e=this.tipStore[t];if(e)for(var i=0,n=e.length;n>i;i++)e[i].hide()}else for(var o in this.tipStore)this.hideAll(o)},hideOthers:function(t,e){if(e){var i=this.tipStore[e];if(i)for(var n=0,o=i.length;o>n;n++)i[n]!==t&&i[n].hide()}else for(var s in this.tipStore)this.hideOthers(t,s)},register:function(t,e){e?(this.tipStore[e]||(this.tipStore[e]=[]),this.tipStore[e].push(t)):this.register(t,"global")},unregister:function(t,e){if(e){var i=this.tipStore[e];if(i)for(var n=0,o=i.length;o>n;n++)if(i[n]===t){i.splice(n,1);break}}else for(var s in this.tipStore)this.unregister(t,s)},unregisterAll:function(t){if(t){var e=this.tipStore[t];e&&e.splice(0,e.length),delete this.tipStore[t]}else for(var i in this.tipStore)this.unregisterAll(i)}};var s=new o,r=function(t){this.init(t)};return r.prototype={ct:null,initDefaultOptions:function(){var t={isHideOnDocClick:!1,tpl:null,tipGroup:"global",hideDelay:500,width:null,isAutoFitWidth:!0,autoFitAppendWidth:1,isAutoFitInnerWidth:!0,isAutoPos:!1,isReversePos:!0,cls:null,maxWidth:null,minWidth:null,isAbsolute:!0,isShim:"auto",blankUrl:"about:blank",fixRelative:!1,arrowMargin:null,zIndex:100,isHoldOnTip:!1,layoutOnWinChange:!1,layoutOnWinScroll:!1,layoutOnWinResize:!1,showEvent:"mouseenter",hideEvent:"mouseleave",showOption:null,hideOption:null,closeCtSelector:"> .panel:eq(0)",closeSelector:".close",enableClose:!1,alignType:"bl",appendOffset:{left:0,top:0},bubbleArrowSelector:"> .bubble:eq(0)",bubbleArrowCss:{top:"bubble-top",left:"bubble-left",bottom:"bubble-bottom",right:"bubble-right"},bubbleExtraAttr:{top:"top",left:"left",bottom:"bottom",right:"right"},useContentBox:!0,eventNs:"",applyTo:null,container:null,contentCtSelector:"> .main:eq(0)",isFixIE6ImageCache:!0,isShowEmpty:!0,content:null,contentHtml:null};return t},initOptions:function(e){var i=this.initDefaultOptions();t.extend(this,i,e||{})},init:function(t){this.initOptions(t),this.createComponent()},defaultTpl:function(){return['<div class="unit-bubbletip unit-bubbletip-special-widget" style="display:none;">','<div class="panel"><a class="close icon-close" href="#" title="\u5173\u95ed">\u5173\u95ed</a></div>','<div class="main"></div> ','<div class="bubble"></div> ',"</div> "].join("")},_eventFun:null,_bind:function(t,e,i){null!=t&&(this._eventFun||(this._eventFun=[]),
this._eventFun.push({el:t,event:e,fun:i}),t.bind(e,i))},_unbind:function(t){var e=this._eventFun;if(e){for(var i=null,n=[],o=0,s=e.length;s>o;o++)i=e[o],t===i.el?i.el.unbind(i.event,i.fun):n.push(i);e.splice(0,e.length),this._eventFun=n}},escapeHtml:function(t){return"string"!=typeof t?null:t.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;")},_unbindAll:function(){var t=this._eventFun;if(t){for(var e=null,i=0,n=t.length;n>i;i++)e=t[i],e.el.unbind(e.event,e.fun);t.splice(0,t.length)}},_setBubbleArrow:function(t){for(var e in this.bubbleArrowCss)this.bubbleArrowEl.removeClass(this.bubbleArrowCss[e]);this.bubbleArrowEl.addClass(t)},_setBubbleAttr:function(t){this.bubbleExtraAttr[t]&&this.ct.attr("data-bubble",this.bubbleExtraAttr[t])},showHideCloseBtn:function(t){t?this.btnct.show():this.btnct.hide()},destroy:function(t){this.tipGroup&&this.getManager().unregister(this,this.tipGroup),this._unbindAll(),this.shimEl&&this.shimEl.remove(),this.ct&&(t||this.ct.remove());var e=this;for(var i in e)e[i]=null},setContent:function(e,i){var n=this.mct;n.html(""),i?n.html(e):n.append(t(e))},autoFitWidth:function(){var t=this.mct,e=this.ct,i="-9000px",n=this.ct.offset(),o=t.css("display"),s=t.css("float");e.css("width","auto").css({left:i,top:i}),this.isAutoFitInnerWidth&&t.css("width",""),t.css("display","block").css("float","left");var r=!1;this.enableClose&&(r=!0,this.showHideCloseBtn(!1));var a=e.width()+this.autoFitAppendWidth;r&&(this.showHideCloseBtn(!0),a+=this.btnct.outerWidth(!0)),t.css("float",s).css("display",o),e.offset(n).width(a)},autoFitInnerWidth:function(){this.mct.css("width","");var t=this.ct,e=this.mct;e.width(t.width()-e.outerWidth(!0)+e.width()-(this.enableClose?this.btnct.outerWidth(!0):0))},layout:function(e){if(this.isShow){var i=this.ct,n=this.maxWidth,o=this.minWidth;this.isAutoFitWidth&&null==this.width&&this.autoFitWidth(),null!=n&&i.width()>n&&i.width(n),null!=o&&i.width()<o&&i.width(o),this.isAutoFitInnerWidth&&this.autoFitInnerWidth();var s,r,a=this.alignType,l=0,c=this.applyTo.offset(),u=t.extend({},c),d=null!=e&&e.isReverse?!0:!1,h=this.bubbleArrowEl,f=this.applyTo.outerHeight()||0,p=this.applyTo.outerWidth()||0,g=0,m=0,v=0,y=0,b=i.outerHeight(),w=i.outerWidth();if(null!=a){var _=a.length>0?a.charAt(0):"b",C=a.length>1?a.charAt(1):"",k=this.bubbleExtraAttr,S=this.bubbleArrowCss;if(h.css({top:"",bottom:"",left:"",right:""}),this.appendOffset){var x=t.extend({left:0,top:0},this.appendOffset);c.top=c.top+(d&&"tb".indexOf(_)>=0?-x.top:x.top),c.left=c.left+(d&&"lr".indexOf(_)>=0?-x.left:x.left)}d&&("t"===_?_="b":"b"===_?_="t":"l"===_?_="r":"r"===_&&(_="l"));var D=null,T=this.arrowMargin;D="function"==typeof T?T.call(this,_+C):T;var O=null,E=null;switch(_){case"t":O=S.bottom,E=k.bottom;break;case"l":O=S.right,E=k.right;break;case"r":O=S.left,E=k.left;break;case"b":O=S.top,E=k.top}switch(null!=O&&this._setBubbleArrow(O),E&&this._setBubbleAttr(E),r=h.offset(),null!=r&&(v=r.left,y=r.top),_){case"t":m=h.outerHeight(),c.top=c.top-m-b,"r"===C?(c.left=c.left+p-w,s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,l>0&&null==D&&(D=w-v+i.offset().left),D&&h.css("right",D-l).css("left","auto")):"c"===C?(c.left=c.left+Math.floor((p-w)/2),s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,null==D&&(D=0),h.css("right","auto").css("left",Math.floor((w-h.outerWidth())/2+D+l))):(s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,l>0&&null==D&&(D=v-i.offset().left),D&&h.css("right","auto").css("left",D+l)),c.left=c.left-l;break;case"l":g=h.outerWidth(),c.left=c.left-g-w,"b"===C?(c.top=c.top+f-b,s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,l>0&&null==D&&(D=y-i.offset().top),D&&h.css("bottom",D-l).css("top","auto")):"c"===C?(c.top=c.top+Math.floor((f-b)/2),s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,null==D&&(D=0),h.css("bottom","auto").css("top",Math.floor((b-h.outerHeight())/2+D+l))):(s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,l>0&&null==D&&(D=b-y+i.offset().top),D&&h.css("bottom","auto").css("top",D+l)),c.top=c.top-l;break;case"r":g=h.outerWidth(),c.left=c.left+g+p,"b"===C?(c.top=c.top+f-b,s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,l>0&&null==D&&(D=y-i.offset().top),D&&h.css("bottom",D-l).css("top","auto")):"c"===C?(c.top=c.top+Math.floor((f-b)/2),s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,null==D&&(D=0),h.css("bottom","auto").css("top",Math.floor((b-h.outerHeight())/2+D+l))):(s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,l>0&&null==D&&(D=b-y+i.offset().top),D&&h.css("bottom","auto").css("top",D+l)),c.top=c.top-l;break;case"b":m=h.outerHeight(),c.top=c.top+m+f,"r"===C?(c.left=c.left+p-w,s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,l>0&&null==D&&(D=w-v+i.offset().left),D&&h.css("right",D-l).css("left","auto")):"c"===C?(c.left=c.left+Math.floor((p-w)/2),s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,null==D&&(D=0),h.css("right","auto").css("left",Math.floor((w-h.outerWidth())/2+D+l))):(s=this._getPosDiff(a,c,u,w,b,g,m,p,f),l=s.diff,l>0&&null==D&&(D=v-i.offset().left),D&&h.css("right","auto").css("left",D+l)),c.left=c.left-l}if(s&&s.isReverse&&!d)return void this.layout({isReverse:!0})}i.offset(c),this.shimEl&&this.shimEl.width(w).height(b).offset(c)}},_getPosDiff:function(e,i,o,s,r,a,l,c,u){if(!this.isAutoPos)return n;var d=0,h=this.isReversePos,f=!1,p=t(window),g=null,m=i.top,v=i.left,y=o.top,b=o.left,w=p.width(),_=p.height(),C=p.scrollTop(),k=p.scrollLeft(),S=t.extend({left:0,top:0},this.appendOffset||{}),x=e.length>0?e.charAt(0):"b";return"b"===x||"t"===x?(g=r+l-S.top,h&&("t"===x&&C>m&&C+_>y+u+g||"b"===x&&m+r>C+_&&y-C>g)&&(f=!0),k+w>b&&b+c>k&&(v+s>k+w&&(d=v-k-w+s+1),k>v-d&&(d=v-k-1))):(g=s+a-S.left,h&&("l"===x&&k>v&&k+w>b+c+g||"r"===x&&v+s>k+w&&b-k>g)&&(f=!0),C+_>y&&y+u>C&&(m+r>C+_&&(d=m-C-_+r+1),C>m-d&&(d=m-C-1))),{diff:d,isReverse:f}},show:function(e){var i=this,n=i.ct;if(this.isShowEmpty||!(t.trim(i.mct.html()).length<=0)){window.clearTimeout(this._hideTimeoutId),this.isHideOnDocClick&&(this._doc||(this._doc=t(document)),this._bind(this._doc,"mousedown"+this.eventNs,function(t){i._docClick(t)}));var o=!this.isShow;this.isShow=!0,o&&this.onBeforeShow(),this.shimEl&&this.shimEl.show();var s=t.extend({hideOthers:!0,type:"show"},e||{});if(this.tipGroup&&s.hideOthers&&this.getManager().hideOthers(this,this.tipGroup),n.stop(!0,!0).css("visibility","hidden").show(),this.layout(),n.css("visibility","visible").hide(),"fun"===s.type&&"function"==typeof s.fun){var r=function(){n.show(),o&&i.onShow()};s.fun.call(i,r,o,n,s)}else if(s.duration>0){var a=n.css("overflow-x"),l=n.css("overflow-y"),c="fadeIn"!==s.type||t.browser.msie;c&&n.css("overflow-x","hidden").css("overflow-y","hidden"),n[s.type](s.duration,function(){c&&n.css("overflow-x",a).css("overflow-y",l),o&&i.onShow()})}else n.show(),o&&this.onShow();s.hideDelay&&(this._hideTimeoutId=window.setTimeout(function(){i.hide(s.hideOption)},s.hideDelay))}},hide:function(e){var i=this,n=this.ct;this.isHideOnDocClick&&this._doc&&this._unbind(this._doc);var o=this.isShow;this.isShow=!1,o&&this.onBeforeHide(),this.shimEl&&this.shimEl.width(2).height(2).hide();var s=t.extend({type:"hide"},e||{});if(n.stop(!0,!0),"fun"===s.type&&"function"==typeof s.fun){var r=function(){n.hide(),o&&i.onHide()};s.fun.call(i,r,o,n,s)}else if(s.duration>0){var a=n.css("overflow-x"),l=n.css("overflow-y"),c="fadeOut"!==s.type||t.browser.msie;c&&n.css("overflow-x","hidden").css("overflow-y","hidden"),n[s.type](s.duration,function(){c&&n.css("overflow-x",a).css("overflow-y",l),o&&i.onHide()})}else n.hide(),o&&this.onHide()},_docClick:function(t){var e=[];this.ct&&e.push(this.ct.get(0)),this.applyTo&&e.push(this.applyTo.get(0)),this._isChildNode(t.target,e)||this.handleDocClickHide(),e.splice(0,e.length)},handleDocClickHide:function(){this.hide()},_isChildNode:function(e,i){var n=t(e);if(null==i)return!1;for(var o=null;n.length>0;){if(o=n.get(0),t.isArray(i)){for(var s=0,r=i.length;r>s;s++)if(o===i[s])return!0}else if(o===i)return!0;n=n.parent()}return o=null,!1},setApplyTo:function(e){this.applyTo&&this._unbind(this.applyTo),this.applyTo=t(e),this._initApplyToEvent()},setZIndex:function(t){this.zIndex=t,this.ct&&this.ct.css("zIndex",this.zIndex),this.shimEl&&this.shimEl.css("zIndex",this.zIndex-1)},_initApplyToEvent:function(){var t=this;this.showEvent&&this._bind(this.applyTo,this.showEvent+this.eventNs,function(e){window.clearTimeout(t._hideTimeoutId),t.isShow||t.show(t.showOption)}),this.hideEvent&&this._bind(this.applyTo,this.hideEvent+this.eventNs,function(e){t.hideDelay>0?t._hideTimeoutId=window.setTimeout(function(){t.hide(t.hideOption)},t.hideDelay):t.hide(t.hideOption)})},onShow:function(){},onHide:function(){},onBeforeShow:function(){},onBeforeHide:function(){},handleWinChange:function(t){var e=this;window.clearTimeout(e._winevtid),e._winevtid=window.setTimeout(function(){e.layout()},50)},_winevtid:null,_hideTimeoutId:null,isShow:!1,initBind:function(){var e=this,i=this.eventNs;this._bind(t(this.closeSelector,this.ct),"click"+i,function(t){e.onCloseClick(t)}),this._initApplyToEvent(),this.isHoldOnTip&&this.hideDelay>0&&(this._bind(this.ct,"mouseenter"+i,function(t){window.clearTimeout(e._hideTimeoutId)}),this._bind(this.ct,"mouseleave"+i,function(t){e._hideTimeoutId=window.setTimeout(function(){e.hide(e.hideOption)},e.hideDelay)})),(this.layoutOnWinChange||this.layoutOnWinResize)&&this._bind(t(window),"resize"+i,function(t){e.handleWinChange(t)}),(this.layoutOnWinChange||this.layoutOnWinScroll)&&this._bind(t(window),"scroll"+i,function(t){e.handleWinChange(t)})},onCloseClick:function(t){t.preventDefault(),this.hide()},createShim:function(){if(this.shimEl)return this.shimEl;var e=this.escapeHtml(this.blankUrl);e||(e="");var i=t('<iframe src="'+t.util.fitProtocol(e)+'" frameborder="0" style="display:none;width:2px;height:2px;left:0;top:0;"></iframe>').appendTo(this.pct).css({position:"absolute",opacity:"0",zIndex:this.zIndex-1});return this.shimEl=i,i},_isIE6:function(){return i},initTip:function(){var e=null==this.container?this.applyTo.parent():t(this.container);this.pct=e;var i=null==this.tpl?this.defaultTpl():this.tpl,n=t(i).appendTo(e).css("zIndex",this.zIndex).addClass(this.cls);this.ct=n,this.btnct=t(this.closeCtSelector,n),this.bubbleArrowEl=t(this.bubbleArrowSelector,n),this.mct=t(this.contentCtSelector,n),this.useContentBox&&this.mct.css("box-sizing","content-box"),this.fixRelative&&e.css("position","relative"),this.isAbsolute&&n.css("position","absolute"),("auto"===this.isShim&&this._isIE6()||this.isShim===!0)&&this.createShim(),this.initBind(),this.enableClose||this.showHideCloseBtn(!1),this.content?this.setContent(this.content):this.contentHtml&&this.setContent(this.contentHtml,!0),null!=this.width&&n.width(this.width),this.hide()},getManager:function(){return s},createComponent:function(){var i=t(this.applyTo).first();if(this.isFixIE6ImageCache&&!e&&this._isIE6())try{document.execCommand("BackgroundImageCache",!1,!0),e=!0}catch(n){}this.applyTo=i,this.initTip(),this.tipGroup&&this.getManager().register(this,this.tipGroup)}},r}),define("doit/widget/ui/bubbletip-dpl-tpl",function(){return['<div class="unit-bubbletip unit-bubbletip-special-widget" style="display:none;">','<div class="panel"><button class="icon-close close">\u5173\u95ed</button></div>','<div class="main" style="box-sizing:border-box;"></div> ','<div class="bubble"></div> ',"</div> "].join("")}),define("doit/widget/util/date-util",function(){"use strict";function t(){return gn.apply(null,arguments)}function e(t){gn=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){var e;for(e in t)return!1;return!0}function s(t){return"number"==typeof value||"[object Number]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var i in e)l(e,i)&&(t[i]=e[i]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,i,n){return ve(t,e,i,n,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(t){return null==t._pf&&(t._pf=d()),t._pf}function f(t){if(null==t._isValid){var e=h(t),i=vn.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function p(t){var e=u(0/0);return null!=t?c(h(e),t):h(e).userInvalidated=!0,e}function g(t){return void 0===t}function m(t,e){var i,n,o;if(g(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),g(e._i)||(t._i=e._i),g(e._f)||(t._f=e._f),g(e._l)||(t._l=e._l),g(e._strict)||(t._strict=e._strict),g(e._tzm)||(t._tzm=e._tzm),g(e._isUTC)||(t._isUTC=e._isUTC),g(e._offset)||(t._offset=e._offset),g(e._pf)||(t._pf=h(e)),g(e._locale)||(t._locale=e._locale),yn.length>0)for(i in yn)n=yn[i],o=e[n],g(o)||(t[n]=o);return t}function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():0/0),bn===!1&&(bn=!0,t.updateOffset(this),bn=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return 0>t?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=b(e)),i}function _(t,e,i){var n,o=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(n=0;o>n;n++)(i&&t[n]!==e[n]||!i&&w(t[n])!==w(e[n]))&&r++;return r+s}function C(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,i){var n=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),n){for(var o,s=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){o+="\n["+r+"] ";for(var a in arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[r];s.push(o)}C(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function S(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),wn[e]||(C(i),wn[e]=!0)}function x(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t){var e,i;for(i in t)e=t[i],x(e)?this[i]=e:this["_"+i]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(t,e){var i,o=c({},t);for(i in e)l(e,i)&&(n(t[i])&&n(e[i])?(o[i]={},c(o[i],t[i]),c(o[i],e[i])):null!=e[i]?o[i]=e[i]:delete o[i]);for(i in t)l(t,i)&&!l(e,i)&&n(t[i])&&(o[i]=c({},o[i]));return o}function O(t){null!=t&&this.set(t)}function E(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return x(n)?n.call(e,i):n}function A(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function M(){return this._invalidDate}function I(t){return this._ordinal.replace("%d",t)}function P(t,e,i,n){var o=this._relativeTime[i];return x(o)?o(t,e,i,n):o.replace(/%d/i,t)}function R(t,e){var i=this._relativeTime[t>0?"future":"past"];return x(i)?i(e):i.replace(/%s/i,e)}function j(t,e){var i=t.toLowerCase();An[i]=An[i+"s"]=An[e]=t}function Y(t){return"string"==typeof t?An[t]||An[t.toLowerCase()]:void 0}function F(t){var e,i,n={};for(i in t)l(t,i)&&(e=Y(i),e&&(n[e]=t[i]));return n}function L(t,e){Mn[t]=e}function N(t){var e=[];for(var i in t)e.push({unit:i,priority:Mn[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function H(e,i){return function(n){return null!=n?(U(this,e,n),t.updateOffset(this,i),this):B(this,e)}}function B(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():0/0}function U(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function $(t){return t=Y(t),x(this[t])?this[t]():this}function G(t,e){if("object"==typeof t){t=F(t);for(var i=N(t),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(t=Y(t),x(this[t]))return this[t](e);return this}function W(t,e,i){var n=""+Math.abs(t),o=e-n.length,s=t>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function q(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(jn[t]=o),e&&(jn[e[0]]=function(){return W(o.apply(this,arguments),e[1],e[2])}),i&&(jn[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,i,n=t.match(In);for(e=0,i=n.length;i>e;e++)n[e]=jn[n[e]]?jn[n[e]]:z(n[e]);return function(e){var o,s="";for(o=0;i>o;o++)s+=n[o]instanceof Function?n[o].call(e,t):n[o];return s}}function K(t,e){return t.isValid()?(e=X(e,t.localeData()),Rn[e]=Rn[e]||V(e),Rn[e](t)):t.localeData().invalidDate()}function X(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Pn.lastIndex=0;n>=0&&Pn.test(t);)t=t.replace(Pn,i),Pn.lastIndex=0,n-=1;return t}function J(t,e,i){Zn[t]=x(e)?e:function(t,n){return t&&i?i:e}}function Q(t,e){return l(Zn,t)?Zn[t](e._strict,e._locale):new RegExp(Z(t))}function Z(t){return tt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}))}function tt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function et(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),s(e)&&(n=function(t,i){i[e]=w(t)}),i=0;i<t.length;i++)to[t[i]]=n}function it(t,e){et(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function nt(t,e,i){null!=e&&l(to,t)&&to[t](e,i._a,i,t)}function ot(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function st(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ho).test(e)?"format":"standalone"][t.month()]:this._months}function rt(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ho.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function at(t,e,i){var n,o,s,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;12>n;++n)s=u([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?(o=uo.call(this._shortMonthsParse,r),-1!==o?o:null):(o=uo.call(this._longMonthsParse,r),-1!==o?o:null):"MMM"===e?(o=uo.call(this._shortMonthsParse,r),-1!==o?o:(o=uo.call(this._longMonthsParse,r),-1!==o?o:null)):(o=uo.call(this._longMonthsParse,r),-1!==o?o:(o=uo.call(this._shortMonthsParse,r),-1!==o?o:null))}function lt(t,e,i){var n,o,s;if(this._monthsParseExact)return at.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(o=u([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function ct(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(e=t.localeData().monthsParse(e),!s(e))return t;return i=Math.min(t.date(),ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ut(e){return null!=e?(ct(this,e),t.updateOffset(this,!0),this):B(this,"Month")}function dt(){return ot(this.year(),this.month())}function ht(t){return this._monthsParseExact?(l(this,"_monthsRegex")||pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=go),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(t){return this._monthsParseExact?(l(this,"_monthsRegex")||pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=mo),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pt(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],s=[];for(e=0;12>e;e++)i=u([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),s.sort(t),e=0;12>e;e++)n[e]=tt(n[e]),o[e]=tt(o[e]);for(e=0;24>e;e++)s[e]=tt(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function gt(t){return mt(t)?366:365}function mt(t){return t%4===0&&t%100!==0||t%400===0}function vt(){return mt(this.year())}function yt(t,e,i,n,o,s,r){var a=new Date(t,e,i,n,o,s,r);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function bt(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function wt(t,e,i){var n=7+e-i,o=(7+bt(t,0,n).getUTCDay()-e)%7;return-o+n-1}function _t(t,e,i,n,o){var s,r,a=(7+i-n)%7,l=wt(t,n,o),c=1+7*(e-1)+a+l;return 0>=c?(s=t-1,r=gt(s)+c):c>gt(t)?(s=t+1,r=c-gt(t)):(s=t,r=c),{year:s,dayOfYear:r}}function Ct(t,e,i){var n,o,s=wt(t.year(),e,i),r=Math.floor((t.dayOfYear()-s-1)/7)+1;return 1>r?(o=t.year()-1,n=r+kt(o,e,i)):r>kt(t.year(),e,i)?(n=r-kt(t.year(),e,i),o=t.year()+1):(o=t.year(),n=r),{week:n,year:o}}function kt(t,e,i){var n=wt(t,e,i),o=wt(t+1,e,i);return(gt(t)-n+o)/7}function St(t){return Ct(t,this._week.dow,this._week.doy).week}function xt(){return this._week.dow}function Dt(){return this._week.doy}function Tt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ot(t){var e=Ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Et(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function At(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Mt(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function It(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Pt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Rt(t,e,i){var n,o,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;7>n;++n)s=u([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?(o=uo.call(this._weekdaysParse,r),-1!==o?o:null):"ddd"===e?(o=uo.call(this._shortWeekdaysParse,r),-1!==o?o:null):(o=uo.call(this._minWeekdaysParse,r),-1!==o?o:null):"dddd"===e?(o=uo.call(this._weekdaysParse,r),-1!==o?o:(o=uo.call(this._shortWeekdaysParse,r),-1!==o?o:(o=uo.call(this._minWeekdaysParse,r),-1!==o?o:null))):"ddd"===e?(o=uo.call(this._shortWeekdaysParse,r),-1!==o?o:(o=uo.call(this._weekdaysParse,r),-1!==o?o:(o=uo.call(this._minWeekdaysParse,r),-1!==o?o:null))):(o=uo.call(this._minWeekdaysParse,r),-1!==o?o:(o=uo.call(this._weekdaysParse,r),-1!==o?o:(o=uo.call(this._shortWeekdaysParse,r),-1!==o?o:null)))}function jt(t,e,i){var n,o,s;if(this._weekdaysParseExact)return Rt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(o=u([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function Yt(t){if(!this.isValid())return null!=t?this:0/0;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Et(t,this.localeData()),this.add(t-e,"d")):e}function Ft(t){if(!this.isValid())return null!=t?this:0/0;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Lt(t){if(!this.isValid())return null!=t?this:0/0;if(null!=t){var e=At(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Nt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Co),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ht(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ko),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Bt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=So),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ut(){function t(t,e){return e.length-t.length}var e,i,n,o,s,r=[],a=[],l=[],c=[];for(e=0;7>e;e++)i=u([2e3,1]).day(e),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),s=this.weekdays(i,""),r.push(n),a.push(o),l.push(s),c.push(n),c.push(o),c.push(s);for(r.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;7>e;e++)a[e]=tt(a[e]),l[e]=tt(l[e]),c[e]=tt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function $t(){return this.hours()%12||12}function Gt(){return this.hours()||24}function Wt(t,e){q(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function qt(t,e){return e._meridiemParse}function zt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Vt(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Kt(t){return t?t.toLowerCase().replace("_","-"):t}function Xt(t){for(var e,i,n,o,s=0;s<t.length;){for(o=Kt(t[s]).split("-"),e=o.length,i=Kt(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=Jt(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&_(o,i,!0)>=e-1)break;e--}s++}return null}function Jt(t){var e=null;if(!Eo[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=xo._abbr,require("./locale/"+t),Qt(e)}catch(i){}return Eo[t]}function Qt(t,e){var i;return t&&(i=g(e)?ee(t):Zt(t,e),i&&(xo=i)),xo._abbr}function Zt(t,e){if(null!==e){var i=Oo;if(e.abbr=t,null!=Eo[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Eo[t]._config;else if(null!=e.parentLocale){if(null==Eo[e.parentLocale])return Ao[e.parentLocale]||(Ao[e.parentLocale]=[]),Ao[e.parentLocale].push({name:t,config:e}),null;i=Eo[e.parentLocale]._config}return Eo[t]=new O(T(i,e)),Ao[t]&&Ao[t].forEach(function(t){Zt(t.name,t.config)}),Qt(t),Eo[t]}return delete Eo[t],null}function te(t,e){if(null!=e){var i,n=Oo;null!=Eo[t]&&(n=Eo[t]._config),e=T(n,e),i=new O(e),i.parentLocale=Eo[t],Eo[t]=i,Qt(t)}else null!=Eo[t]&&(null!=Eo[t].parentLocale?Eo[t]=Eo[t].parentLocale:null!=Eo[t]&&delete Eo[t]);return Eo[t]}function ee(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return xo;if(!i(t)){if(e=Jt(t))return e;t=[t]}return Xt(t)}function ie(){return kn(Eo)}function ne(t){var e,i=t._a;return i&&-2===h(t).overflow&&(e=i[io]<0||i[io]>11?io:i[no]<1||i[no]>ot(i[eo],i[io])?no:i[oo]<0||i[oo]>24||24===i[oo]&&(0!==i[so]||0!==i[ro]||0!==i[ao])?oo:i[so]<0||i[so]>59?so:i[ro]<0||i[ro]>59?ro:i[ao]<0||i[ao]>999?ao:-1,h(t)._overflowDayOfYear&&(eo>e||e>no)&&(e=no),h(t)._overflowWeeks&&-1===e&&(e=lo),h(t)._overflowWeekday&&-1===e&&(e=co),h(t).overflow=e),t}function oe(t){var e,i,n,o,s,r,a=t._i,l=Mo.exec(a)||Io.exec(a);if(l){for(h(t).iso=!0,e=0,i=Ro.length;i>e;e++)if(Ro[e][1].exec(l[1])){o=Ro[e][0],n=Ro[e][2]!==!1;break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,i=jo.length;i>e;e++)if(jo[e][1].exec(l[3])){s=(l[2]||" ")+jo[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!Po.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=o+(s||"")+(r||""),ue(t)}else t._isValid=!1}function se(e){var i=Yo.exec(e._i);return null!==i?void(e._d=new Date(+i[1])):(oe(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function re(t,e,i){return null!=t?t:null!=e?e:i}function ae(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function le(t){var e,i,n,o,s=[];if(!t._d){for(n=ae(t),t._w&&null==t._a[no]&&null==t._a[io]&&ce(t),t._dayOfYear&&(o=re(t._a[eo],n[eo]),t._dayOfYear>gt(o)&&(h(t)._overflowDayOfYear=!0),i=bt(o,0,t._dayOfYear),t._a[io]=i.getUTCMonth(),t._a[no]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[oo]&&0===t._a[so]&&0===t._a[ro]&&0===t._a[ao]&&(t._nextDay=!0,t._a[oo]=0),t._d=(t._useUTC?bt:yt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[oo]=24)}}function ce(t){var e,i,n,o,s,r,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)s=1,r=4,i=re(e.GG,t._a[eo],Ct(ye(),1,4).year),n=re(e.W,1),o=re(e.E,1),(1>o||o>7)&&(l=!0);else{s=t._locale._week.dow,r=t._locale._week.doy;var c=Ct(ye(),s,r);i=re(e.gg,t._a[eo],c.year),n=re(e.w,c.week),null!=e.d?(o=e.d,(0>o||o>6)&&(l=!0)):null!=e.e?(o=e.e+s,(e.e<0||e.e>6)&&(l=!0)):o=s}1>n||n>kt(i,s,r)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(a=_t(i,n,o,s,r),t._a[eo]=a.year,t._dayOfYear=a.dayOfYear)}function ue(e){if(e._f===t.ISO_8601)return void oe(e);e._a=[],h(e).empty=!0;var i,n,o,s,r,a=""+e._i,l=a.length,c=0;for(o=X(e._f,e._locale).match(In)||[],i=0;i<o.length;i++)s=o[i],n=(a.match(Q(s,e))||[])[0],n&&(r=a.substr(0,a.indexOf(n)),r.length>0&&h(e).unusedInput.push(r),a=a.slice(a.indexOf(n)+n.length),c+=n.length),jn[s]?(n?h(e).empty=!1:h(e).unusedTokens.push(s),nt(s,n,e)):e._strict&&!n&&h(e).unusedTokens.push(s);h(e).charsLeftOver=l-c,a.length>0&&h(e).unusedInput.push(a),e._a[oo]<=12&&h(e).bigHour===!0&&e._a[oo]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[oo]=de(e._locale,e._a[oo],e._meridiem),le(e),ne(e)}function de(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function he(t){var e,i,n,o,s;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(0/0));

for(o=0;o<t._f.length;o++)s=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],ue(e),f(e)&&(s+=h(e).charsLeftOver,s+=10*h(e).unusedTokens.length,h(e).score=s,(null==n||n>s)&&(n=s,i=e));c(t,i||e)}function fe(t){if(!t._d){var e=F(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),le(t)}}function pe(t){var e=new v(ne(ge(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ge(t){var e=t._i,n=t._f;return t._locale=t._locale||ee(t._l),null===e||void 0===n&&""===e?p({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(ne(e)):(r(e)?t._d=e:i(n)?he(t):n?ue(t):me(t),f(t)||(t._d=null),t))}function me(e){var n=e._i;void 0===n?e._d=new Date(t.now()):r(n)?e._d=new Date(n.valueOf()):"string"==typeof n?se(e):i(n)?(e._a=a(n.slice(0),function(t){return parseInt(t,10)}),le(e)):"object"==typeof n?fe(e):s(n)?e._d=new Date(n):t.createFromInputFallback(e)}function ve(t,e,s,r,a){var l={};return(s===!0||s===!1)&&(r=s,s=void 0),(n(t)&&o(t)||i(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=s,l._i=t,l._f=e,l._strict=r,pe(l)}function ye(t,e,i,n){return ve(t,e,i,n,!1)}function be(t,e){var n,o;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return ye();for(n=e[0],o=1;o<e.length;++o)(!e[o].isValid()||e[o][t](n))&&(n=e[o]);return n}function we(){var t=[].slice.call(arguments,0);return be("isBefore",t)}function _e(){var t=[].slice.call(arguments,0);return be("isAfter",t)}function Ce(t){var e=F(t),i=e.year||0,n=e.quarter||0,o=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+r+7*s,this._months=+o+3*n+12*i,this._data={},this._locale=ee(),this._bubble()}function ke(t){return t instanceof Ce}function Se(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function xe(t,e){q(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+W(~~(t/60),2)+e+W(~~t%60,2)})}function De(t,e){var i=(e||"").match(t);if(null===i)return null;var n=i[i.length-1]||[],o=(n+"").match(Ho)||["-",0,0],s=+(60*o[1])+w(o[2]);return 0===s?0:"+"===o[0]?s:-s}function Te(e,i){var n,o;return i._isUTC?(n=i.clone(),o=(y(e)||r(e)?e.valueOf():ye(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),t.updateOffset(n,!1),n):ye(e).local()}function Oe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ee(e,i){var n,o=this._offset||0;if(!this.isValid())return null!=e?this:0/0;if(null!=e){if("string"==typeof e){if(e=De(Xn,e),null===e)return this}else Math.abs(e)<16&&(e=60*e);return!this._isUTC&&i&&(n=Oe(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==e&&(!i||this._changeInProgress?We(this,He(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Oe(this)}function Ae(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Me(t){return this.utcOffset(0,t)}function Ie(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Oe(this),"m")),this}function Pe(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=De(Kn,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Re(t){return this.isValid()?(t=t?ye(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function je(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ye(){if(!g(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=ge(t),t._a){var e=t._isUTC?u(t._a):ye(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Fe(){return this.isValid()?!this._isUTC:!1}function Le(){return this.isValid()?this._isUTC:!1}function Ne(){return this.isValid()?this._isUTC&&0===this._offset:!1}function He(t,e){var i,n,o,r=t,a=null;return ke(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(r={},e?r[e]=t:r.milliseconds=t):(a=Bo.exec(t))?(i="-"===a[1]?-1:1,r={y:0,d:w(a[no])*i,h:w(a[oo])*i,m:w(a[so])*i,s:w(a[ro])*i,ms:w(Se(1e3*a[ao]))*i}):(a=Uo.exec(t))?(i="-"===a[1]?-1:1,r={y:Be(a[2],i),M:Be(a[3],i),w:Be(a[4],i),d:Be(a[5],i),h:Be(a[6],i),m:Be(a[7],i),s:Be(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=$e(ye(r.from),ye(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new Ce(r),ke(t)&&l(t,"_locale")&&(n._locale=t._locale),n}function Be(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Ue(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function $e(t,e){var i;return t.isValid()&&e.isValid()?(e=Te(e,t),t.isBefore(e)?i=Ue(t,e):(i=Ue(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Ge(t,e){return function(i,n){var o,s;return null===n||isNaN(+n)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=n,n=s),i="string"==typeof i?+i:i,o=He(i,n),We(this,o,t),this}}function We(e,i,n,o){var s=i._milliseconds,r=Se(i._days),a=Se(i._months);e.isValid()&&(o=null==o?!0:o,s&&e._d.setTime(e._d.valueOf()+s*n),r&&U(e,"Date",B(e,"Date")+r*n),a&&ct(e,B(e,"Month")+a*n),o&&t.updateOffset(e,r||a))}function qe(t,e){var i=t.diff(e,"days",!0);return-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse"}function ze(e,i){var n=e||ye(),o=Te(n,this).startOf("day"),s=t.calendarFormat(this,o)||"sameElse",r=i&&(x(i[s])?i[s].call(this,n):i[s]);return this.format(r||this.localeData().calendar(s,this,ye(n)))}function Ve(){return new v(this)}function Ke(t,e){var i=y(t)?t:ye(t);return this.isValid()&&i.isValid()?(e=Y(g(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()):!1}function Xe(t,e){var i=y(t)?t:ye(t);return this.isValid()&&i.isValid()?(e=Y(g(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()):!1}function Je(t,e,i,n){return n=n||"()",("("===n[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))}function Qe(t,e){var i,n=y(t)?t:ye(t);return this.isValid()&&n.isValid()?(e=Y(e||"millisecond"),"millisecond"===e?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function Ze(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ti(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ei(t,e,i){var n,o,s,r;return this.isValid()?(n=Te(t,this),n.isValid()?(o=6e4*(n.utcOffset()-this.utcOffset()),e=Y(e),"year"===e||"month"===e||"quarter"===e?(r=ii(this,n),"quarter"===e?r/=3:"year"===e&&(r/=12)):(s=this-n,r="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-o)/864e5:"week"===e?(s-o)/6048e5:s),i?r:b(r)):0/0):0/0}function ii(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(o,"months");return 0>e-s?(i=t.clone().add(o-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(o+1,"months"),n=(e-s)/(i-s)),-(o+n)||0}function ni(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function oi(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():K(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function si(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]';return this.format(i+n+o+s)}function ri(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=K(this,e);return this.localeData().postformat(i)}function ai(t,e){return this.isValid()&&(y(t)&&t.isValid()||ye(t).isValid())?He({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function li(t){return this.from(ye(),t)}function ci(t,e){return this.isValid()&&(y(t)&&t.isValid()||ye(t).isValid())?He({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ui(t){return this.to(ye(),t)}function di(t){var e;return void 0===t?this._locale._abbr:(e=ee(t),null!=e&&(this._locale=e),this)}function hi(){return this._locale}function fi(t){switch(t=Y(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function pi(t){return t=Y(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function mi(){return Math.floor(this.valueOf()/1e3)}function vi(){return new Date(this.valueOf())}function yi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function bi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function wi(){return this.isValid()?this.toISOString():null}function _i(){return f(this)}function Ci(){return c({},h(this))}function ki(){return h(this).overflow}function Si(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xi(t,e){q(0,[t,t.length],0,e)}function Di(t){return Ai.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ti(t){return Ai.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Oi(){return kt(this.year(),1,4)}function Ei(){var t=this.localeData()._week;return kt(this.year(),t.dow,t.doy)}function Ai(t,e,i,n,o){var s;return null==t?Ct(this,n,o).year:(s=kt(t,n,o),e>s&&(e=s),Mi.call(this,t,e,i,n,o))}function Mi(t,e,i,n,o){var s=_t(t,e,i,n,o),r=bt(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Ii(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Pi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Ri(t,e){e[ao]=w(1e3*("0."+t))}function ji(){return this._isUTC?"UTC":""}function Yi(){return this._isUTC?"Coordinated Universal Time":""}function Fi(t){return ye(1e3*t)}function Li(){return ye.apply(null,arguments).parseZone()}function Ni(t){return t}function Hi(t,e,i,n){var o=ee(),s=u().set(n,e);return o[i](s,t)}function Bi(t,e,i){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return Hi(t,e,i,"month");var n,o=[];for(n=0;12>n;n++)o[n]=Hi(t,n,i,"month");return o}function Ui(t,e,i,n){"boolean"==typeof t?(s(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,s(e)&&(i=e,e=void 0),e=e||"");var o=ee(),r=t?o._week.dow:0;if(null!=i)return Hi(e,(i+r)%7,n,"day");var a,l=[];for(a=0;7>a;a++)l[a]=Hi(e,(a+r)%7,n,"day");return l}function $i(t,e){return Bi(t,e,"months")}function Gi(t,e){return Bi(t,e,"monthsShort")}function Wi(t,e,i){return Ui(t,e,i,"weekdays")}function qi(t,e,i){return Ui(t,e,i,"weekdaysShort")}function zi(t,e,i){return Ui(t,e,i,"weekdaysMin")}function Vi(){var t=this._data;return this._milliseconds=Zo(this._milliseconds),this._days=Zo(this._days),this._months=Zo(this._months),t.milliseconds=Zo(t.milliseconds),t.seconds=Zo(t.seconds),t.minutes=Zo(t.minutes),t.hours=Zo(t.hours),t.months=Zo(t.months),t.years=Zo(t.years),this}function Ki(t,e,i,n){var o=He(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function Xi(t,e){return Ki(this,t,e,1)}function Ji(t,e){return Ki(this,t,e,-1)}function Qi(t){return 0>t?Math.floor(t):Math.ceil(t)}function Zi(){var t,e,i,n,o,s=this._milliseconds,r=this._days,a=this._months,l=this._data;return s>=0&&r>=0&&a>=0||0>=s&&0>=r&&0>=a||(s+=864e5*Qi(en(a)+r),r=0,a=0),l.milliseconds=s%1e3,t=b(s/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,i=b(e/60),l.hours=i%24,r+=b(i/24),o=b(tn(r)),a+=o,r-=Qi(en(o)),n=b(a/12),a%=12,l.days=r,l.months=a,l.years=n,this}function tn(t){return 4800*t/146097}function en(t){return 146097*t/4800}function nn(t){var e,i,n=this._milliseconds;if(t=Y(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+tn(e),"month"===t?i:i/12;switch(e=this._days+Math.round(en(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function on(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)}function sn(t){return function(){return this.as(t)}}function rn(t){return t=Y(t),this[t+"s"]()}function an(t){return function(){return this._data[t]}}function ln(){return b(this.days()/7)}function cn(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function un(t,e,i){var n=He(t).abs(),o=gs(n.as("s")),s=gs(n.as("m")),r=gs(n.as("h")),a=gs(n.as("d")),l=gs(n.as("M")),c=gs(n.as("y")),u=o<ms.s&&["s",o]||1>=s&&["m"]||s<ms.m&&["mm",s]||1>=r&&["h"]||r<ms.h&&["hh",r]||1>=a&&["d"]||a<ms.d&&["dd",a]||1>=l&&["M"]||l<ms.M&&["MM",l]||1>=c&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=i,cn.apply(null,u)}function dn(t){return void 0===t?gs:"function"==typeof t?(gs=t,!0):!1}function hn(t,e){return void 0===ms[t]?!1:void 0===e?ms[t]:(ms[t]=e,!0)}function fn(t){var e=this.localeData(),i=un(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function pn(){var t,e,i,n=vs(this._milliseconds)/1e3,o=vs(this._days),s=vs(this._months);t=b(n/60),e=b(t/60),n%=60,t%=60,i=b(s/12),s%=12;var r=i,a=s,l=o,c=e,u=t,d=n,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var gn,mn;mn=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;i>n;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var vn=mn,yn=t.momentProperties=[],bn=!1,wn={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var _n;_n=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)l(t,e)&&i.push(e);return i};var Cn,kn=_n,Sn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Dn="Invalid date",Tn="%d",On=/\d{1,2}/,En={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},An={},Mn={},In=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Pn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rn={},jn={},Yn=/\d/,Fn=/\d\d/,Ln=/\d{3}/,Nn=/\d{4}/,Hn=/[+-]?\d{6}/,Bn=/\d\d?/,Un=/\d\d\d\d?/,$n=/\d\d\d\d\d\d?/,Gn=/\d{1,3}/,Wn=/\d{1,4}/,qn=/[+-]?\d{1,6}/,zn=/\d+/,Vn=/[+-]?\d+/,Kn=/Z|[+-]\d\d:?\d\d/gi,Xn=/Z|[+-]\d\d(?::?\d\d)?/gi,Jn=/[+-]?\d+(\.\d{1,3})?/,Qn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Zn={},to={},eo=0,io=1,no=2,oo=3,so=4,ro=5,ao=6,lo=7,co=8;Cn=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var uo=Cn;q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),q("MMMM",0,0,function(t){return this.localeData().months(this,t)}),j("month","M"),L("month",8),J("M",Bn),J("MM",Bn,Fn),J("MMM",function(t,e){return e.monthsShortRegex(t)}),J("MMMM",function(t,e){return e.monthsRegex(t)}),et(["M","MM"],function(t,e){e[io]=w(t)-1}),et(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[io]=o:h(i).invalidMonth=t});var ho=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),po="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),go=Qn,mo=Qn;q("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),j("year","y"),L("year",1),J("Y",Vn),J("YY",Bn,Fn),J("YYYY",Wn,Nn),J("YYYYY",qn,Hn),J("YYYYYY",qn,Hn),et(["YYYYY","YYYYYY"],eo),et("YYYY",function(e,i){i[eo]=2===e.length?t.parseTwoDigitYear(e):w(e)}),et("YY",function(e,i){i[eo]=t.parseTwoDigitYear(e)}),et("Y",function(t,e){e[eo]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var vo=H("FullYear",!0);q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),L("week",5),L("isoWeek",5),J("w",Bn),J("ww",Bn,Fn),J("W",Bn),J("WW",Bn,Fn),it(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=w(t)});var yo={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),q("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),q("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),J("d",Bn),J("e",Bn),J("E",Bn),J("dd",function(t,e){return e.weekdaysMinRegex(t)}),J("ddd",function(t,e){return e.weekdaysShortRegex(t)}),J("dddd",function(t,e){return e.weekdaysRegex(t)}),it(["dd","ddd","dddd"],function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:h(i).invalidWeekday=t}),it(["d","e","E"],function(t,e,i,n){e[n]=w(t)});var bo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_o="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Co=Qn,ko=Qn,So=Qn;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,$t),q("k",["kk",2],0,Gt),q("hmm",0,0,function(){return""+$t.apply(this)+W(this.minutes(),2)}),q("hmmss",0,0,function(){return""+$t.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),Wt("a",!0),Wt("A",!1),j("hour","h"),L("hour",13),J("a",qt),J("A",qt),J("H",Bn),J("h",Bn),J("HH",Bn,Fn),J("hh",Bn,Fn),J("hmm",Un),J("hmmss",$n),J("Hmm",Un),J("Hmmss",$n),et(["H","HH"],oo),et(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),et(["h","hh"],function(t,e,i){e[oo]=w(t),h(i).bigHour=!0}),et("hmm",function(t,e,i){var n=t.length-2;e[oo]=w(t.substr(0,n)),e[so]=w(t.substr(n)),h(i).bigHour=!0}),et("hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[oo]=w(t.substr(0,n)),e[so]=w(t.substr(n,2)),e[ro]=w(t.substr(o)),h(i).bigHour=!0}),et("Hmm",function(t,e,i){var n=t.length-2;e[oo]=w(t.substr(0,n)),e[so]=w(t.substr(n))}),et("Hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[oo]=w(t.substr(0,n)),e[so]=w(t.substr(n,2)),e[ro]=w(t.substr(o))});var xo,Do=/[ap]\.?m?\.?/i,To=H("Hours",!0),Oo={calendar:Sn,longDateFormat:xn,invalidDate:Dn,ordinal:Tn,ordinalParse:On,relativeTime:En,months:fo,monthsShort:po,week:yo,weekdays:bo,weekdaysMin:_o,weekdaysShort:wo,meridiemParse:Do},Eo={},Ao={},Mo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Io=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Po=/Z|[+-]\d\d(?::?\d\d)?/,Ro=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],jo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Yo=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=k("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Fo=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:p()}),Lo=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),No=function(){return Date.now?Date.now():+new Date};xe("Z",":"),xe("ZZ",""),J("Z",Xn),J("ZZ",Xn),et(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=De(Xn,t)});var Ho=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Bo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Uo=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;He.fn=Ce.prototype;var $o=Ge(1,"add"),Go=Ge(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Wo=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xi("gggg","weekYear"),xi("ggggg","weekYear"),xi("GGGG","isoWeekYear"),xi("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),J("G",Vn),J("g",Vn),J("GG",Bn,Fn),J("gg",Bn,Fn),J("GGGG",Wn,Nn),J("gggg",Wn,Nn),J("GGGGG",qn,Hn),J("ggggg",qn,Hn),it(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=w(t)}),it(["gg","GG"],function(e,i,n,o){i[o]=t.parseTwoDigitYear(e)}),q("Q",0,"Qo","quarter"),j("quarter","Q"),L("quarter",7),J("Q",Yn),et("Q",function(t,e){e[io]=3*(w(t)-1)}),q("D",["DD",2],"Do","date"),j("date","D"),L("date",9),J("D",Bn),J("DD",Bn,Fn),J("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),et(["D","DD"],no),et("Do",function(t,e){e[no]=w(t.match(Bn)[0],10)});var qo=H("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),L("dayOfYear",4),J("DDD",Gn),J("DDDD",Ln),et(["DDD","DDDD"],function(t,e,i){i._dayOfYear=w(t)}),q("m",["mm",2],0,"minute"),j("minute","m"),L("minute",14),J("m",Bn),J("mm",Bn,Fn),et(["m","mm"],so);var zo=H("Minutes",!1);q("s",["ss",2],0,"second"),j("second","s"),L("second",15),J("s",Bn),J("ss",Bn,Fn),et(["s","ss"],ro);var Vo=H("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),L("millisecond",16),J("S",Gn,Yn),J("SS",Gn,Fn),J("SSS",Gn,Ln);var Ko;for(Ko="SSSS";Ko.length<=9;Ko+="S")J(Ko,zn);for(Ko="S";Ko.length<=9;Ko+="S")et(Ko,Ri);var Xo=H("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var Jo=v.prototype;Jo.add=$o,Jo.calendar=ze,Jo.clone=Ve,Jo.diff=ei,Jo.endOf=pi,Jo.format=ri,Jo.from=ai,Jo.fromNow=li,Jo.to=ci,Jo.toNow=ui,Jo.get=$,Jo.invalidAt=ki,Jo.isAfter=Ke,Jo.isBefore=Xe,Jo.isBetween=Je,Jo.isSame=Qe,Jo.isSameOrAfter=Ze,Jo.isSameOrBefore=ti,Jo.isValid=_i,Jo.lang=Wo,Jo.locale=di,Jo.localeData=hi,Jo.max=Lo,Jo.min=Fo,Jo.parsingFlags=Ci,Jo.set=G,Jo.startOf=fi,Jo.subtract=Go,Jo.toArray=yi,Jo.toObject=bi,Jo.toDate=vi,Jo.toISOString=oi,Jo.inspect=si,Jo.toJSON=wi,Jo.toString=ni,Jo.unix=mi,Jo.valueOf=gi,Jo.creationData=Si,Jo.year=vo,Jo.isLeapYear=vt,Jo.weekYear=Di,Jo.isoWeekYear=Ti,Jo.quarter=Jo.quarters=Ii,Jo.month=ut,Jo.daysInMonth=dt,Jo.week=Jo.weeks=Tt,Jo.isoWeek=Jo.isoWeeks=Ot,Jo.weeksInYear=Ei,Jo.isoWeeksInYear=Oi,Jo.date=qo,Jo.day=Jo.days=Yt,Jo.weekday=Ft,Jo.isoWeekday=Lt,Jo.dayOfYear=Pi,Jo.hour=Jo.hours=To,Jo.minute=Jo.minutes=zo,Jo.second=Jo.seconds=Vo,Jo.millisecond=Jo.milliseconds=Xo,Jo.utcOffset=Ee,Jo.utc=Me,Jo.local=Ie,Jo.parseZone=Pe,Jo.hasAlignedHourOffset=Re,Jo.isDST=je,Jo.isLocal=Fe,Jo.isUtcOffset=Le,Jo.isUtc=Ne,Jo.isUTC=Ne,Jo.zoneAbbr=ji,Jo.zoneName=Yi,Jo.dates=k("dates accessor is deprecated. Use date instead.",qo),Jo.months=k("months accessor is deprecated. Use month instead",ut),Jo.years=k("years accessor is deprecated. Use year instead",vo),Jo.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ae),Jo.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ye);var Qo=O.prototype;Qo.calendar=E,Qo.longDateFormat=A,Qo.invalidDate=M,Qo.ordinal=I,Qo.preparse=Ni,Qo.postformat=Ni,Qo.relativeTime=P,Qo.pastFuture=R,Qo.set=D,Qo.months=st,Qo.monthsShort=rt,Qo.monthsParse=lt,Qo.monthsRegex=ft,Qo.monthsShortRegex=ht,Qo.week=St,Qo.firstDayOfYear=Dt,Qo.firstDayOfWeek=xt,Qo.weekdays=Mt,Qo.weekdaysMin=Pt,Qo.weekdaysShort=It,Qo.weekdaysParse=jt,Qo.weekdaysRegex=Nt,Qo.weekdaysShortRegex=Ht,Qo.weekdaysMinRegex=Bt,Qo.isPM=zt,Qo.meridiem=Vt,Qt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),t.lang=k("moment.lang is deprecated. Use moment.locale instead.",Qt),t.langData=k("moment.langData is deprecated. Use moment.localeData instead.",ee);var Zo=Math.abs,ts=sn("ms"),es=sn("s"),is=sn("m"),ns=sn("h"),os=sn("d"),ss=sn("w"),rs=sn("M"),as=sn("y"),ls=an("milliseconds"),cs=an("seconds"),us=an("minutes"),ds=an("hours"),hs=an("days"),fs=an("months"),ps=an("years"),gs=Math.round,ms={s:45,m:45,h:22,d:26,M:11},vs=Math.abs,ys=Ce.prototype;return ys.abs=Vi,ys.add=Xi,ys.subtract=Ji,ys.as=nn,ys.asMilliseconds=ts,ys.asSeconds=es,ys.asMinutes=is,ys.asHours=ns,ys.asDays=os,ys.asWeeks=ss,ys.asMonths=rs,ys.asYears=as,ys.valueOf=on,ys._bubble=Zi,ys.get=rn,ys.milliseconds=ls,ys.seconds=cs,ys.minutes=us,ys.hours=ds,ys.days=hs,ys.weeks=ln,ys.months=fs,ys.years=ps,ys.humanize=fn,ys.toISOString=pn,ys.toString=pn,ys.toJSON=pn,ys.locale=di,ys.localeData=hi,ys.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pn),ys.lang=Wo,q("X",0,0,"unix"),q("x",0,0,"valueOf"),J("x",Vn),J("X",Jn),et("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),et("x",function(t,e,i){i._d=new Date(w(t))}),t.version="2.16.0",e(ye),t.fn=Jo,t.min=we,t.max=_e,t.now=No,t.utc=u,t.unix=Fi,t.months=$i,t.isDate=r,t.locale=Qt,t.invalid=p,t.duration=He,t.isMoment=y,t.weekdays=Wi,t.parseZone=Li,t.localeData=ee,t.isDuration=ke,t.monthsShort=Gi,t.weekdaysMin=zi,t.defineLocale=Zt,t.updateLocale=te,t.locales=ie,t.weekdaysShort=qi,t.normalizeUnits=Y,t.relativeTimeRounding=dn,t.relativeTimeThreshold=hn,t.calendarFormat=qe,t.prototype=Jo,t}),define("flow/doit/sls",["just/fit/io","just/lang/class","justCache","jquery"],function(t,e,i,n){var o=20,s={},r=n("body").data("traceId")||n("body").data("traceid"),a=8===document.documentMode,l=function(){},c=function(t){if(window.JSON&&!a)return JSON.stringify(t);var e=typeof t;if("object"!=e||null===t)return"string"==e&&(t='"'+t+'"'),String(t);var i,n,o=[],s=t&&t.constructor==Array,r=arguments.callee;for(i in t)n=t[i],e=typeof n,t.hasOwnProperty(i)&&("string"==e?n='"'+n+'"':"object"==e&&null!==n&&(n=r(n)),o.push((s?"":'"'+i+'":')+String(n)));return(s?"[":"{")+String(o)+(s?"]":"}")},u=e(t,{init:function(e,n){this.callbackContext=e,t.prototype.init.call(this,"POST",n||i.get("urlLog")),this.params={},this.logs={}},setLogType:function(t){this.logType=t},execute:function(){this._onBeforeExecute(),!!this.params.level&&!!this.params.log&&this.request(this.params,{onSuccess:function(t){this.onSuccess.call(this.callbackContext,t)},onFailure:function(t){this.onFailure.call(this.callbackContext,t)},onError:function(){this.onError.call(this.callbackContext)},context:this})},addLog:function(t,e,i){i?(this.logs[t]?this.logs[t].push(e):this.logs[t]=[e],this.logs[t]&&this.logs[t].length>o&&(this.logs[t].shift(),this.logs[t][0]="number"==typeof this.logs[t][0]?this.logs[t][0]++:o+1)):this.logs[t]=e},clearLog:function(t){return t?void delete this.logs[t]:void(this.logs={})},setLevel:function(t){("ERROR"===t||"INFO"===t||"WARN"===t)&&(this.params.level=t)},_onBeforeExecute:function(){this.params.time=new Date+"",this.params.traceId=r,n.isEmptyObject(this.logs)?this.params.log=null:(this.logType&&(this.logs.logType=this.logType),this.params.log=c(this.logs))},onSuccess:l,onFailure:l,onError:l,callbackContext:null});return{create:function(t,e,i){return s[t]?s[t]:r?(s[t]=new u(e,i),s[t].setLogType(t),s[t]):void 0},get:function(t){return t?s[t]:void 0}}}),define("flow/doit/tracekit",function(){if(window){var t={},e=window.TraceKit,i=[].slice,n="?";function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t){return"undefined"==typeof t}t.noConflict=function(){return window.TraceKit=e,t},t.wrap=function(e){function i(){try{return e.apply(this,arguments)}catch(i){throw t.report(i),i}}return i},t.report=function(){var e=[],n=null,s=null,r=null;function a(t){f(),e.push(t)}function l(t){for(var i=e.length-1;i>=0;--i)e[i]===t&&e.splice(i,1)}function c(n,s){var r=null;if(!s||t.collectWindowErrors){for(var a in e)if(o(e,a))try{e[a].apply(null,[n].concat(i.call(arguments,2)))}catch(l){r=l}if(r)throw r}}var u,d;function h(e,i,n,o,s){var a=null;if(r)t.computeStackTrace.augmentStackTraceWithInitialElement(r,i,n,e),p();else if(s)a=t.computeStackTrace(s),c(a,!0);else{var l={url:i,line:n,column:o};l.func=t.computeStackTrace.guessFunctionName(l.url,l.line),l.context=t.computeStackTrace.gatherContext(l.url,l.line),a={mode:"onerror",message:e,stack:[l]},c(a,!0)}return u?u.apply(this,arguments):!1}function f(){d!==!0&&(u=window.onerror,window.onerror=h,d=!0)}function p(){var t=r,e=n;n=null,r=null,s=null,c.apply(null,[t,!1].concat(e))}function g(e){if(r){if(s===e)return;p()}var o=t.computeStackTrace(e);throw r=o,s=e,n=i.call(arguments,1),window.setTimeout(function(){s===e&&p()},o.incomplete?2e3:0),e}return g.subscribe=a,g.unsubscribe=l,g}(),t.computeStackTrace=function(){var e=!1,i={};function r(e){if(!t.remoteFetching)return"";try{var i=function(){try{return new window.XMLHttpRequest}catch(t){return new window.ActiveXObject("Microsoft.XMLHTTP")}},n=i();return n.open("GET",e,!1),n.send(""),n.responseText}catch(o){return""}}function a(t){if("string"!=typeof t)return[];if(!o(i,t)){var e="",n="";try{n=window.document.domain}catch(s){}var a=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(t);
a&&a[2]===n&&(e=r(t)),i[t]=e?e.split("\n"):[]}return i[t]}function l(t,e){var i,o=/function ([^(]*)\(([^)]*)\)/,r=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,l="",c=10,u=a(t);if(!u.length)return n;for(var d=0;c>d;++d)if(l=u[e-d]+l,!s(l)){if(i=r.exec(l))return i[1];if(i=o.exec(l))return i[1]}return n}function c(e,i){var n=a(e);if(!n.length)return null;var o=[],r=Math.floor(t.linesOfContext/2),l=r+t.linesOfContext%2,c=Math.max(0,i-r-1),u=Math.min(n.length,i+l-1);i-=1;for(var d=c;u>d;++d)s(n[d])||o.push(n[d]);return o.length>0?o:null}function u(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function d(t){return u(t).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function h(t,e){for(var i,n,o=0,s=e.length;s>o;++o)if((i=a(e[o])).length&&(i=i.join("\n"),n=t.exec(i)))return{url:e[o],line:i.substring(0,n.index).split("\n").length,column:n.index-i.lastIndexOf("\n",n.index)-1};return null}function f(t,e,i){var n,o=a(e),s=new RegExp("\\b"+u(t)+"\\b");return i-=1,o&&o.length>i&&(n=s.exec(o[i]))?n.index:null}function p(t){if(!s(window&&window.document)){for(var e,i,n,o,r=[window.location.href],a=window.document.getElementsByTagName("script"),l=""+t,c=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,f=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,p=0;p<a.length;++p){var g=a[p];g.src&&r.push(g.src)}if(n=c.exec(l)){var m=n[1]?"\\s+"+n[1]:"",v=n[2].split(",").join("\\s*,\\s*");e=u(n[3]).replace(/;$/,";?"),i=new RegExp("function"+m+"\\s*\\(\\s*"+v+"\\s*\\)\\s*{\\s*"+e+"\\s*}")}else i=new RegExp(u(l).replace(/\s+/g,"\\s+"));if(o=h(i,r))return o;if(n=f.exec(l)){var y=n[1];if(e=d(n[2]),i=new RegExp("on"+y+"=[\\'\"]\\s*"+e+"\\s*[\\'\"]","i"),o=h(i,r[0]))return o;if(i=new RegExp(e),o=h(i,r))return o}return null}}function g(t){if(!t.stack)return null;for(var e,i,o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|webpack|eval).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,r=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=t.stack.split("\n"),d=[],h=/^(.*) is undefined$/.exec(t.message),p=0,g=u.length;g>p;++p){if(e=o.exec(u[p])){var m=e[2]&&-1!==e[2].indexOf("native");i={url:m?null:e[2],func:e[1]||n,args:m?[e[2]]:[],line:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}else if(e=a.exec(u[p]))i={url:e[2],func:e[1]||n,args:[],line:+e[3],column:e[4]?+e[4]:null};else{if(!(e=r.exec(u[p])))continue;i={url:e[3],func:e[1]||n,args:e[2]?e[2].split(","):[],line:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}!i.func&&i.line&&(i.func=l(i.url,i.line)),i.line&&(i.context=c(i.url,i.line)),d.push(i)}return d.length?(d[0]&&d[0].line&&!d[0].column&&h?d[0].column=f(h[1],d[0].url,d[0].line):d[0].column||s(t.columnNumber)||(d[0].column=t.columnNumber+1),{mode:"stack",name:t.name,message:t.message,stack:d}):null}function m(t){var e=t.stacktrace;if(e){for(var i,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,s=e.split("\n"),r=[],a=0;a<s.length;a+=2){var u=null;if((i=n.exec(s[a]))?u={url:i[2],line:+i[1],column:null,func:i[3],args:[]}:(i=o.exec(s[a]))&&(u={url:i[6],line:+i[1],column:+i[2],func:i[3]||i[4],args:i[5]?i[5].split(","):[]}),u){if(!u.func&&u.line&&(u.func=l(u.url,u.line)),u.line)try{u.context=c(u.url,u.line)}catch(d){}u.context||(u.context=[s[a+1]]),r.push(u)}}return r.length?{mode:"stacktrace",name:t.name,message:t.message,stack:r}:null}}function v(t){var e=t.message.split("\n");if(e.length<4)return null;var i,n=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,r=/^\s*Line (\d+) of function script\s*$/i,u=[],f=window&&window.document&&window.document.getElementsByTagName("script"),p=[];for(var g in f)o(f,g)&&!f[g].src&&p.push(f[g]);for(var m=2;m<e.length;m+=2){var v=null;if(i=n.exec(e[m]))v={url:i[2],func:i[3],args:[],line:+i[1],column:null};else if(i=s.exec(e[m])){v={url:i[3],func:i[4],args:[],line:+i[1],column:null};var y=+i[1],b=p[i[2]-1];if(b){var w=a(v.url);if(w){w=w.join("\n");var _=w.indexOf(b.innerText);_>=0&&(v.line=y+w.substring(0,_).split("\n").length)}}}else if(i=r.exec(e[m])){var C=window.location.href.replace(/#.*$/,""),k=new RegExp(d(e[m+1])),S=h(k,[C]);v={url:C,func:"",args:[],line:S?S.line:i[1],column:null}}if(v){v.func||(v.func=l(v.url,v.line));var x=c(v.url,v.line),D=x?x[Math.floor(x.length/2)]:null;v.context=x&&D.replace(/^\s*/,"")===e[m+1].replace(/^\s*/,"")?x:[e[m+1]],u.push(v)}}return u.length?{mode:"multiline",name:t.name,message:e[0],stack:u}:null}function y(t,e,i,n){var o={url:e,line:i};if(o.url&&o.line){t.incomplete=!1,o.func||(o.func=l(o.url,o.line)),o.context||(o.context=c(o.url,o.line));var s=/ '([^']+)' /.exec(n);if(s&&(o.column=f(s[1],o.url,o.line)),t.stack.length>0&&t.stack[0].url===o.url){if(t.stack[0].line===o.line)return!1;if(!t.stack[0].line&&t.stack[0].func===o.func)return t.stack[0].line=o.line,t.stack[0].context=o.context,!1}return t.stack.unshift(o),t.partial=!0,!0}return t.incomplete=!0,!1}function b(e,i){for(var o,s,r,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,c=[],u={},d=!1,h=b.caller;h&&!d;h=h.caller)if(h!==w&&h!==t.report){if(s={url:null,func:n,args:[],line:null,column:null},h.name?s.func=h.name:(o=a.exec(h.toString()))&&(s.func=o[1]),"undefined"==typeof s.func)try{s.func=o.input.substring(0,o.input.indexOf("{"))}catch(g){}if(r=p(h)){s.url=r.url,s.line=r.line,s.func===n&&(s.func=l(s.url,s.line));var m=/ '([^']+)' /.exec(e.message||e.description);m&&(s.column=f(m[1],r.url,r.line))}u[""+h]?d=!0:u[""+h]=!0,c.push(s)}i&&c.splice(0,i);var v={mode:"callers",name:e.name,message:e.message,stack:c};return y(v,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),v}function w(t,i){var n=null;i=null==i?0:+i;try{if(n=m(t))return n}catch(o){if(e)throw o}try{if(n=g(t))return n}catch(o){if(e)throw o}try{if(n=v(t))return n}catch(o){if(e)throw o}try{if(n=b(t,i+1))return n}catch(o){if(e)throw o}return{mode:"failed"}}function _(t){t=(null==t?0:+t)+1;try{throw new Error}catch(e){return w(e,t+1)}}return w.augmentStackTraceWithInitialElement=y,w.guessFunctionName=l,w.gatherContext=c,w.ofCaller=_,w.getSource=a,w}(),t.extendToAsynchronousCallbacks=function(){var e=function(e){var n=window[e];window[e]=function(){var e=i.call(arguments),o=e[0];return"function"==typeof o&&(e[0]=t.wrap(o)),n.apply?n.apply(this,e):n(e[0],e[1])}};e("setTimeout"),e("setInterval")},t.remoteFetching||(t.remoteFetching=!0),t.collectWindowErrors||(t.collectWindowErrors=!0),(!t.linesOfContext||t.linesOfContext<1)&&(t.linesOfContext=11),"undefined"!=typeof module&&module.exports&&window.module!==module?module.exports=t:"function"==typeof define&&define.amd?define("TraceKit",[],t):window.TraceKit=t}}),define("flow/trade/module/order-list/order-classification",["jquery"],function(t){return{init:function(){t(".order-list .order-classification").mouseenter(this.orderClassificationMouseOver),t(".order-list .order-classification").mouseleave(this.orderClassificationMouseOut)},orderClassificationMouseOver:function(){t(this).attr("data-dropdown","")},orderClassificationMouseOut:function(){t(this).removeAttr("data-dropdown")}}}),define("flow/trade/module/order-list/more-status",["jquery"],function(t){return{init:function(){t(".order-list .more-status").show(),t(".order-list .more-status .unit-switch-select").mouseenter(this.mouseover),t(".order-list .more-status .unit-switch-select").mouseleave(this.mouseleave)},mouseover:function(){t(this).attr("data-dropdown","")},mouseleave:function(){t(this).removeAttr("data-dropdown")}}}),define("flow/trade/module/order-list/filter/trade-status",["pitaya/unit/select","jquery","just/fit/observer"],function(t,e,i){return{init:function(){this.$tradeStatus=e(".order-list .mod-filter .trade-status"),this.tradeStatus=t.startup(this.$tradeStatus),i.notify("trade-status","initChanged",this.tradeStatus.get("value")),this.tradeStatus.on("change",this.change,this)},change:function(){i.notify("trade-status","changed",this.tradeStatus.get("value")),this.$tradeStatus.val(this.tradeStatus.get("value"))}}}),define("flow/trade/module/order-list/filter/trade-time-select",["jquery","doit/widget/util/date-util","pitaya/unit/date-time-picker","flow/trade/module/order-list/filter/trade-time-select-logic"],function(t,e,i,n){return{init:function(){this.initStartDateTimePicker(),this.initEndDateTimePicker()},getDateElements:function(e,i,n){var o=t(".order-list .mod-filter"),s=o.find(e),r=o.find(i),a=o.find(n);return[s,r,a]},getStartDateElements:function(){return this.getDateElements(".start-date",".start-hour",".start-minute")},getEndDateElements:function(){return this.getDateElements(".end-date",".end-hour",".end-minute")},getFilterStartDateTime:function(){return this.getFilterDate.apply(this,this.getStartDateElements())},getFilterEndDateTime:function(){return this.getFilterDate.apply(this,this.getEndDateElements())},getFilterDate:function(t,e,i){var o=t.val(),s=e.val(),r=i.val();return n.concatDateTime(o,s,r)},initDateTimePicker:function(e,n,o){var s=i.startup(e),r=this.isBuyer(),a={hasTime:r?!1:!0,dateChangeHidePopup:r?!0:!1,timeFormat:"HH:mm",maxDate:new Date,locale:{format:r?"YYYY-MM-DD":"YYYY-MM-DD HH:mm"}};return t.extend(!0,a,o),n&&(a.dateTime=n),s.notify("updateOptions",a),s},isBuyer:function(){return"true"===t(".order-list .mod-filter").find('input[name="isBuyer"]').val()?!0:!1},initStartDateTimePicker:function(){var e=t(".order-list .mod-filter .start-date-chosen-container"),i=this.getFilterStartDateTime(),n=this.initDateTimePicker(e,i,{placeholder:"\u70b9\u51fb\u9009\u62e9\u5f00\u59cb\u65e5\u671f"});n.attach("dateTimeChanged",this.startDateTimeChange,this)},initEndDateTimePicker:function(){var e=t(".order-list .mod-filter .end-date-chosen-container"),i=this.getFilterEndDateTime(),n=this.initDateTimePicker(e,i,{defaultHour:"23",defaultMinute:"59",defaultSecond:"59",placeholder:"\u70b9\u51fb\u9009\u62e9\u7ed3\u675f\u65e5\u671f",align:"br"});n.attach("dateTimeChanged",this.endDateTimeChange,this)},startDateTimeChange:function(t){var i=this.getStartDateElements();this.isBuyer()&&t&&(t=e(t).hour(0).minute(0)),this.setDateElementValue(i,t)},endDateTimeChange:function(t){var i=this.getEndDateElements();this.isBuyer()&&t&&(t=e(t).hour(23).minute(59)),this.setDateElementValue(i,t)},setDateElementValue:function(i,n){n=n?[e(n).format("YYYY-MM-DD"),e(n).get("hour"),e(n).get("minute")]:["","",""],t.each(i,function(t,e){e.length&&e.val(n[t])})}}}),define("flow/trade/module/order-list/filter/trade-time-select-logic",[],function(){return{concatDateTime:function(t,e,i){var n="";return t&&(n+=t,e&&i&&(n=n+" "+e+":"+i)),n}}}),define("flow/trade/module/order-list/mod/filter/settle-status",["pitaya/unit/select","jquery","just/fit/observer"],function(t,e,i){return{init:function(){var n=e("#orderSettleFlag"),o=n.parent(".item-search-settle");if(n.length){var s=t.startup(n);s.attachChanged("value",function(){n.val(s.get("value"))}),i.attach("isPaymentMethodDxfz",function(t){t?o.removeClass("fd-hide"):(o.addClass("fd-hide"),s.set("value",""))})}}}}),define("flow/trade/module/order-list/filter/trade-type-search",["pitaya/unit/select","jquery","just/fit/observer"],function(t,e,i){return{init:function(){this.$tradeTypeSearch=e(".order-list .mod-filter .trade-type-search"),this.tradeTypeSearch=t.startup(this.$tradeTypeSearch),this.tradeTypeSearch.on("change",this.change,this)},change:function(){var t=this.tradeTypeSearch.get("value");this.$tradeTypeSearch.val(t),i.notify("isPaymentMethodDxfz","dxfz"===t)}}}),define("flow/trade/module/order-list/filter/biz-type-search",["pitaya/unit/select","jquery"],function(t,e,i){return{init:function(){this.$bizTypeSearch=e(".order-list .mod-filter .biz-type-search"),this.bizTypeSearch=t.startup(this.$bizTypeSearch),this.bizTypeSearch.on("change",this.change,this)},change:function(){this.$bizTypeSearch.val(this.bizTypeSearch.get("value"))}}}),define("flow/trade/module/actions/action-batch-close-order",["jquery","doit/widget/util/web-util","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl","flow/trade/module/alert-dialog-tpl"],function(t,e,i,n,o){"use strict";var s={TITLE:"\u786e\u8ba4\u6279\u91cf\u5173\u95ed",VALID:"\u60a8\u9009\u62e9\u7684\u8ba2\u5355\u4e2d\uff0c{0}\u6761\u7b26\u5408\u6279\u91cf\u5173\u95ed\u6761\u4ef6\uff0c\u662f\u5426\u786e\u8ba4\u5173\u95ed\uff1f",INVALID:"\u60a8\u9009\u62e9\u7684\u8ba2\u5355\u5747\u4e0d\u7b26\u5408\u6279\u91cf\u5173\u95ed\u6761\u4ef6\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"},r={ct:null,msgDlg:null,splashDlg:null,btnBatchClose:null,urlCheck:null,init:function(e,i,n){this.ct=e,this.msgDlg=i,this.splashDlg=n,this.btnBatchClose=t("#batchCloseOrder"),this.urlCheck=t("#batchCloseTradeCheckUrl").val(),this.bind()},bind:function(){var t=this;this.btnBatchClose.on("click",function(e){e.preventDefault();var i=t.getOrderIds();i?t.check(i,function(e,i){t.feedback(e,i)}):t.showWarnMessage()})},feedback:function(i,n){this.msgDlg.show(i>0?{title:s.TITLE,message:e.getBundleMsg(s.VALID,i),onOkClick:function(){this.hide(),t("#formBatchCloseTrade").find("input[name=orderIds]").val(n.join(",")).end().submit()}}:{title:s.TITLE,message:s.INVALID,onOkClick:function(){this.hide(),t("#selectAllCancel").click()}})},check:function(e,i){var n=this,o=t.ajax({url:this.urlCheck,type:"POST",dataType:"json",data:{orderIds:e,_csrf_token:this.getCsrfToken()}});o.done(function(t){t.success+""=="false"?n.showErrorMessage(t.errorMessage):i(t.data.count,t.data.orderIds||[])}),o.fail(function(){n.showErrorMessage("\u62b1\u6b49\uff0c\u6279\u91cf\u5173\u95ed\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")})},getOrderIds:function(){var e=[];return t("#bd").find("ul > li").each(function(){var i=t(this),n=i.find("input.single-select");n.prop("checked")&&e.push(i.find("input.tradeId").val())}),e.join(",")},showWarnMessage:function(){var t=this;return t.selectNonePopWin?void t.selectNonePopWin.show({title:"\u63d0\u793a",message:"\u8bf7\u9009\u62e9\u4f60\u8981\u5173\u95ed\u7684\u8ba2\u5355"}):(t.selectNonePopWin=new i({tpl:o,msgBoxSelector:".content .container"}),void t.selectNonePopWin.show({title:"\u63d0\u793a",message:"\u8bf7\u9009\u62e9\u4f60\u8981\u5173\u95ed\u7684\u8ba2\u5355"}))},showErrorMessage:function(t){this.msgDlg.show({title:"\u786e\u8ba4\u6279\u91cf\u5173\u95ed",msgType:"error",message:t})},getCsrfToken:function(){return this.ct.find("input[name=_csrf_token]").val()}};return r}),define("flow/trade/module/order-list/is-hidden-cancel-offer",["pitaya/lang/checkbox","jquery","just/lang/string","just/lang/boolean","just/fit/observer"],function(t,e,i,n,o){function s(t){return t=t.replace(/>/g,"&gt;"),t=t.replace(/</g,"&lt;"),t=t.replace(/"/g,"&quot;"),t=t.replace(/'/g,"&#39;")}return{init:function(){this.$isHiddenCanceledOfferCheckedContainer=e(".order-list .is-hidden-canceled-offer-container"),this.$checkbox=t.startup(e(".order-list .is-hidden-canceled-offer-lang")),o.notify("isHiddenCanceledOfferInited"),this.wait()},wait:function(){this.$checkbox.on("change",this.changeIsHiddenCanceledOffer,this),o.attach("trade-status",function(t){switch(t){case"changed":case"initChanged":var e=arguments[1];this.handleTradeStatusChanged(e)}},this)},changeIsHiddenCanceledOffer:function(){this.aliclick(),this.search()},aliclick:function(){var t=this.$checkbox.get("checked");t?aliclick(null,"?tracelog=20120313bscenterhiddencancel"):aliclick(null,"?tracelog=20120313bscenternothiddencancel")},getSearchObj:function(){var t={},e=s(window.location.search&&window.location.search.split("?")&&window.location.search.split("?")[1]);return e&&(t=i.parse(e,"&","=")),t},search:function(){var t=this.getSearchObj();this.$checkbox.get("checked")?t.isHiddenCanceledOffer=this.$checkbox.get("checked")?"canceled":"":(delete t.isHiddenCanceledOffer,delete t.is_hidden_canceled_offer),window.location.search=i.stringify(t)},handleTradeStatusChanged:function(t){"cancel"===t?(this.$isHiddenCanceledOfferCheckedContainer.hide(),this.$checkbox.set("checked",!1)):this.$isHiddenCanceledOfferCheckedContainer.show()}}}),define("flow/trade/module/order-list/list-misc",["jquery","doit/widget/ui/bubbletip","doit/widget/ui/bubbletip-dpl-tpl"],function(t,e,i){var n={initRefundTips:function(){this.mainCt.find("a.assure-refund").each(function(n,o){var s=t(o),r=s.closest("tr");if(r.length>0&&"none"!==r.css("display")){var a=t('<div style="position:relative"></div>').prependTo(s.closest("li"));return new e({zIndex:10,tipGroup:null,showEvent:null,hideEvent:null,hideDelay:!1,isAutoFitWidth:!0,arrowMargin:20,enableClose:!0,applyTo:s,container:a,contentHtml:"\u70b9\u51fb\u67e5\u770b\u9000\u6b3e\u8be6\u60c5",alignType:"bl",appendOffset:{left:-10},isAutoFitInnerWidth:!1,tpl:i}).show(),!1}})},initRepaymentDateTip:function(){this.mainCt.find("div.accountperiod-repayment-date-tip").each(function(n,o){var s=t(o),r=s.prev(),a=t('<div style="position:relative"></div>').prependTo(s.closest("li")),l=new e({zIndex:10,tipGroup:null,hideEvent:null,hideDelay:!1,isAutoFitWidth:!0,isAutoFitInnerWidth:!1,arrowMargin:40,enableClose:!0,applyTo:r,container:a,contentHtml:s.html(),alignType:"bl",tpl:i});l.show(),this.tip=l})},init:function(){this.mainCt=t("#new-content"),this.initRefundTips(),this.initRepaymentDateTip()}};n.init()});var targetProtocol=0===location.protocol.indexOf("https")?"https://":"http://",fitProtocol=function(t){return"string"==typeof t?t.replace(/^(?:http:)?\/\//i,targetProtocol):t};function dateCheck(){return!1}function onSearch(){return!1}function onModify(){return!1}var fireEventHandler=function(t,e){if(0<FDEV.env.ua.ie&&FDEV.env.ua.ie<9)t.fireEvent("on"+e);else{var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}};FYE.onDOMReady(function(){!function(){var t=FYS("div.sBox a.more","orderList"),e=FYS("div.sBox input.ipt-text","orderList"),i=FYS("input.orderno","orderList"),n=/^\d*$/,o="";FYE.on(t,"click",function(t){FYE.preventDefault(t);var e=FYD.getNextSibling(FYD.getAncestorByTagName(this,"p"));FYD.hasClass(this,"down")?(FYD.removeClass(this,"down"),FYD.addClass(this,"up"),FYD.setStyle(e,"display","")):(FYD.removeClass(this,"up"),FYD.addClass(this,"down"),FYD.setStyle(e,"display","none"))});function s(){this.value=YAHOO.lang.trim(this.value),this.value?n.test(this.value)?o=this.value:this.value=o:o=""}FYE.on(i,"keyup",s),FYE.on(i,"blur",s),FYE.on(e,"blur",function(){this.value=YAHOO.lang.trim(this.value)})}(),function(){var t,e,i=FYS("a.btnEdit"),n=FYS("div.edit a.right"),o=(FYS("div.edit a.left"),FYG("editFrame")),s=FYS("div.edit td.c2 input"),r=FYS("div.edit td.c3 input"),a=/^\d*(\.\d*)?$/,l=/^([-+]?\d*)?(\d\.\d*)?$/;function c(){this.value?a.test(this.value)?t=this.value:this.value=t:t=""}function u(){this.value?l.test(this.value)?e=this.value:this.value=e:e=""}function d(){var t,e=FYD.getAncestorByClassName(this,"edit"),i=FYS("input.oldPrice",e,!0),n=FYS("td.c2 input",e,!0),o=FYS("td.c3 input",e,!0),s=FYS("td.c4",e,!0),r=FYS("input.fare",e,!0),a=FYS("input.discount",e,!0),l=FYS("div.total",s,!0),c=FYS("div.tip",s,!0),u=FYS("div.err",e);"none"==FYD.getStyle(u[0],"display")&&"none"==FYD.getStyle(u[1],"display")&&(r.value=n.value,a.value=o.value,l.innerHTML=t=(1*i.value+1*(n.value||0)+1*(o.value||0)).toFixed(2),0>=t?(FYD.setStyle(c,"display","none"),FYD.setStyle(u[2],"display","")):(FYD.setStyle(u[2],"display","none"),FYD.setStyle(c,"display","")))}FYE.on(i,"click",function(i){FYE.preventDefault(i);var n=FYD.getAttribute(this,"tradeType");if("assure"!=n&&"unify"!=n){var s,r=FYD.getAttribute(this,"src"),a=FYD.getAncestorByTagName(this,"li"),l=FYD.getXY(this);if(r){s=o;var c=FYS("iframe",s,!0);c.src=fitProtocol(r+"&t="+(new Date).getTime())}else{s=FYS("div.edit",a,!0);var u=FYS("td.c2 input",s,!0),d=FYS("td.c3 input",s,!0),h=FYS("input.oldFare",s,!0),f=FYS("input.oldDiscount",s,!0),p=FYS("input.oldPrice",s,!0),g=FYS("div.total",s,!0),m=FYS("div.tip",s),v=FYS("div.err",s);u.value=t=h.value,d.value=e=f.value,FYD.setStyle(m,"display",""),FYD.setStyle(v,"display","none"),g.innerHTML=(1*p.value+1*(u.value||0)+1*(d.value||0)).toFixed(2)}FD.widget.block(s,{css:{left:l[0]-636+"px",top:l[1]+14+"px"}})}}),FYE.on(n,"click",function(t){FYE.preventDefault(t),FD.widget.unblock(window)}),FYE.on(s,"keyup",c),FYE.on(r,"keyup",u),FYE.on(s,"blur",function(){if(c.call(this),!this.value||a.test(this.value)){var e=FYD.getAncestorByTagName(this,"td"),i=FYS("div.tip",e,!0),n=FYS("div.err",e);this.value=t=(1*("0"+this.value)).toFixed(2),1*t>1e7?(FYD.setStyle(i,"display","none"),FYD.setStyle(n,"display","")):(FYD.setStyle(n,"display","none"),FYD.setStyle(i,"display",""),d.call(this))}}),FYE.on(r,"blur",function(){if(u.call(this),!this.value||l.test(this.value)){var t=FYD.getAncestorByTagName(this,"td"),i=FYS("div.tip",t,!0),n=FYS("div.err",t);/^[-+]$/.test(this.value)&&(this.value=0),this.value=e=(1*this.value).toFixed(2),1*e>1e7||-1e7>e?(FYD.setStyle(i,"display","none"),FYD.setStyle(n,"display","")):(FYD.setStyle(n,"display","none"),FYD.setStyle(i,"display",""),d.call(this))}}),onModify=function(t){for(var e=FYS("div.err",t),i=0;i<e.length;i++)if("none"!=FYD.getStyle(e[i],"display"))return!1;return!0}}(),function(){var t=FYS("a.btnDelay"),e=FYG("delayFrame");FYE.on(t,"click",function(t){FYE.preventDefault(t);var i,n=FYD.getAttribute(this,"src"),o=(FYD.getAncestorByTagName(this,"li"),FYD.getXY(this));if(n){i=e;var s=FYS("iframe",i,!0);s.src=fitProtocol(n+"&t="+(new Date).getTime())}FD.widget.block(i,{css:{left:o[0]-460+"px",top:o[1]-80+"px"}})})}(),function(){var t,e,i=FYG("btnExport");i&&(t=FYD.getAttribute(i,"url"),cournt=1*FYD.getAttribute(i,"cournt"),FYE.on(i,"click",function(){if(!e){if(cournt>1e3)return void alert("\u60a8\u5f53\u524d\u5bfc\u51fa\u7684\u8ba2\u5355\u6570\u8d85\u8fc7\u6700\u5927\u9650\u52361000\u6761\uff0c\u8bf7\u7b5b\u9009\u540e\u518d\u5bfc\u51fa\uff01");window.location.href=t,FYD.addClass(this,"btn-a-disabled");var i=this;e=setTimeout(function(){FYD.removeClass(i,"btn-a-disabled"),e=null},5e3)}}))}(),function(){var t=FYG("modComment"),e=(FYS("span.err",t,!0),FYG("left-token-count"),FYS("a.confirm",t,!0),FYG("cmtUrl"),FYS("input[type=radio]",t),FYS("span.close,a.cancel",t),null),i=null;function n(){i&&e&&i.html("\u6700\u591a<font style='color:#666'>"+(500-e.val().length)+"</font>\u5b57")}define(["jquery","doit/widget/ui/placeholder"],function(o,s){i=o("#left-token-count"),e=o("textarea",o(t)).first(),e.length>0&&(e=new s({container:e}).ct,e.keyup(function(){n()}))}),aliclick(null,"?tracelog=20120330bscenterClickComment")}(),onSearch=function(){return dateCheck()?!1:!1},FYE.on(FYS("a.folderclose",document),"click",function(){jQuery(this).parent().removeAttr("data-show");var t=FYS("table td table tr",FYD.getAncestorByTagName(this,"li"));t.length>3&&(t.forEach(function(){arguments[1]>=3&&(arguments[0].style.display="none")}),this.style.display="none",FYD.getNextSibling(this).style.display="",document.body.scrollTop?document.body.scrollTop-=92*(t.length-3):document.documentElement.scrollTop-=92*(t.length-3))}),FYE.on(FYS("a.folderopen",document),"click",function(){jQuery(this).parent().attr("data-show","true");var t=FYS("table table",FYD.getAncestorByTagName(this,"li"),!0),e=t.rows;if(temp=this,e.length>3)Array.prototype.forEach.call(e,function(){arguments[0].style.display=""});else if(3==e.length){var i={onCallback:function(i){var n,o=i;if(o)for(var s,r,a,l,c,u,d=o.orderEntrys,h=0;h<d.length;h++){var f=t.insertRow(e.length),r=d[h].snapshotUrl,a=d[h].productName,l=d[h].quantityTrade,c=d[h].unitPrice,s=d[h].miniImg,p=d[h].refundStatus,g=d[h].refundUrl,u=d[h].detailUrl;if(n=[],td=f.insertCell(0),FYD.addClass(td,"s1"),td.innerHTML='<a target="_blank" href="'+r+'"><img onload="resizeImage(this, 76, 76, true)" src="'+fitProtocol(s)+'" /></a>',td=f.insertCell(1),FYD.addClass(td,"s2"),n.push('<a target="_blank" href="'+r+'">'+a+'</a><div class="offer-item-detail">'),d[h].specInfo){for(var m,v='<div class="trade-spec">',y=0,b=d[h].specInfo.length;b>y;y++)m=d[h].specInfo[y],v+='<span class="spec-item">'+m.specName+"\uff1a"+m.specValue+(m.unit||"")+"</span>";v+="</div>",n.push(v)}if(d[h].guaranteeSupport&&n.push('<div class="guarantee-icons fd-clr"><a class="guarantee-card" target="_blank" href="'+d[h].guaranteeUrl+'" title="\u4fdd\u969c\u5361">\u4fdd\u969c\u5361</a></div>'),d[h].coupon&&d[h].unit&&n.push('<div class="voucher-icons"><img src="//cbu01.alicdn.com/cms/upload/2010/653/600/6356_719516335.gif" title="\u62b5\u4ef7\u5238\u53ef\u62b5\u7528'+d[h].coupon.toFixed(2)+"\u5143/"+d[h].unit+'" /></div>'),n.push("</div>"),td.innerHTML=n.join(""),td=f.insertCell(2),FYD.addClass(td,"s3"),td.innerHTML='<div title="'+c+'">'+c+"</div>",td=f.insertCell(3),FYD.addClass(td,"s4"),td.innerHTML='<div title="'+l+'">'+l+"</div>",td=f.insertCell(4),FYD.addClass(td,"s9"),""!=p){var w="";switch(p){case"waitselleragree":w="\u9000\u6b3e\u4e2d";break;case"refundclose":w="\u9000\u6b3e\u5173\u95ed";break;case"refundsuccess":w="\u9000\u6b3e\u6210\u529f"}td.innerHTML='<div><a href="'+g+'" target="_blank">'+w+"</a></div>"}else td.innerHTML="&nbsp;";if(""!=u){var _="\u518d\u6b21\u8d2d\u4e70",C='<div><a href="'+u+'" target="_blank">'+_+"</a></div>";td.innerHTML=C+td.innerHTML}}}},n=FYD.getAttribute(this,"reqUrl");FD.common.request("jsonp",n,i)}this.style.display="none",FYD.getPreviousSibling(this).style.display=""}),FE.util.alitalk(jQuery("a[alitalk]"),{onRemote:function(){FYD.hasClass(this,"notextalitalk")&&(this.innerHTML="&nbsp;")}}),function(){var t=FYG("urlRate"),e=FYG("memberId"),i=FYG("memberRole"),n=FYS("input[name=is_his]");if(t&&e&&i){for(var o=FYG("listBox"),s={memberId:e.value,memberRole:i.value,tradeType:"order"},r=FYS("p.remark",o),a=[],l=0,c=r.length;c>l;l++){var u=FYD.getAncestorByTagName(r[l],"li"),d=FYD.getAttribute(u,"tradeid");d&&a.push(d)}function h(){if(!n.length||"y"!=n[0].value){var t=FYG("urlRemark");if(t){t=t.value;for(var e=0,i=r.length;i>e;e++){var o=r[e],s=FYD.getAncestorByTagName(o,"li");if(!FYD.hasClass(s,"stopped")){var a=FYD.getAttribute(s,"tradeid");if(a&&!o.childNodes.length){var l=document.createElement("a");l.target="_blank",l.className="remarkIcon",l.href=t.replace("{tradeId}",a),o.appendChild(l)}}}}}}a.length&&(s.tradeIds=a.join(),FD.common.request("jsonp",t.value,{onCallback:function(t){if(YAHOO.lang.isValue(t.count)){for(var e=0,i=t.list.length;i>e;e++){var s=t.list[e],r=FYS("li[tradeid="+s.tradeId+"]",o,!0);if(r){var a=FYS("p.remark",r,!0);if("\u53cc\u65b9\u672a\u8bc4"==s.status){document.createTextNode("\u53cc\u65b9\u672a\u8bc4")}else if("\u5bf9\u65b9\u672a\u8bc4"==s.status){var l=document.createElement("a");l.target="_blank",l.innerHTML="\u5bf9\u65b9\u672a\u8bc4",l.href=s.statusURL,l.className="has-remark",a.appendChild(l)}else if("\u53cc\u65b9\u5df2\u8bc4"==s.status){var c=document.createElement("a");c.target="_blank",c.innerHTML="\u53cc\u65b9\u5df2\u8bc4",c.href=s.statusURL,c.className="has-remark",a.appendChild(c)}else{var u=document.createElement("a");u.target="_blank",u.innerHTML="\u5bf9\u65b9\u5df2\u8bc4",u.href=s.statusURL,u.className="has-remark",a.appendChild(u)}if(n.length&&"y"==n[0].value||FYD.hasClass(r,"stopped"))continue;if(s.entrance){var d=document.createElement("a");d.target="_blank",d.className="remarkIcon",d.href=s.entranceURL,d.onmousedown=function(){aliclick(null,"?tracelog=tradelist_publish")},a.appendChild(d)}}}h()}},onFailure:h,onTimeout:h},s))}}(),function(){var t,e,i,n;FYE.on(FYS("a.guard-proxy","listBox"),"click",function(o){FYE.preventDefault(o),t||(t=document.createElement("div"),FYD.addClass(t,"modal"),t.id="modGuardProxy",FYD.setStyle(t,"display","none"),t.innerHTML='<h3><em></em><span class="close"></span></h3><div class="box"><iframe id="ifrGuardProxy" width="600" scrolling="no" height="320" frameborder="0" src="about:blank"></iframe></div>',document.body.appendChild(t),e=FYG("ifrGuardProxy"),i=FYS("em",t,!0),n=FYS("span.close",t,!0),FYE.on(n,"click",function(t){FYE.preventDefault(t),FD.widget.unblock({onUnblock:function(){e.src="about:blank"}})})),i.innerHTML=FYD.hasClass(this,"release")?"\u63d0\u524d\u7ed3\u675f\u4fdd\u969c":"\u786e\u8ba4\u8ba2\u5355",e.src=fitProtocol(this.href+"&t="+(new Date).getTime()),FD.widget.block(t,{iframe:!0})})}(),function(){var t,e,i;FYE.on(FYS("a.guard-delay","listBox"),"click",function(n){FYE.preventDefault(n),t||(t=document.createElement("div"),FYD.addClass(t,"modal"),t.id="modGuardDelay",FYD.setStyle(t,"display","none"),t.innerHTML='<h3><em>\u5ef6\u957f\u4fdd\u969c\u671f</em><span class="close"></span></h3><div class="box"><iframe id="ifrGuardProxy" width="600" scrolling="no" height="260" frameborder="0" src="about:blank"></iframe></div>',document.body.appendChild(t),e=FYG("ifrGuardProxy"),i=FYS("span.close",t,!0),FYE.on(i,"click",function(t){FYE.preventDefault(t),FD.widget.unblock({onUnblock:function(){e.src="about:blank"}})})),e.src=fitProtocol(this.href+"&t="+(new Date).getTime()),FD.widget.block(t,{iframe:!0})})}(),function(){var t,e,i,n;FYE.on(FYS("a.confirm-fund","listBox"),"click",function(o){FYE.preventDefault(o),t||(t=document.createElement("div"),FYD.addClass(t,"modal"),t.id="modConfirmFund",FYD.setStyle(t,"display","none"),t.innerHTML='<h3><em></em><span class="close"></span></h3><div class="box"><iframe id="ifrConfirmFund" width="450" scrolling="no" height="200" frameborder="0" src="about:blank"></iframe></div>',document.body.appendChild(t),e=FYG("ifrConfirmFund"),i=FYS("em",t,!0),n=FYS("span.close",t,!0),FYE.on(n,"click",function(t){FYE.preventDefault(t),FD.widget.unblock({onUnblock:function(){e.src="about:blank"}})})),i.innerHTML=this.title||"\u786e\u8ba4\u8ba2\u5355",e.src=fitProtocol(this.href+"&t="+(new Date).getTime()),FD.widget.block(t,{iframe:!0})})}(),function(){var t=FYG("listBox"),e=FYS("td.s10",t);e.forEach(function(t){var e=FYS("a.recieve-icon",t,!0);e&&FYE.on(e,"mousedown",function(t){aliclick(null,"?tracelog=orderlist_confirmreceive")})})}()}),FDEV.namespace("FD.orderlist.orderUtil"),function(){FD.orderlist.orderUtil={getSelectOrder:function(){for(var t=[],e=FYS("input.single-select",FYG("listBox")),i=0,n=e.length;n>i;i++)e[i].checked===!0&&(li=FYD.getAncestorByTagName(e[i],"li"),FYS(".tradeId",li,!0)?t.push(FYS(".tradeId",li,!0).value):li&&t.push(li.getAttribute("tradeid")));return t},isClickTarget:function(t,e,i,n){t=t||window.event;for(var o=t.target||t.srcElement,s=!1,r=o;null!=r;r=r.parentNode)if(r.id==e){s=!0;break}0==s&&o!=i&&o!=FYG(e)&&n.call()},isLoginOut:function(){var t=decodeURIComponent(FD.common.cookie("__cn_logon_id__",{raw:!0})),e=FYS(".china-server",!0);if(e)return t?!0:(window.location.href=e.value+"/member/signin.htm?Done="+window.location.href,!1)}}}(),FDEV.namespace("FD.orderlist.SpecialSelect"),function(){FD.orderlist.SpecialSelect=function(t){this.init(t)},FD.orderlist.SpecialSelect.prototype={init:function(t){this.config=t,this.initDownBtn(),this.initBtn()},initBtn:function(){{var t=this;FYS(".usertype",FYG(this.panelId),!0)}t.clickExportFun=function(){FDEV.lang.isFunction(t.config.clickCallback)&&t.config.clickCallback.call(t.config.scope,FYS(".method-list li",FYG(t.config.panelId),!0))},FYE.delegate(t.config.panelId,"click",t.clickExportFun,".export-btn .txt")},initDownBtn:function(){var t=this;t.clickExportDownFun=function(){FYD.addClass(FYD.getAncestorByTagName(this,"span"),"export-current"),FYD.removeClass(FYS(".method-list",FYG(t.config.panelId)),"fd-hide"),t.initListEvt()},FYE.delegate(t.config.panelId,"click",t.clickExportDownFun,".export-btn .down")},hideListPanel:function(){FYD.addClass(FYS(".method-list",FYG(this.config.panelId)),"fd-hide"),FYD.removeClass(FYS(".export-btn",FYG(this.config.panelId)),"export-current")},initListEvt:function(){{var t=this,e=FYS(".method-list",FYG(this.config.panelId),!0);

FYS(".export-btn .down",FYG(this.config.panelId),!0),FYS(".usertype",FYG(this.panelId),!0)}FYE.delegate(e,"click",function(e){FYE.stopEvent(e),FDEV.lang.isFunction(t.config.clickCallback)&&t.config.clickCallback.call(t.config.scope,this)},"li")}}}(),FYE.onDOMReady(function(){var t,e,i=FYG("pop-iframe"),n=FYG("realframe");i&&(FYE.on(FYS(".modifyprice","new-content"),"click",function(o){FYE.preventDefault(o),t=FYD.getAttribute(this,"isrc"),e=FYD.getAttribute(this,"iheight"),FYD.setStyle(n,"height",e+"px"),FD.widget.block(i,{iframe:!0,onBlock:function(){n.src=fitProtocol(t+"&time="+ +new Date||"about:blank")}}),this.blur()}),FYE.on(FYS(".close",i,!0),"click",function(){n.src="about:blank",FD.widget.unblock(i)}),window.closeIframe=function(){var t=FYG("realframe");t.src="about:blank",FD.widget.unblock(FYG("pop-iframe"))})}),define("flow/trade/module/order-list/get-memo-info",["jquery","just/fit/io"],function(t,e){return{init:function(){this.ajaxed=!1,this.bind()},bind:function(){t("#listBox span.comment").on("mouseover",t.proxy(this.onMouseOver,this))},onMouseOver:function(t){t.preventDefault(),t.currentTarget.ajaxed||(this.getMemoByAjax(t.currentTarget),t.currentTarget.ajaxed=!0)},getMemoByAjax:function(i){var n=new e("POST",t("#urlGetOrderMemo").val()),o=t(i),s=o.attr("data-orderid"),r=o.attr("data-ishistory"),a={orderid:s,isHis:r},l={onSuccess:function(t){var e=t.remark||"";o.attr("text",e),o.attr("marktype",t.remarkIcon),o.attr("data-tooltip",e),o.trigger("mouseenter")}};n.request(a,l)}}}),define("flow/trade/module/order-list/invoice-status",["jquery","just/fit/io"],function(t,e){return{init:function(){this.tradingDomain=t("#doc").attr("data-domain-trading").replace(/https?:/,"");var e=t(".invoice-status-block").map(function(t,e){return e.getAttribute("data-order-id")}).get().join(",");e&&e.length&&this.getInvoiceStatus(e)},getInvoiceStatus:function(i){var n=new e("POST",this.tradingDomain+"/order/ajax/get_order_invoice_infos.jsx"),o={queryInvoiceStatusIds:i,isBuyer:"buyer"===t("#ts-isBuyerOrSeller").val()},s={onSuccess:function(e){if(e&&e.success)for(var i in e.data)if(e.data.hasOwnProperty(i)){var n=t('.invoice-status-block[data-order-id="'+i+'"]');n.find(".invoice-status-label").text(e.data[i]),n.show()}}};n.request(o,s)}}}),define("flow/trade/module/order-list/get-feedback-info",["jquery","just/fit/io"],function(t,e){return{init:function(){this.bind()},bind:function(){t(".buyer-leavemessage").on("mouseover",t.proxy(this.onMouseOver,this))},onMouseOver:function(t){t.preventDefault(),t.currentTarget.ajaxed||(this.getFeedbackInfo(t.currentTarget),t.currentTarget.ajaxed=!0)},getFeedbackInfo:function(i){var n=t(i),o=new e("POST",n.attr("data-fetch-url")),s=n.attr("data-orderid"),r=n.attr("data-ishistory"),a={orderid:s,isHis:r},l={onSuccess:function(t){var e=t.buyerFeedback||"";n.attr("data-tooltip",e),n.trigger("mouseenter")},onFailure:function(t){i.ajaxed=!1,n.attr("data-tooltip","\u83b7\u53d6\u7559\u8a00\u5931\u8d25\uff0c\u8bf7\u7a0d\u5019\u91cd\u8bd5")},onError:function(t){i.ajaxed=!1,n.attr("data-tooltip","\u83b7\u53d6\u7559\u8a00\u5931\u8d25\uff0c\u8bf7\u7a0d\u5019\u91cd\u8bd5")}};o.request(a,l)}}}),define("flow/trade/module/order-list/copy",["jquery","doit/widget/ui/bubbletip","doit/widget/ui/bubbletip-dpl-tpl","lofty/ui/clipboard/1.0/clipboard","flow/trade/module/order-list/observer"],function(t,e,i,n,o){var s,r,a,l,c=t("#listBox [data-copytitle]"),u=t("#listBox [data-nocopytitle]"),d=['<div class="unit-copy">','<div class="content">','<span class="content-text"></span>','<span class="optbar">','<a href="#" class="copylink" title="\u70b9\u51fb\u590d\u5236">\u590d\u5236</a>',"</span>",'<div class="append-html"></div>',"</div>","</div>"].join(""),h=t(d),f=new n,p={applyTo:t("<span></span>").appendTo(t("#doc")),isHideOnDocClick:!0,isHoldOnTip:!0,hideDelay:1e3,cls:"ordertipshight",zIndex:90,arrowMargin:12,tpl:i};s=t("span.content-text",h),r=t(".copylink",h),a=t("span.optbar",h),l=t(".append-html",h);var g=new e(t.extend({},p,{content:h,maxWidth:300,isHideOnDocClick:!1,onBeforeHide:function(){a.show();var e=this.applyTo.data("copytitle");t(".content-text",h).text(e)},onBeforeShow:function(){this.alignType=this.applyTo.data("alignType")?this.applyTo.data("alignType"):"bl"}})),m=new e(t.extend({},p,{maxWidth:170,appendOffset:{left:-8},arrowMargin:20,alignType:"tl"}));c.bind("mouseenter",function(e){var i;r.data("applyTo",this),g.applyTo&&g.applyTo[0]===this?g.applyTo[0]===this&&(i=t(this).data("copytitle"),t(".content-text",h).text(i),l.html(t(this).data("appendHtml")?t(this).data("appendHtml"):""),a.show(),l.show(),g.layout()):(i=t(this).data("copytitle"),t(".content-text",h).text(i),l.html(t(this).data("appendHtml")?t(this).data("appendHtml"):""),g.setApplyTo(t(this)),g.hide(),g.show())}),u.bind("mouseenter",function(e){if(!m.applyTo||m.applyTo[0]!==this){var i=t(this).data("nocopytitle");m.setApplyTo(t(this)),m.hide(),i&&(i=m.escapeHtml(i)),m.setContent(i,!0),m.show()}}),f.register({triggerSelector:r,textGetter:function(t){return s.text()},successCallback:function(t){s.html("\u590d\u5236\u6210\u529f\uff01"),a.hide(),l.hide(),g.layout()},failedCallback:function(t){a.hide(),l.hide(),g.layout(),window.prompt("\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u590d\u5236\uff0c\u8bf7\u624b\u52a8\u590d\u5236\u4ee5\u4e0b\u6587\u6848",t)}})}),define("flow/trade/module/order-list/auto-receive-timer",["fui/timer/1.0","jquery","doit/widget/util/date-util"],function(t,e,i){return{init:function(){var n=this,o=e(".order-list .auto-receive-timer");o.each(function(){{var o=e(this),s=o.find(".timer"),r=i(s.data("value")).toDate(),a=o.find("input[name=show-before-day-number]").val();new t({to:r,useServerTime:!0,fixInterval:!0,el:s[0],autoStart:!0,format:"y-M-d h:m:s",event:{stop:function(){o.hide()}}})}n.wait(s),i().add(a,"days").isAfter(i(r))&&o.show()})},wait:function(t){var i=t.find(".day"),n=t.find(".day-container"),o=t.find(".hour"),s=t.find(".hour-container"),r=(t.find(".minute"),t.find(".minute-container")),a=window.setInterval(l,1e3);function l(){"0"===i.text()||""===e.trim(i.text())?(n.addClass("fd-hide"),r.removeClass("fd-hide"),("0"===o.text()||""===e.trim(i.text()))&&(s.addClass("fd-hide"),window.clearInterval(a))):r.addClass("fd-hide")}}}}),define("flow/trade/module/order-list/date-picker",["jquery","pitaya/unit/time-picker"],function(t,e){return{init:function(){this.startTimePicker=e.startup(t(".order-list .start-time-picker"))}}}),define("flow/trade/module/order-list/highlight-keywords",["jquery"],function(t){return{$root:t(".order-list .productName"),keywords:t(".order-list .mod-filter #keywords").val(),keywordsType:t('.order-list .mod-filter input[name="keywordsType"]').val(),init:function(){var e=this,i=e.keywords;this.$root.each(function(){if("offerTitle"===e.keywordsType){var n=t(this).text(),o=n.indexOf(i);if(o>=0){var s=o+i.length,r=t('<span><span class="text-error">'+n.substr(o,i.length)+"</span></span>");r.prepend(n.substr(0,o)),r.append(n.substr(s)),t(this).html(r.html())}}})}}}),define("flow/trade/module/order-list/export",["pitaya/unit/dropdown","flow/trade/module/order-list/check-order-list","jquery","just/fit/io","just/lang/string","just/lang/json","flow/trade/module/alert-dialog-tpl","flow/trade/module/order-list/export-dialog-tpl","doit/widget/ui/dialog/message-dialog","flow/trade/module/order-list/is-hidden-cancel-offer"],function(t,e,i,n,o,s,r,a,l,c){return{tradeServer:i(".order-list .export .trade-server").val(),userType:i(".order-list .export .usertype").val(),exportSellerUrl:"/order/ajax/exportSellerOrder.json",exportBuyerUrl:"/order/ajax/exportBuyerOrder.json",isHis:i(".order-list .export .is-his").val(),exportProcessUrl:"/order/ajax/getOrderExportProcess.json",_csrf_token:i(".order-list .export ._csrf_token").val(),exportSuccessTpl:'<div class="success"><h4>\u8ba2\u5355\u5bfc\u51fa\u5b8c\u6210\uff01\u60a8\u53ef\u4ee5\u4e0b\u8f7d\u4fdd\u5b58\u5230\u60a8\u7684\u7535\u8111\u91cc\u67e5\u770b</h4></div>',loadingCloseTxt:"\u505c\u6b62\u5bfc\u51fa\u8ba2\u5355\u5c06\u65e0\u6cd5\u5b8c\u6210\u6b64\u6b21\u64cd\u4f5c\uff0c\u5982\u679c\u60a8\u8981\u518d\u6b21\u5bfc\u51fa\uff0c\u9700\u8981\u91cd\u65b0\u64cd\u4f5c\u3002\u60a8\u786e\u5b9a\u8981\u5173\u95ed\u5417\uff1f",successCloseTxt:"\u60a8\u5df2\u7ecf\u5b8c\u6210\u6b64\u6b21\u5bfc\u51fa\uff0c\u8bf7\u4e0b\u8f7d\u4fdd\u5b58\u8ba2\u5355\u5217\u8868\uff0c\u5426\u5219\u5c06\u9700\u8981\u91cd\u65b0\u5bfc\u51fa\u3002\u60a8\u786e\u5b9a\u8981\u5173\u95ed\u5417\uff1f",exportLoadingTpl:function(t){return['<p class="loading-data">','<img src="//cbu01.alicdn.com/images/cn/home/loading.gif" alt=""/>',"<span>\u8bf7\u7a0d\u540e\uff0c\u7cfb\u7edf\u6b63\u5728\u4e3a\u60a8\u5bfc\u51fa\u8ba2\u5355\uff0c\u76ee\u524d\u5df2\u5b8c\u6210</san>",'<em class="percent">'+t+"%</em>","<span>....</span>","</p>"].join("")},init:function(){this.exportUrl=this.tradeServer+("seller"===this.userType?this.exportSellerUrl:this.exportBuyerUrl)+"";var e=this.tradeServer+this.exportProcessUrl;this.exportDropdown=t.startup(i(".order-list .export .export-dropdown")),this.exportAjax=new n("POST",this.exportUrl),this.exportProcessAJax=new n("POST",e),this.wait()},wait:function(){this.exportDropdown.on("pickup",this.exportDropdownPickup,this)},exportDropdownPickup:function(t,e){switch(e){case"export-checked":this.exportChecked();break;case"export-filtered":this.exportFiltered()}},exportChecked:function(){var t;return e.hasChecked()?(this.showExportingDialog(0),t=e.getCheckedOrderId(),void this.exportAjax.request({orderId:t.join(","),exportType:2,isHis:this.isHis,_csrf_token:this._csrf_token},{onSuccess:i.proxy(this.onExportSuccess,this),onFailure:i.proxy(this.onExportFailure,this)})):void this.showNoCheckedDialog()},exportFiltered:function(){var t={};i(".order-list .filter-form").find("input[name]").each(function(e,n){t[i(this).attr("name")]=i(this).val()}),i(".order-list .filter-form").find("select[name]").each(function(e,n){t[i(this).attr("name")]=i(this).val()}),c.$checkbox.get("checked")&&(t.isHiddenCanceledOffer="canceled"),this.exportAjax.request(i.extend(t,{exportType:1,isHis:this.isHis,_csrf_token:this._csrf_token}),{onSuccess:i.proxy(this.onExportSuccess,this),onFailure:i.proxy(this.onExportFailure,this)})},createExportingDialog:function(){this.exportingDialog||(this.exportingDialog=new l({tpl:a,msgBoxSelector:".content .container",titleSelector:".header .title"}))},showExportingDialog:function(t,e){var i=this;this.createExportingDialog(),100>t?this.exportingDialog.show({message:this.exportLoadingTpl(t),onCloseClick:function(t){window.confirm(i.loadingCloseTxt)&&(window.clearTimeout(i.getExportProcessTimeout),i.exportingDialog.hide())},title:"\u5bfc\u51fa\u8ba2\u5355\u4e2d...",onOkClick:function(t){t.preventDefault()}}):(this.exportingDialog.ct.find(this.exportingDialog.okBtnSelector).removeAttr("disabled"),this.exportingDialog.show({message:this.exportSuccessTpl,onOkClick:function(t){window.open(e)},title:"\u5bfc\u51fa\u6210\u529f",onCloseClick:function(){window.confirm(i.successCloseTxt)&&(window.clearTimeout(i.getExportProcessTimeout),i.exportingDialog.hide())}}))},createErrorDialog:function(){this.errorDialog||(this.errorDialog=new l({tpl:r,msgBoxSelector:".content .container"}))},showExportingDialogError:function(t){this.createErrorDialog(),this.errorDialog.show({message:t,title:"\u5bfc\u51fa\u51fa\u73b0\u9519\u8bef"})},showNoCheckedDialog:function(){var t=new l({tpl:r,msgBoxSelector:".content .container",titleSelector:".header .title"});t.show({message:"\u8bf7\u9009\u62e9\u8981\u5bfc\u51fa\u7684\u8ba2\u5355"})},onExportFailure:function(t){var e=this.isExportResponseFail(t);e.isError&&this.doExportResponseFail(e)},onExportSuccess:function(t){var e=this.isExportResponseFail(t);if(e.isError)return void this.doExportResponseFail(e);var i=t.data;i&&i.timer?this.getExportProcess(i.timer):this.showExportingDialogError("\u670d\u52a1\u51fa\u73b0\u95ee\u9898, \u8bf7\u7a0d\u5019\u91cd\u8bd5. \u9519\u8bef\u4ee3\u7801: EXPORT_RESPONSE_DATA_TIME_NOT_EXIST")},doExportResponseFail:function(t){switch(t.errorType){case"serverError":this.showExportingDialogError(t.message?t.message:"\u670d\u52a1\u5668\u9519\u8bef\uff0c\u8bf7\u7a0d\u5019\u91cd\u8bd5\u3002\u9519\u8bef\u4ee3\u7801: EXPORT_RESPONSE_DATA_NOT_EXIST");break;case"notLogin":this.showExportingDialogError("\u60a8\u672a\u767b\u5f55\uff0c\u8bf7\u767b\u5f55\u540e\u91cd\u8bd5");break;default:this.showExportingDialogError("\u672a\u77e5\u9519\u8bef, \u8bf7\u7a0d\u5019\u91cd\u8bd5")}},getExportProcess:function(t){this.exportProcessAJax.request({startTime:t},{onSuccess:i.proxy(this.onExportProcessSuccess,this,t),onFailure:i.proxy(this.onExportFailure,this)})},isExportResponseFail:function(t){return t.data?!t.success&&t.data.loginUrl?{isError:!0,errorType:"notLogin"}:!t.success&&t.data.message?{isError:!0,errorType:"serverError",message:t.data.message}:{isError:!1}:{isError:!0,errorType:"severError"}},onExportProcessSuccess:function(t,e){var n=e.data;100!==parseInt(n.curPercent,10)?(this.getExportProcessTimeout=setTimeout(i.proxy(function(){this.getExportProcess(t)},this),1e3),this.showExportingDialog(n.curPercent)):this.showExportingDialog(100,n.downloadUrl)}}}),function(t){t(document).ready(function(){var e=t("#sendtips"),i=t("#listBox"),n=t("a.noticeSellerSend",i),o=t("a.noticeBuyerPayNext",i),s=t("#send-tip-url").val(),r=t("#payNext-tip-url").val(),a=t("a.bannerCorp",i),l=t("a.bannerMember",i),c=(t("a.productName",i),t("div.trade-spec",i),t("#mod-batch-bar")),u=t("span.selectAllOut",c),d=t(".selectAllOut",i),h=t("#exportOrderBtn"),f=t("#print-info-option",c),p=t("#chooseLogisticsCompany"),g=(t("#select-all-option"),t("#left-token-count"),t("#export-method-list")),m=t("#bd"),v=(t(".select-all-checkbox"),t("#listBox")),y=(t(".showSelectOption"),t(".selectAll"),t(".single-select",m),t(".single-select",v),t(".single-select"),t("#tradeTypeSearch")),b=t("#bizTypeSearch"),w=(t(".quick-search-right a.a"),t(".ahit"));y.click(function(){aliclick(null,"?tracelog=buyerOrderList_tradeTypeSearchClick")}),b.click(function(){aliclick(null,"?tracelog=buyerOrderList_bizTypeSearchClick")}),t("#mergeTradePaymentBtn").click(function(){aliclick(null,"?tracelog=buyerOrderList_mergeTradePaymentBtn")}),t("#orderExportSelect").click(function(){if("none"==t(g).css("display")){var e=t("#exportOrderTxt"),i=e.offset();g.css({left:i.left-0+"px",top:i.top+(e.height()-1)+"px"}).show(),t("body").bind("click.hideorder",function(e){return t(e.target).hasClass("down")?!1:(g.hide(),void t("body").unbind("click.hideorder"))})}else"block"==t(g).css("display")&&g.hide()}),t("#exportSelected").click(function(){aliclick(null,"?tracelog=20120330bscenterexportorder"),g.hide()}),t("#exportAll").click(function(){aliclick(null,"?tracelog=20120330bscenterexportorder"),g.hide()}),t("#printOrderId").click(function(){if("none"==t(f).css("display")){var e=t(this),i=e.offset();f.css({left:i.left-0+"px",top:i.top+(e.height()-1)+"px"}).show(),t("body").bind("click.hideprint",function(e){return t(e.target).hasClass("printOrder")?!1:(f.hide(),void t("body").unbind("click.hideprint"))})}else"block"==t(f).css("display")&&f.hide()}),t("#printOrderOperate").click(function(){aliclick(null,"?tracelog=20120330bscenterprintorder"),f.hide()}),t("#printGoodsList").click(function(){aliclick(null,"?tracelog=20120330bscenterprintgoodsList"),f.hide()}),t("#cell-print-panel").click(function(){var e=this,i=FD.orderlist.orderUtil.getSelectOrder();if(i.length<1)return e.selectNonepopWin?(e.selectNonepopWin.reset(),void e.selectNonepopWin.show()):(e.selectNonepopWin=new FD.orderlist.PopWin({panelId:"mod-popwin",hasBlock:!0,content:'<div class="warn warn-s"><h4>\u8bf7\u5148\u9009\u62e9\u60a8\u8981\u64cd\u4f5c\u7684\u4fe1\u606f</h4></div>',oprBtn:'<a target="_self" title="\u786e\u5b9a" href="#" class="btn-a2 close-btn"><span class="btn-l"><em>\u786e\u5b9a</em></span><span class="btn-r"></span></a>',title:"\u7cfb\u7edf\u6d88\u606f",cls:"mod-popwin-inst",showCallback:function(){},closeCallback:function(){}}),FYE.delegate("mod-popwin","click",function(t){FYE.stopEvent(t),e.selectNonepopWin.close()},".close-btn"),aliclick(null,"?tracelog=20120330bscenterprintlogisticsCompany"),e.selectNonepopWin.show(),void f.hide());var n=t(this),o=n.offset();p.css({left:o.left-0+"px",top:o.top+(n.height()-8)+"px"}).show(),f.hide()}),t(".cancel",p).click(function(){p.hide()}),t(".close",p).click(function(){p.hide()}),t(".confirm",p).click(function(){var e=FD.orderlist.orderUtil.getSelectOrder(),i=t("input[name='logisticsCompany']:checked",p).val();if(FD.orderlist.orderUtil.isLoginOut()&&FYG("delivery-company-list")){var n=FYG("delivery-company-list").getAttribute("data-request"),o=FD.common.parse(n).requestUrl;o=o+"?orderIds="+e.join(",")+"&logisticsCompanyNo="+i,aliclick(null,"?tracelog=20120330bscenterprintlogisticsCompanyis"+i),p.hide(),window.open(o)}}),e.length<1&&(e=t('<div id="sendtips" class="sendtips">\u63d0\u9192\u6210\u529f</div>'),t("body").append(e));var _=function(t,i,n){e.stop(!0,!0).removeClass("send-error-tips"),"error"===n&&e.addClass("send-error-tips"),i.css({visibility:"hidden",left:"-9000px",top:"-9000px"}).show();var o=t.offset(),s=t.outerWidth(),r=i.outerHeight(),a=i.outerWidth();null!=o.left&&(o.left=o.left-Math.floor((a-s)/2)),null!=o.top&&(o.top=o.top-r),i.offset(o).css("visibility","visible").fadeOut(3e3)};n.click(function(i){i.preventDefault();var n=t(this),o=n.closest("li"),r=t("input.tradeId",o).val();t.ajax({url:s,data:{orderId:r,tracelog:"20120315bscenternoticeSellerSend"},dataType:"jsonp",success:function(t){if(t&&t.success){{t.success}_(n,e.text("\u63d0\u9192\u6210\u529f"))}else{var i="\u63d0\u9192\u5931\u8d25";t.errorMessage&&(i=t.errorMessage),_(n,e.text(i),"error")}}})}),o.click(function(i){i.preventDefault();var n=t(this),o=n.closest("li"),s=t("input.tradeId",o).val();t.ajax({url:r,data:{orderId:s,tracelog:"20170906bscenterremindBuyerPayNext"},dataType:"jsonp",success:function(t){if(t&&t.success){{t.success}_(n,e.text("\u63d0\u9192\u6210\u529f"))}else{var i="\u63d0\u9192\u5931\u8d25";t.errorMessage&&(i=t.errorMessage),_(n,e.text(i),"error")}}})}),u.delegate("span","mouseenter",function(){u.removeClass("active").addClass("hover")}).delegate("span","mousedown",function(){u.removeClass("hover").addClass("active")}).delegate("span","mouseleave",function(){u.removeClass("hover active")}).delegate("span","mouseup",function(){u.removeClass("active").addClass("hover")}),d.delegate("span","mouseenter",function(){d.removeClass("active").addClass("hover")}).delegate("span","mousedown",function(){d.removeClass("hover").addClass("active")}).delegate("span","mouseleave",function(){d.removeClass("hover active")}).delegate("span","mouseup",function(){d.removeClass("active").addClass("hover")}),h.delegate("em","mouseenter",function(){h.removeClass("active").addClass("hover")}).delegate("em","mousedown",function(){h.removeClass("hover").addClass("active")}).delegate("em","mouseleave",function(){h.removeClass("hover active")}).delegate("em","mouseup",function(){h.removeClass("active").addClass("hover")});var C=0,k=20;for(C=0;C<l.length;C++){var S=l[C].innerHTML;S.length>k&&(l[C].innerHTML=S.substr(0,k)+"...")}for(C=0;C<a.length;C++){var x=a[C].innerHTML;x.length>k&&(a[C].innerHTML=x.substr(0,k)+"...")}var D=t("#ts-isHis").val(),T=request("is_his");if("notHis"==D&&"y"!=T){var O=(t("#ts-loginid").val(),t("#ts-memberid").val(),t("#ts-isBuyerOrSeller").val()),E=t("#ts-trading-domain").val();t.ajax({url:E,data:{status:"A",role:O,from:"work"},dataType:"jsonp",success:function(e){if(e&&e.success&&e.orderReminds){e.orderReminds.waitbuyerpay&&t("#ts-waitbuyerpay").html(0==e.orderReminds.waitbuyerpay[0]?"":"<span class='order-count text-strong'>&nbsp;"+processMaxAmount(e.orderReminds.waitbuyerpay[0])+"</span>"||""),e.orderReminds.waitsellersend&&t("#ts-waitsellersend").html(0==e.orderReminds.waitsellersend[0]?"":"<span class='order-count text-strong'>&nbsp;"+processMaxAmount(e.orderReminds.waitsellersend[0])+"</span>"||""),e.orderReminds.waitbuyerreceive&&t("#ts-waitbuyerreceive").html(0==e.orderReminds.waitbuyerreceive[0]?"":"<span class='order-count text-strong'>&nbsp;"+processMaxAmount(e.orderReminds.waitbuyerreceive[0])+"</span>"||""),e.orderReminds.waitselleragree&&t("#ts-waitselleragree").html(0==e.orderReminds.waitselleragree[0]?"":"<span class='order-count text-strong'>&nbsp;"+processMaxAmount(e.orderReminds.waitselleragree[0])+"</span>"||""),e.orderReminds.waitBuyerRatedCount&&t("#ts-availableRemark").html(0==e.orderReminds.waitBuyerRatedCount[0]?"":"<span class='order-count text-strong'>&nbsp;"+processMaxAmount(e.orderReminds.waitBuyerRatedCount[0])+"</span>"||""),"buyer"===O&&e.orderReminds.waitBuyerRatedCount&&t("#ts-remark").html(0==e.orderReminds.waitBuyerRatedCount[0]?"":"<span class='orange'>&nbsp;"+e.orderReminds.waitBuyerRatedCount[0]+"</span>"||""),"seller"===O&&e.orderReminds.waitSellerRatedCount&&t("#ts-remark").html(0==e.orderReminds.waitSellerRatedCount[0]?"":"<span class='orange'>&nbsp;"+e.orderReminds.waitSellerRatedCount[0]+"</span>"||"");var i=t(".orange",w);w.css("font-weight","bold"),i.removeClass("orange")}}});var A=t("#orderlist-no-items-warn"),M=request("tradeStatus"),y=request("tradeTypeSearch"),I=request("keywords"),P=request("companyName"),R=request("buyerLoginId"),j=request("sellerLoginId"),Y=request("startDate"),b=request("bizTypeSearch"),F=request("endDate"),L=t("#todoNext");(isConditionNotNull(M)||isConditionNotNull(I)||isConditionNotNull(P)||isConditionNotNull(j)||isConditionNotNull(R)||isConditionNotNull(Y)||isConditionNotNull(F)||isConditionNotNull(y)||isConditionNotNull(b))&&(A.html("\u6ca1\u6709\u7b26\u5408\u6761\u4ef6\u7684\u8ba2\u5355\uff0c\u8bf7\u5c1d\u8bd5\u5176\u5b83\u641c\u7d22\u6761\u4ef6\u3002"),L.css("display","none"))}})}(jQuery);function isConditionNotNull(t){return null!=t&&""!=t?!0:!1}function processMaxAmount(t,e){return e=e||9999,parseInt(t)>e?"9999+":t}function request(t){var e=location.href,i=e.substring(e.indexOf("?")+1,e.length).split("&"),n={},o=null,s=0;for(s=0;o=i[s];s++)n[o.substring(0,o.indexOf("=")).toLowerCase()]=o.substring(o.indexOf("=")+1,o.length);var r=n[t.toLowerCase()];return"undefined"==typeof r?"":r}if(define("flow/trade/module/order-list/filter-toggle-show-more",["jquery","just/lang/string","just/fit/observer"],function(t,e,i){return{init:function(){this.initDom(),this.$root.click(t.proxy(this.filterToggleShowMore,this)),this.initIsShowMore()},initIsShowMore:function(){this.isShowMore=!1,(this.hasMoreSearch()||this.getIsShowMore())&&(this.render(!0),this.isShowMore=!0)},getIsShowMore:function(){return localStorage&&localStorage.getItem&&"true"===localStorage.getItem("isOrderListShowMoreFilter")?!0:!1},storeIsShowMore:function(t){localStorage&&localStorage.setItem&&localStorage.setItem("isOrderListShowMoreFilter",t+"")},hasMoreSearch:function(){var e=!1;return t.each(this.$parent.find('[data-more] input[type="text"]').add(this.$parent.find("[data-more] select")),function(i,n){return t.trim(t(n).val())?(e=!0,!1):void 0}),e},initDom:function(){this.$parent=t(".mod-filter"),this.$root=this.$parent.find(".filter-toggle-show-more")},filterToggleShowMore:function(){this.isShowMore=!this.isShowMore,this.render(this.isShowMore),this.storeIsShowMore(this.isShowMore)},render:function(t){var e=t?"top":"bottom",n=t?"\u6536\u8d77\u66f4\u591a":"\u66f4\u591a\u641c\u7d22\u6761\u4ef6";this.$root.attr("data-direction",e),this.$root.find(".toggle-show-more-text").text(n),t?(this.$parent.find(".submit-container").addClass("row"),this.$parent.attr("data-show-more",!0),i&&i.notify("TDK.pageService:resize")):(this.$parent.find(".submit-container").removeClass("row"),this.$parent.removeAttr("data-show-more"),i&&i.notify("TDK.pageService:resize"))}}}),define("flow/trade/module/order-list/recom",["jquery","doit/widget/ui/recom"],function(t,e){"use strict";return{init:function(){var i=".mod-recom",n=t(i);n.show(),e.init({container:i,recomConfigList:[{params:{resourceId:"731808"}}],sceneType:"buyerOrderList"})}}}),define("flow/trade/module/order-list/observer",["just/fit/observer"],function(t){return{init:function(){this.observer=new t({})},attach:function(t,e,i){this.observer.attach(t,e,i)},notify:function(t,e){}}}),define("flow/trade/module/order-list/batch-dispatch",["pitaya/unit/dropdown","flow/trade/module/order-list/check-order-list","jquery","just/fit/io","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl","flow/trade/module/alert-dialog-tpl","doit/widget/util/web-util"],function(t,e,i,n,o,s,r,a){"use strict";var l="\u63d0\u793a",c="\u8bf7\u9009\u62e9\u4f60\u8981\u5408\u5e76\u53d1\u8d27\u7684\u8ba2\u5355",u="\u8bf7\u9009\u62e9\u4f60\u8981\u6279\u91cf\u53d1\u8d27\u7684\u8ba2\u5355",d="\u786e\u8ba4\u5408\u5e76\u53d1\u8d27",h="\u62b1\u6b49\uff0c\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5!";return{init:function(){this.checkIO=new n("JSONP",i("#combineSendTradeCheckUrl").val()),this.csrfToken=i("#listBox input[name=_csrf_token]").val(),this.combineDispatchUrl=i("#combineSendTradeUrl").val(),this.batchDispatchUrl=i("#batchSendTradeUrl").val(),this.batchDropdown=t.startup(i(".order-list .batch-dispatch-dropdown")),this.wait()},wait:function(){this.batchDropdown.on("pickup",this.batchDropdownPickup,this)},batchDropdownPickup:function(t,e){switch(e){case"combine-dispatch":this.combineDispatch();break;case"batch-dispatch":this.batchDispatch()}},combineDispatch:function(){var t=e.getCheckedOrderId();t.length?this.checkCombinedOrders(t):this.showWarnMessage(c)},batchDispatch:function(){var t=e.getCheckedOrderId();t.length?a.openWin({method:"GET",params:{orderId:t.join(",")},url:this.batchDispatchUrl,target:"_blank"}):this.showWarnMessage(u)},checkCombinedOrders:function(t){this.checkIO.request({orderIds:t.join(","),_csrf_token:this.csrfToken},{onSuccess:i.proxy(this.onCheckedSuccess,this,t),onFailure:i.proxy(this.onCheckedError,this),onError:i.proxy(this.onCheckedError,this)})},showWarnMessage:function(t){this.warnDialog||(this.warnDialog=new o({tpl:r,msgBoxSelector:".content .container"})),this.warnDialog.show({title:l,message:t})},onCheckedSuccess:function(t){a.openWin({method:"GET",params:{orderId:t.join(",")},url:this.combineDispatchUrl,target:"_blank"})},onCheckedError:function(t){t=t||{errorMessage:""},this.messageDialog||(this.messageDialog=new o({tpl:s})),this.messageDialog.show({title:d,msgType:"error",message:t.errorMessage||h})}}}),define("flow/trade/module/order-list/delivery-company-dialog",["jquery","pitaya/lang/radio","doit/widget/ui/dialog/message-dialog","flow/trade/module/order-list/check-order-list"],function(t,e,i,n){return{selector:".delivery-company-dialog",getRadioSelector:function(){return this.selector+" .lang-radio"},getRequestUrl:function(){return t(this.selector).find(".delivery-company-list").val()},init:function(){var i=this;i.radios=[],t(this.getRadioSelector()).each(function(){i.radios.push(e.startup(t(this)))})},showPrintDeliveryDialog:function(){var t=this;this.deliveryCompanyDialog||(this.deliveryCompanyDialog=new i({tpl:this.selector})),this.deliveryCompanyDialog.show({onOkClick:function(){var e=t.getRequestUrl()+"?orderIds="+n.getCheckedOrderId().join(",")+"&logisticsCompanyNo="+t.getCheckedDeliveryCompany().get("value");window.open(e)}})},getCheckedDeliveryCompany:function(){for(var t=0;t<this.radios.length;t++)if(this.radios[t].get("checked"))return this.radios[t]}}}),define("flow/trade/module/order-list/tab-bubble",["jquery","doit/widget/ui/bubbletip","doit/widget/ui/bubbletip-dpl-tpl"],function(t,e,i){var n=t(".mod-subtitle"),o=n.attr("data-url-apoverdue"),s="\u60a8\u6709\u903e\u671f\u8ba2\u5355\uff0c\u5efa\u8bae\u60a8\u5c3d\u5feb\u652f\u4ed8",r={init:function(){o&&this.getStatus()},getStatus:function(){var e=this,i={url:o,type:"GET",dataType:"json",data:{_csrf_token:t("input[name=_csrf_token]").val()},success:function(t){t&&t.success+""=="true"&&e.showTip()}};t.ajax(i)},showTip:function(){var n=t('.order-list .order-classification-container [data-value="apOrder"]');n.addClass("has-tip"),new e({applyTo:n,contentHtml:s,alignType:"rc",tpl:i})}};r.init()}),define("flow/trade/module/order-list/combinepay",["jquery","just/fit/observer","flow/trade/module/order-list/orders","doit/widget/ui/dialog/message-dialog","flow/trade/module/alert-dialog-tpl"],function(t,e,i,n,o){var s=new n({tpl:o,msgBoxSelector:".content .container"}),r=t("#orderList"),a=r.attr("data-domain-trading"),l={ERROR_PART_NOT_SUPPORT:"\u60a8\u9009\u62e9\u7684\u8ba2\u5355\u4e2d\uff0c\u6709\u90e8\u5206\u4e0d\u652f\u6301\u5408\u5e76\u4ed8\u6b3e\uff0c\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u7ee7\u7eed\u5b8c\u6210\u4ed8\u6b3e\uff0c\u70b9\u51fb\u201c\u53d6\u6d88\u201d\u8fd4\u56de\u91cd\u65b0\u9009\u62e9\u3002",ERROR_COMBINE_FAILED:"\u5bf9\u4e0d\u8d77\uff0c\u5408\u5e76\u4ed8\u6b3e\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01",ERROR_SYSTEM_ERROR:"\u5bf9\u4e0d\u8d77\uff0c\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"},c=t("input[name=_csrf_token]").val(),u=function(e,i){return"combinepay"===e?i.length<1?void s.show({message:"\u8bf7\u9009\u62e9\u9700\u8981\u5408\u5e76\u4ed8\u6b3e\u7684\u8ba2\u5355\u3002"}):void t.ajax({type:"POST",data:{orderIds:i.join(","),_csrf_token:c},timeout:1e4,async:!1,url:a+"/order/ajax/cashier/query_cashier_url_ajax.jsx",success:function(e){if("string"==typeof e&&(e=t.parseJSON(e)),e.success+""=="true")return void window.open(e.data);var i=l.ERROR_COMBINE_FAILED;e&&e.errorCode&&(l[e.errorCode]?i=l[e.errorCode]:e.errorMessage&&(i=e.errorMessage)),s.show({message:i})},error:function(){s.show({message:l.ERROR_SYSTEM_ERROR})}}):void 0};e.attach("receive:orderIds:checked",u),t(".combinepay").on("click.combinepay",function(i){i.preventDefault(),e.notify("request:orderIds:checked","combinepay");var n="2020batchpay"+(t(this).closest("#listBox").length>0?"bottom":"top");window.aliclick&&aliclick(null,"?tracelog="+n)})}),define("flow/trade/module/order-list/check-order-list",["pitaya/lang/checkbox","pitaya/unit/dropdown","jquery","just/fit/observer"],function(t,e,i,n){return{init:function(){var n=this;n.checkOrderListCheckboxs=[],n.checkOrderListCheckboxs.push(t.startup(i(".order-list .check-order-list-checkbox.top"))),n.checkOrderListCheckboxs.push(t.startup(i(".order-list .check-order-list-checkbox.bottom"))),n.checkOrderListCheckbox={on:function(t,e){for(var o=0;o<n.checkOrderListCheckboxs.length;o++)n.checkOrderListCheckboxs[o].on(t,function(o){if("change"===t)for(var s=0;s<n.checkOrderListCheckboxs.length;s++)n.checkOrderListCheckboxs[s].set("checked",this.get("checked"));i.proxy(e,n)(o)})},get:function(t){return n.checkOrderListCheckboxs[0].get(t)},set:function(t,e){for(var i=0;i<n.checkOrderListCheckboxs.length;i++)n.checkOrderListCheckboxs[i].set(t,e)}},this.checkOrderListDropdownTop=e.startup(i(".order-list .check-order-list").eq(0)),this.checkOrderListDropdownDown=e.startup(i(".order-list .check-order-list").eq(1)),n.singleOrderCheckboxs=[],i(".order-list .single-select-checkbox").each(function(){n.singleOrderCheckboxs.push(t.startup(i(this)))}),this.wait()},wait:function(){{var t=this,e=i("#listBox"),o=i("#mod-batch-bar");i("span.selectAllOut",o),i(".selectAllOut",e),i("#select-all-option"),i("#bd"),i(".select-all-checkbox"),i(".showSelectOption"),i(".selectAll"),i(".single-select")}this.checkOrderListDropdownTop.on("pickup",r),this.checkOrderListDropdownDown.on("pickup",r),this.checkOrderListCheckbox.on("change",a);for(var s=0;s<t.singleOrderCheckboxs.length;s++)t.singleOrderCheckboxs[s].on("change",l);function r(e,i){switch(i){case"select-all":c();break;case"un-select-all":t.unSelectAllFunction();break;case"reverse-all":u()}}function a(){t.checkOrderListCheckbox.get("checked")===!0?c():t.unSelectAllFunction()}function l(){t.setCheckOrderList()}function c(){var e=0;for(e=0;e<t.singleOrderCheckboxs.length;e++)t.singleOrderCheckboxs[e].set("checked",!0);t.checkOrderListCheckbox.set("checked",!0)}function u(){var e;for(e=0;e<t.singleOrderCheckboxs.length;e++)t.singleOrderCheckboxs[e].get("checked")?t.singleOrderCheckboxs[e].set("checked",!1):t.singleOrderCheckboxs[e].set("checked",!0);

t.checkOrderListCheckbox.get("midchecked")||(t.checkOrderListCheckbox.get("checked")?t.checkOrderListCheckbox.set("checked",!1):t.checkOrderListCheckbox.set("checked",!0))}n.attach("request:orderIds:checked",this.broadcastCheckedOrderId,this),n.attach("set:orders:checked",this.renderOrderChecked,this),n.attach("delete:order",this.deleteOrder,this)},hasChecked:function(){return this.checkOrderListCheckbox.get("checked")},broadcastCheckedOrderId:function(t){var e=this.getCheckedOrderId();n.notify("receive:orderIds:checked",t,e)},getCheckedOrderId:function(){for(var t=[],e=0;e<this.singleOrderCheckboxs.length;e++)this.singleOrderCheckboxs[e].get("checked")&&t.push(this.singleOrderCheckboxs[e].$root.attr("data-order-id"));return t},renderOrderChecked:function(t,e){this.unSelectAllFunction(),i.each(this.singleOrderCheckboxs,function(t,n){i.inArray(n.$root.attr("data-order-id"),e)>=0&&n.set("checked",!0)}),this.setCheckOrderList()},unSelectAllFunction:function(){var t=0;if(this.singleOrderCheckboxs.length>0)for(t=0;t<this.singleOrderCheckboxs.length;t++)this.singleOrderCheckboxs[t].set("checked",!1);this.checkOrderListCheckbox.set("checked",!1)},setCheckOrderList:function(){var t,e=0,i=this.singleOrderCheckboxs;for(t=0;t<i.length;t++)i[t].get("checked")&&e++;0===e?this.checkOrderListCheckbox.set("checked",!1):e===i.length?this.checkOrderListCheckbox.set("checked",!0):this.checkOrderListCheckbox.set("midchecked",!0)},deleteOrder:function(t){var e=this;i.each(this.singleOrderCheckboxs,function(i,n){return n.$root.attr("data-order-id")===t?(e.singleOrderCheckboxs.splice(i,1),!1):void 0}),this.setCheckOrderList()}}}),define("flow/trade/module/actions/action-edit-memo",["jquery","doit/mod/base-action","doit/widget/ui/dialog/message-dialog","doit/widget/ui/dialog/message-dialog-dpl-tpl","flow/trade/module/editmemo/edit-memo-dialog","flow/trade/module/editmemo/edit-memo-tpl","doit/widget/util/web-util"],function(t,e,i,n,o,s,r){var a="getMemo",l="updateMemo",c=function(t){this.init(t)};return t.extend(c.prototype,e.prototype,{editMemoDlg:null,initDefaultOptions:function(){var t=e.prototype.initDefaultOptions.apply(this,arguments);return this.extendOptions(t,{syncUrl:null,bundle:{DIALOG_TIP_IS_HISTORY:"\u5386\u53f2\u8ba2\u5355\u5907\u5fd8\u4e0d\u53ef\u7f16\u8f91",ERROR_GET_MEMO_FAILED:"\u8bfb\u53d6\u5907\u5fd8\u5931\u8d25\uff01",ERROR_SAVE_MEMO_FAILED:"\u4fdd\u5b58\u5907\u5fd8\u5931\u8d25\uff01",MSG_EDIT_MEMO_TITLE:"\u6dfb\u52a0\u5907\u5fd8",MSG_SAVE_CONFRIM:"\u786e\u5b9a\u5e76\u4fdd\u5b58\u5f53\u524d\u4fee\u6539\uff1f"},isSyncMemo:!0,keyRemarkIcon:"remarkIcon",keyRemark:"remark",paramKeyMapping:{tradeId:"data-orderid"},syncParamKeyMapping:{orderid:"data-orderid",isHis:"data-ishistory"},dataKeyMapping:{markType:"data-marktype",text:"data-tooltip",isHistory:"data-ishistory"},triggerSelector:".action-edit-memo"}),t},showConfirmDlg:function(t,e){this.confirmDlg||(this.confirmDlg=new i({tpl:n})),this.confirmDlg.show(t,e)},showEditMemoDlg:function(t){var e=this,i=this.bundle,n=this.getData(t);this.editMemoDlg||(this.editMemoDlg=new o({tpl:s}));var r=this.editMemoDlg;if(r.onSubmit=function(n){e.isDataChanged(t)?e.showConfirmDlg({type:"confirm",title:i.MSG_DLG_TITLE,msgType:"info",message:i.MSG_SAVE_CONFRIM,onOkClick:function(){this.hide(),e.onEditMemoSubmit(t),e.editMemoDlg.disableDialog(!0)}},t):this.hide()},r.reset(),this.isSyncMemo&&this.syncUrl){r.disableDialog(!0),r.clearData();var l=this.getData(t,this.syncParamKeyMapping);this.ajax(this.syncUrl,l,t,a)}else r.setData(this.convertToDlgData(n));n.isHistory+""=="true"&&(r.setDialogTip(i.DIALOG_TIP_IS_HISTORY,"info"),r.setReadOnly(!0)),r.show(t)},convertToDlgData:function(t){return null==t?null:{markType:t.markType,text:t.text}},onEditMemoSubmit:function(t){var e=this.editMemoDlg.getData(),i=this.getParams(t);i[this.keyRemarkIcon]=e.markType,i[this.keyRemark]=e.text;var n=this.getUrl(t);this.ajax(n,i,t,l)},isDataChanged:function(t){var e=this.editMemoDlg.getData(),i=this.convertToDlgData(this.getData(t))||{};for(var n in i)if(i[n]!==e[n])return!0;return!1},executeAction:function(t,e){e&&e.preventDefault(),this.showEditMemoDlg(t)},onGetMemoSuccess:function(e,i,n,o,s){var l=this,c=this.getMsgDlgTitle(o,s),u=this.bundle;this.editMemoDlg.disableDialog(!1);var d=t.extend({action_type:a},e||{});if(e&&e.success+""=="true"){s.attr(l.dataKeyMapping.text,e.remark),null!=e.remarkIcon&&s.attr(l.dataKeyMapping.markType,e.remarkIcon);var h=this.getData(s);this.editMemoDlg.setData(this.convertToDlgData(h)),l.onActionSuccess(s,d)}else{this.editMemoDlg.hide();var f="ERROR_GET_MEMO_FAILED",p=u.ERROR_SYSTEM_ERROR,g="error";e&&(e.errorCode&&(f=e.errorCode,e.errorMessage&&(p=r.escapeHtml(e.errorMessage))),g="warn");var m=l.getBundleMsg(f,p);l.showMsgDlg({type:"alert",title:c,msgType:g,message:m,onOkClick:function(){this.hide(),l.onActionError(s,d)},onCloseClick:function(){this.hide(),l.onActionError(s,d)}},s)}},onUpdateMemoSuccess:function(e,i,n,o,s){var a=this,c=this.getMsgDlgTitle(o,s),u=this.bundle;this.editMemoDlg.disableDialog(!1),this.confirmDlg&&this.confirmDlg.hide();var d=t.extend({action_type:l},e||{});if(e&&e.success+""=="true")a.editMemoDlg.hide(),s.attr(a.dataKeyMapping.text,a.editMemoDlg.getText()),s.attr(a.dataKeyMapping.markType,a.editMemoDlg.getSelectValue()),a.onActionSuccess(s,d),a.onActionComplete(s,d);else{var h="ERROR_SAVE_MEMO_FAILED",f=u.ERROR_SYSTEM_ERROR,p="error";e&&(e.errorCode&&(h=e.errorCode,e.errorMessage&&(f=r.escapeHtml(e.errorMessage))),p="warn");var g=a.getBundleMsg(h,f);a.showMsgDlg({type:"alert",title:c,msgType:p,message:g,onOkClick:function(){this.hide(),a.onActionError(s,d),a.onActionComplete(s,d)},onCloseClick:function(){this.hide(),a.onActionError(s,d),a.onActionComplete(s,d)}},s)}},onSuccess:function(t,e,i,n,o,s){a===s?this.onGetMemoSuccess(t,e,i,n,o):this.onUpdateMemoSuccess(t,e,i,n,o)},onGetMemoError:function(t,i,n,o,s){this.editMemoDlg.disableDialog(!1),this.editMemoDlg.hide(),e.prototype.onError.apply(this,arguments)},onUpdateMemoError:function(t,i,n,o,s){this.editMemoDlg.disableDialog(!1),this.confirmDlg&&this.confirmDlg.hide(),e.prototype.onError.apply(this,arguments)},onError:function(t,e,i,n,o,s){a===s?this.onGetMemoError(t,e,i,n,o,s):this.onUpdateMemoError(t,e,i,n,o,s)},getMsgDlgTitle:function(t,e){return this.bundle.MSG_EDIT_MEMO_TITLE}}),c}),define("flow/trade/module/alert-dialog-tpl",["jquery"],function(t){var e=['<div class="mod mod-dialog msg-dlg">','<div class="header">','<div class="container">','<h3 class="title">\u63d0\u793a</h3>','<div class="panel">','<button class="icon-close close" title="\u5173\u95ed">\u5173\u95ed</button>',"</div>","</div>","</div>",'<div class="content">','<div class="container icon-warning-small">',"</div>","</div>",'<div class="footer">','<div class="container">','<div class="panel buttons unit-button-group">','<button class="button lang-button ok" data-level="important">\u786e\u8ba4</button>',"</div>","</div>","</div>","</div>"];return e.join("")}),define("flow/trade/module/order-list/top-notice",["jquery"],function(t){t(window.document).on("click",".top-notice .close",function(){t(".top-notice").hide()})}),define("flow/trade/module/order-list/export-dialog-tpl",["jquery"],function(t){var e=['<div class="mod mod-dialog export-dialog">','<div class="header">','<div class="container">','<h3 class="title">\u5bfc\u51fa\u8ba2\u5355\u4e2d..</h3>','<div class="panel">','<button class="icon-close close" title="\u5173\u95ed">\u5173\u95ed</button>',"</div>","</div>","</div>",'<div class="content">','<div class="container">',"</div>","</div>",'<div class="footer">','<div class="container">','<div class="panel buttons unit-button-group">','<button class="button lang-button ok" disabled data-level="important">\u4e0b\u8f7d\u4fdd\u5b58</button>',"</div>","</div>","</div>","</div>"];return e.join("")}),define("flow/trade/module/order-list/list-logistics-status",["jquery","just/bom/exposure","just/fit/io"],function(t,e,i){var n={LABEL_LOGISTICS:"\u5f85\u7269\u6d41\u516c\u53f8\u53d7\u7406",LABEL_TIP_LOGISTICS:"\u60a8\u5df2\u5728\u7ebf\u53d1\u8d27\uff0c\u7b49\u5f85\u7269\u6d41\u516c\u53f8\u53d7\u7406\u8fd0\u5355"},o={listItems:null,initListExposure:function(){var i=this,n=t("#listBox");this.listItems=t("li.item-active",n),this.listItems.length<=0||e.bind(this.listItems,function(t){i.onExposure(t)})},onExposure:function(e){var i=this,n=this.getLogisticsStatusData(e);if(!n.isSend){var o=this.getNextN(e,9,!0,!0);t.each(o,function(t,e){i.getLogisticsStatusData(e).isSend=!0}),this.ajaxLoadLogisticsStatus(o)}},ajaxLoadLogisticsStatus:function(t){var e=this,n=this.getAjaxUrl(),o={orderIds:this.getIds(t).join(",")};n&&(this.logisticsIO||(this.logisticsIO=new i("POST",n)),this.logisticsIO.request(o,{cache:!1,onSuccess:function(i){e.renderSuccessContent(i.data,t,o)},onFailure:function(i){e.renderErrorContent(i,t,o)},onError:function(i){e.renderErrorContent(i,t,o)}}))},renderSuccessContent:function(e,i,n){var o=this;e&&e.length>0&&t.each(i,function(t,i){o.renderItem(e,i,t)})},renderItem:function(t,e,i){for(var o=null,s=0,r=t.length;r>s;s++)o=this.getLogisticsStatusData(e),t[s].key===o.id&&("T"===t[s].value&&e.find("a.sendIcon").removeClass("lang-button").text(n.LABEL_LOGISTICS).prop("title",n.LABEL_TIP_LOGISTICS).removeClass("sendIcon"),t[s].flag+""=="1"&&e.find("a.btn-modify-price,a.btn-close-trade").hide())},renderErrorContent:function(t,e,i){},getAjaxUrl:function(){return this._ajaxUrl||(this._ajaxUrl=t("#getOrderLogisticsStatusUrl").val()),this._ajaxUrl},getIds:function(e){var i=this,n=[];return t.each(e,function(t,e){n.push(i.getLogisticsStatusData(e).id)}),n},getNextN:function(e,i,n,o){var s=this,r=[],a=-1,l=null,c=!1,u=0;return this.listItems.each(function(d,h){return c=!1,u>i?!1:(l=t(h),n&&s.getLogisticsStatusData(l).isSend&&(c=!0),h===e.get(0)&&(!c&&o&&(u++,r.push(l)),a=d),void(!c&&a>-1&&d>a&&(u++,r.push(l))))}),l=null,r},getLogisticsStatusData:function(e){var i=e.data("logisticsStatus");if(!i){var n=t("input.tradeId",e).val();i={id:n,isSend:!1},e.data("logisticsStatus",i)}return i},init:function(){"seller"===t("#memberRole").val()&&(this.mainCt=t("#new-content"),this.initListExposure())}};return o}),define("flow/trade/module/editmemo/edit-memo-tpl",["jquery"],function(t){var e=['<div class="mod mod-dialog mod-edit-memo-dialog" data-type="confirm">','<div class="header">','<div class="container">','<h3 class="title">\u7f16\u8f91\u5907\u5fd8</h3>','<div class="panel">','<button class="icon-close close" href="#" title="\u5173\u95ed">\u5173\u95ed</button>',"</div>","</div>","</div>",'<div class="unit-feedback" data-status="warning">','<div class="main">\u5907\u5fd8\u4fe1\u606f\u4ec5\u81ea\u5df1\u53ef\u89c1</div>',"</div>",'<div class="content">','<div class="container emd-container">',"<dl>","<dt>\u6807\u8bb0\u56fe\u6807\uff1a</dt>","<dd>",'<ul class="memo-icon-ct">',"<li>",'<span class="lang-radio">','<label for="comment1">','<input name="comment-type" type="radio" value="1" id="comment1">','<span class="order-list-iconfont icon-note comment1"></span>',"</label>","</span>","</li>","<li>",'<span class="lang-radio">','<label for="comment2">','<input name="comment-type" type="radio" value="2" id="comment2">','<span class="order-list-iconfont icon-note comment2"></span>',"</label>","</span>","</li>","<li>",'<span class="lang-radio">',"<label>",'<input name="comment-type" type="radio" value="3">','<span class="order-list-iconfont icon-note comment3"></span>',"</label>","</span>","</li>","<li>",'<span class="lang-radio">',"<label>",'<input name="comment-type" type="radio" value="4">','<span class="order-list-iconfont icon-note comment4"></span>',"</label>","</span>","</li>","</ul>","</dd>","</dl>","<dl>","<dt>\u5907\u5fd8\u8bf4\u660e\uff1a</dt>",'<dd class="memo-ct">','<textarea class="input lang-input memo-txt" rows="5" cols="50" placeholder="\u5907\u5fd8\u4fe1\u606f\u4f5c\u4e3a\u60a8\u5bf9\u8fd9\u7b14\u8ba2\u5355\u7684\u5907\u5fd8\u8bb0\u5f55\uff0c\u4ec5\u81ea\u5df1\u53ef\u89c1"></textarea>','<div class="fd-clr">','<div class="txt-size-ct">\u8fd8\u53ef\u8f93\u5165<em class="stress txt-size">500</em>\u5b57</div>',"</div>","</dd>","</dl>","</div>","</div>",'<div class="footer">','<div class="container">','<div class="emd-dialog-tip"></div>','<div class="panel buttons unit-button-group">','<a class="button lang-button ok" data-level="important" href="#">\u786e\u8ba4</a>','<a class="button lang-button cancel" href="#">\u53d6\u6d88</a>',"</div>","</div>","</div>","</div>"];return e.join("")}),define("flow/trade/module/order-list/alitalk",["doit/lang/alitalk","jquery"],function(t,e){return{init:function(){t(e(".order-list [data-alitalk]"),{cls:{base:"ty-alitalk",on:"ty-alitalk-on",off:"ty-alitalk-off"}})}}}),define("flow/trade/module/order-list/print",["pitaya/unit/dropdown","jquery","flow/trade/module/alert-dialog-tpl","doit/widget/ui/dialog/message-dialog","flow/trade/module/order-list/check-order-list","just/lang/json","flow/trade/module/order-list/delivery-company-dialog"],function(t,e,i,n,o,s,r){return{init:function(){this.printSelection=t.startup(e(".order-list .print-dropdown")),this.wait()},wait:function(){this.printSelection.on("pickup",this.printSelectionPickup,this)},printSelectionPickup:function(t,e){if(!o.hasChecked())return void this.showAlertDialog("\u8bf7\u9009\u62e9\u6253\u5370\u7684\u8ba2\u5355");switch(e.type){case"printDelivery":this.showPrintDeliveryDialog();break;case"printOrder":this.printOrder(e.href,e.tracelog);break;case"printSendList":this.printSendList(e.href,e.tracelog)}},showAlertDialog:function(t){this.alertDialog||(this.alertDialog=new n({tpl:i,msgBoxSelector:".content .container",titleSelector:".header .title"})),this.alertDialog.show({message:t})},printOrder:function(t,e){this.openWindowShowPrintPage(t,e)},printSendList:function(t,e){this.openWindowShowPrintPage(t,e)},showPrintDeliveryDialog:function(){r.showPrintDeliveryDialog()},openWindowShowPrintPage:function(t,e){t+="&orderId=",t+=o.getCheckedOrderId().join(","),aliclick(this,"?tracelog="+e),window.open(t)}}}),define("flow/trade/module/order-list/error-log",["flow/doit/sls","jquery","justMonitor"],function(t,e,i){return{init:function(){var n=this;this.log=t.create("tradeOrderListErrorLog",this),this.performanceMonitorLog=t.create("orderListPerformanceMonitorLog",this),this.log&&0===this.getRandomInt(0,999)&&(this.log.setLevel("ERROR"),i.enableMethodLevel({afterThrow:function(t,i){n.log.addLog("errorReport",{stack:i.stack,message:i.message}),n.log.addLog("module",t),n.log.addLog("userLoginId",e("#ts-loginid").val()),n.log.addLog("url",window.location.href),n.log.addLog("UA",n.getBrowserInfo()),n.log.execute()}})),this.performanceMonitor()},getBrowserInfo:function(){var t="unknown",i=e.browser;return i.msie&&(t="IE"+i.version),i.mozilla&&(t="Firefox"),i.safari&&(t="Safari"),i.opera&&(t="Opera"),i.webkit&&i.safari&&(t="Chrome"),t},getRandomInt:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},performanceMonitor:function(){var t=this;this.log&&0===this.getRandomInt(0,999)&&(just.on("justCollectPerformanceData",function(i){e.each(i,function(e,i){t.performanceMonitorLog.addLog(e,i)}),t.performanceMonitorLog.setLevel("INFO"),t.performanceMonitorLog.execute()}),just.emit("justCollectPerformance"))}}}),define("flow/trade/module/order-list/log",["justTracker","jquery","doit/lab/tracker","just/fit/observer","flow/doit/sls"],function(t,e,i,n,o){return{init:function(){{var o=e(".mod-filter"),s=e("#memberRole").val(),r=o.find("input[name=keywords]").val(),a=o.find("input[name=buyerLoginId]").val(),l=o.find("input[name=sellerLoginId]").val(),c=o.find("input[name=companyName]").val(),u=o.find("select[name=tradeTypeSearch]").val(),d=o.find("select[name=bizTypeSearch]").val(),h=o.find("select[name=tradeStatus]").val(),f=o.find("input[name=startDate]").val(),p=o.find("input[name=endDate]").val();o.find("input[name=relatedCode]").val()}"buyer"===s?(e("body").on("click","a.ty-alitalk",function(){t.goldlog("/trade.20.1.25","CLK","","H46836990")}),e("body").on("click",".copylink",function(i){e(i.target).data("applyTo")===e(".bannerCorp")[0]&&t.goldlog("/trade.20.1.26","CLK","","H46836991"),e(i.target).data("applyTo")===e(".bannerMember")[0]&&t.goldlog("/trade.20.1.27","CLK","","H46836992")}),e("body").on("click",".logistics-detail-link",function(e){t.goldlog("/trade.20.1.29","",{},"H46836994")}),e(".order-list .order-id").dblclick(function(){t.goldlog("/trade.20.1.33","",{type:"buyer"},"")})):(e("body").on("click",".logistics-detail-link",function(e){t.goldlog("/trade.20.1.30","",{},"H46836964")}),e(".order-list .order-id").dblclick(function(){t.goldlog("/trade.20.1.33","",{type:"seller"},"")})),e.trim(r)&&t.goldlog("/trade.20.1.6","EXP",{},"H46807200"),e.trim(a)&&t.goldlog("/trade.20.1.7","EXP",{},"H46807201"),e.trim(l)&&t.goldlog("/trade.20.1.8","EXP",{},"H46807202"),e.trim(h)&&t.goldlog("/trade.20.1.9","EXP",{status_code:e.trim(h)},"H46807203"),e.trim(d)&&t.goldlog("/trade.20.1.10","EXP",{},"H46836964"),e.trim(f)&&e.trim(p)&&t.goldlog("/trade.20.1.11","EXP",{},"H46836965"),e.trim(u)&&t.goldlog("/trade.20.1.13","EXP",{},"H46836988"),e.trim(c)&&t.goldlog("/trade.20.1.14","EXP",{},"H46836989");var g=[];e("input[name^=hasNotEntriesOrderId]").each(function(t){g.push(e(this).val())}),g.length&&t.goldlog("/trade.20.1.22","EXP",{has_not_entries_order_id:g.join(",")},"H46836987"),new i(null,null,"goldlog").register({".buyAgainLink":{logkey:"/trade.20.1.1",gmkey:"CLK",chksum:"H46807174"},".order-recycle-link":{logkey:"/trade.20.1.2",gmkey:"CLK",chksum:"H46807196"},".buy-again-order":{logkey:"/trade.20.1.3",gmkey:"CLK",chksum:"H46807197"},'.filter-toggle-show-more[data-direction="bottom"]':{logkey:"/trade.20.1.4",gmkey:"CLK",gokey:{is_expand:!0},chksum:"H46807198"},'.filter-toggle-show-more[data-direction="top"]':{logkey:"/trade.20.1.4",gmkey:"CLK",gokey:{is_expand:!1},chksum:"H46807198"},".mod-filter button[name=submitSearch]":{logkey:"/trade.20.1.5",gmkey:"CLK",chksum:"H46807199"},".combinepay":{logkey:"/trade.20.1.15",gmkey:"CLK",chksum:"H46836990"},".bannerOrderDetail":{logkey:"/trade.20.1.16",gmkey:"CLK",chksum:"H46836991"},".combine-send-order":{logkey:"/trade.20.1.17",gmkey:"CLK",chksum:"H46836992"},".batch-close-order":{logkey:"/trade.20.1.18",gmkey:"CLK",chksum:"H46836993"},'.export-dropdown .option[data-value="export-checked"]':{logkey:"/trade.20.1.19",gmkey:"CLK",gokey:{type:"checked"},chksum:"H46836994"},'.export-dropdown .option[data-value="export-filtered"]':{logkey:"/trade.20.1.19",gmkey:"CLK",gokey:{type:"filtered"},chksum:"H46836994"},'.print-dropdown .option[data-type="printOrder"]':{logkey:"/trade.20.1.20",gmkey:"CLK",gokey:{type:"printOrder"},chksum:"H46836964"},'.print-dropdown .option[data-type="printSendList"]':{logkey:"/trade.20.1.20",gmkey:"CLK",gokey:{type:"printSendList"},chksum:"H46836964"},'.print-dropdown .option[data-type="printDelivery"]':{logkey:"/trade.20.1.20",gmkey:"CLK",gokey:{type:"printDelivery"},chksum:"H46836964"},"span.comment:not(.icon-write-note)":{logkey:"/trade.20.1.24",gmkey:"CLK",gokey:{type:"EDIT"},chksum:"H46836989"},"span.comment.icon-write-note":{logkey:"/trade.20.1.24",gmkey:"CLK",gokey:{type:"ADD"},chksum:"H46836989"},"span.icon-buyer-message":{logkey:"/trade.20.1.23",gmkey:"CLK",gokey:{type:"CLICK"},chksum:"H46836988"}}),new i(null,"mouseenter","goldlog").register({"span.icon-buyer-message":{logkey:"/trade.20.1.23",gmkey:"CLK",gokey:{type:"MOUSE_ENTER"},chksum:"H46836988"}}),n.attach("isHiddenCanceledOfferInited",function(){new i(null,null,"goldlog").register({"label[for=isHiddenCanceledOffer]":{logkey:"/trade.20.1.21",gmkey:"CLK",gokey:{is_hidden:!e("input[name=isHiddenCanceledOffer]").is(":checked")},chksum:"H46836965"}})}),window.AliLogTracker&&this.fullChainLog()},fullChainLog:function(){var t=((window.AliLogTracker||{}).plugins||{}).custom,i=e("#memberRole").val();e(".mod-subtitle .order-classification-container li").click(function(){t&&t.report({action:"orderListClassification",ext:{memberRole:i,option:e(this).find("a.tab-option").data("value")},goldlog:{gmkey:"CLK"},sls:!0})}),e(".mod-batch-bar #mergeTradePaymentBtn").click(function(){t&&t.report({action:"combinepay",ext:{memberRole:i},goldlog:{gmkey:"CLK"},sls:!0})}),e(".mod-batch-bar .unit-pagination .paging-shortcut .pre").click(function(){t&&t.report({action:"prevPage",ext:{memberRole:i,totalPage:e(".mod-batch-bar .paging-jumper .pages-total").html(),currentPage:e(".mod-batch-bar .paging-list .active").html()},goldlog:{gmkey:"CLK"},sls:!0})}),e(".mod-batch-bar .unit-pagination .paging-shortcut .next").click(function(){t&&t.report({action:"nextPage",ext:{memberRole:i,totalPage:e(".mod-batch-bar .paging-jumper .pages-total").html(),currentPage:e(".mod-batch-bar .paging-list .active").html()},goldlog:{gmkey:"CLK"},sls:!0})}),e(".mod-batch-bar .paging-list li").click(function(){t&&t.report({action:"clickPageNum",ext:{memberRole:i,totalPage:e(".mod-batch-bar .paging-jumper .pages-total").html(),currentPage:e(".mod-batch-bar .paging-list .active").html(),nextPage:e(this).find("a").html()},goldlog:{gmkey:"CLK"},sls:!0})}),e(".mod-batch-bar .paging-jumper .button").click(function(){t&&t.report({action:"goPageNum",ext:{memberRole:i,totalPage:e(".mod-batch-bar .paging-jumper .pages-total").html(),currentPage:e(".mod-batch-bar .paging-list .active").html(),nextPage:e(".mod-batch-bar .paging-jumper #gotoPage").val()},goldlog:{gmkey:"CLK"},sls:!0})})}}}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t(),module.exports.introJs=function(){return console.warn('Deprecated: please use require("intro.js") directly, instead of the introJs method of the function'),t().apply(this,arguments)};else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.introJs=t()}}(function(){var t="2.9.0-alpha.1";function e(t){this._targetElement=t,this._introItems=[],this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:!1,hideNext:!1,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.8,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0}}function i(t){var e=[],i=this;if(this._options.steps)k(this._options.steps,function(t){var i=n(t);if(i.step=e.length+1,"string"==typeof i.element&&(i.element=document.querySelector(i.element)),"undefined"==typeof i.element||null===i.element){var o=document.querySelector(".introjsFloatingElement");null===o&&(o=document.createElement("div"),o.className="introjsFloatingElement",document.body.appendChild(o)),i.element=o,i.position="floating"}i.scrollTo=i.scrollTo||this._options.scrollTo,"undefined"==typeof i.disableInteraction&&(i.disableInteraction=this._options.disableInteraction),null!==i.element&&e.push(i)}.bind(this));else{var o,s=t.querySelectorAll("*[data-intro]"),l=s.length;if(1>l)return!1;k(s,function(t){if("none"!==t.style.display){var i=parseInt(t.getAttribute("data-step"),10);o="undefined"!=typeof t.getAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):this._options.disableInteraction,i>0&&(e[i-1]={element:t,intro:t.getAttribute("data-intro"),step:parseInt(t.getAttribute("data-step"),10),tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:o})}}.bind(this));var u=0;k(s,function(t){if(null===t.getAttribute("data-step")){for(;;){if("undefined"==typeof e[u])break;u++}o="undefined"!=typeof t.getAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):this._options.disableInteraction,e[u]={element:t,intro:t.getAttribute("data-intro"),step:u+1,tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:o}}}.bind(this))}for(var d=[],h=0;h<e.length;h++)e[h]&&d.push(e[h]);return e=d,e.sort(function(t,e){return t.step-e.step}),i._introItems=e,A.call(i,t)&&(r.call(i),i._onKeyDown=function(e){var n=null===e.code?e.which:e.code;if(null===n&&(n=null===e.charCode?e.keyCode:e.charCode),"Escape"!==n&&27!==n||i._options.exitOnEsc!==!0){if("ArrowLeft"===n||37===n)a.call(i);else if("ArrowRight"===n||39===n)r.call(i);else if("Enter"===n||13===n){var o=e.target||e.srcElement;o&&o.className.match("introjs-prevbutton")?a.call(i):o&&o.className.match("introjs-skipbutton")?(i._introItems.length-1===i._currentStep&&"function"==typeof i._introCompleteCallback&&i._introCompleteCallback.call(i),c.call(i,t)):r.call(i),e.preventDefault?e.preventDefault():e.returnValue=!1}}else c.call(i,t)},i._onResize=function(){i.refresh.call(i)},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",i._onKeyDown,!0),window.addEventListener("resize",i._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",i._onKeyDown),document.attachEvent("onresize",i._onResize))),!1}function n(t){if(null===t||"object"!=typeof t||"undefined"!=typeof t.nodeType)return t;var e={};for(var i in t)e[i]="undefined"!=typeof window.jQuery&&t[i]instanceof window.jQuery?t[i]:n(t[i]);return e}function o(t){this._currentStep=t-2,"undefined"!=typeof this._introItems&&r.call(this)}function s(t){this._currentStepNumber=t,"undefined"!=typeof this._introItems&&r.call(this)}function r(){this._direction="forward","undefined"!=typeof this._currentStepNumber&&k(this._introItems,function(t,e){t.step===this._currentStepNumber&&(this._currentStep=e-1,this._currentStepNumber=void 0)}.bind(this)),"undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep;var t=this._introItems[this._currentStep],e=!0;return"undefined"!=typeof this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t.element)),e===!1?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void c.call(this,this._targetElement)):void b.call(this,t)}function a(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var t=this._introItems[this._currentStep],e=!0;return"undefined"!=typeof this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t.element)),e===!1?(++this._currentStep,!1):void b.call(this,t)}function l(){if(m.call(this,document.querySelector(".introjs-helperLayer")),m.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),m.call(this,document.querySelector(".introjs-disableInteraction")),void 0!==this._currentStep&&null!==this._currentStep){var t=document.querySelector(".introjs-helperNumberLayer"),e=document.querySelector(".introjs-arrow"),i=document.querySelector(".introjs-tooltip");u.call(this,this._introItems[this._currentStep].element,i,e,t)}return P.call(this),this}function c(t,e){var i=!0;if(void 0!==this._introBeforeExitCallback&&(i=this._introBeforeExitCallback.call(this)),e||i!==!1){var n=t.querySelectorAll(".introjs-overlay");n&&n.length&&k(n,function(t){t.style.opacity=0,window.setTimeout(function(){this.parentNode&&this.parentNode.removeChild(this)}.bind(t),500)}.bind(this));var o=t.querySelector(".introjs-helperLayer");o&&o.parentNode.removeChild(o);var s=t.querySelector(".introjs-tooltipReferenceLayer");s&&s.parentNode.removeChild(s);var r=t.querySelector(".introjs-disableInteraction");r&&r.parentNode.removeChild(r);var a=document.querySelector(".introjsFloatingElement");a&&a.parentNode.removeChild(a),_();var l=document.querySelectorAll(".introjs-fixParent");k(l,function(t){x(t,/introjs-fixParent/g)}),window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0}}function u(t,e,i,n,o){var s,r,a,l,c,u="";if(o=o||!1,e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,i.style.display="inherit","undefined"!=typeof n&&null!==n&&(n.style.top=null,n.style.left=null),this._introItems[this._currentStep]){s=this._introItems[this._currentStep],u="string"==typeof s.tooltipClass?s.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+u).replace(/^\s+|\s+$/g,""),e.setAttribute("role","dialog"),c=this._introItems[this._currentStep].position,"floating"!==c&&(c=f.call(this,t,e,c));var p;switch(a=G(t),r=G(e),l=O(),S(e,"introjs-"+c),c){case"top-right-aligned":i.className="introjs-arrow bottom-right";var g=0;h(a,g,r,e),e.style.bottom=a.height+20+"px";break;case"top-middle-aligned":i.className="introjs-arrow bottom-middle";var m=a.width/2-r.width/2;o&&(m+=5),h(a,m,r,e)&&(e.style.right=null,d(a,m,r,l,e)),e.style.bottom=a.height+20+"px";break;case"top-left-aligned":case"top":i.className="introjs-arrow bottom",p=o?0:15,d(a,p,r,l,e),e.style.bottom=a.height+20+"px";break;case"right":e.style.left=a.width+20+"px",a.top+r.height>l.height?(i.className="introjs-arrow left-bottom",e.style.top="-"+(r.height-a.height-20)+"px"):i.className="introjs-arrow left";break;case"left":o||this._options.showStepNumbers!==!0||(e.style.top="15px"),a.top+r.height>l.height?(e.style.top="-"+(r.height-a.height-20)+"px",i.className="introjs-arrow right-bottom"):i.className="introjs-arrow right",e.style.right=a.width+20+"px";break;case"floating":i.style.display="none",e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+r.width/2+"px",e.style.marginTop="-"+r.height/2+"px","undefined"!=typeof n&&null!==n&&(n.style.left="-"+(r.width/2+18)+"px",n.style.top="-"+(r.height/2+18)+"px");break;case"bottom-right-aligned":i.className="introjs-arrow top-right",g=0,h(a,g,r,e),e.style.top=a.height+20+"px";break;case"bottom-middle-aligned":i.className="introjs-arrow top-middle",m=a.width/2-r.width/2,o&&(m+=5),h(a,m,r,e)&&(e.style.right=null,d(a,m,r,l,e)),e.style.top=a.height+20+"px";break;default:i.className="introjs-arrow top",p=0,d(a,p,r,l,e),e.style.top=a.height+20+"px"}}}function d(t,e,i,n,o){return t.left+e+i.width>n.width?(o.style.left=n.width-i.width-t.left+"px",!1):(o.style.left=e+"px",!0)}function h(t,e,i,n){return t.left+t.width-e-i.width<0?(n.style.left=-t.left+"px",!1):(n.style.right=e+"px",!0)}function f(t,e,i){var n=this._options.positionPrecedence.slice(),o=O(),s=G(e).height+10,r=G(e).width+20,a=t.getBoundingClientRect(),l="floating";a.bottom+s+s>o.height&&g(n,"bottom"),a.top-s<0&&g(n,"top"),a.right+r>o.width&&g(n,"right"),a.left-r<0&&g(n,"left");var c=function(t){var e=t.indexOf("-");return-1!==e?t.substr(e):""}(i||"");return i&&(i=i.split("-")[0]),n.length&&(l="auto"!==i&&n.indexOf(i)>-1?i:n[0]),-1!==["top","bottom"].indexOf(l)&&(l+=p(a.left,r,o,c)),l}function p(t,e,i,n){var o=e/2,s=Math.min(i.width,window.screen.width),r=["-left-aligned","-middle-aligned","-right-aligned"],a="";return e>s-t&&g(r,"-left-aligned"),(o>t||o>s-t)&&g(r,"-middle-aligned"),e>t&&g(r,"-right-aligned"),a=r.length?-1!==r.indexOf(n)?n:r[0]:"-middle-aligned"}function g(t,e){t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)}function m(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],i=G(e.element),n=this._options.helperElementPadding;T(e.element)?S(t,"introjs-fixedTooltip"):x(t,"introjs-fixedTooltip"),"floating"===e.position&&(n=0),t.setAttribute("style","width: "+(i.width+n)+"px; height:"+(i.height+n)+"px; top:"+(i.top-n/2)+"px;left: "+(i.left-n/2)+"px;");

}}function v(){var t=document.querySelector(".introjs-disableInteraction");null===t&&(t=document.createElement("div"),t.className="introjs-disableInteraction",this._targetElement.appendChild(t)),m.call(this,t)}function y(t){t.setAttribute("role","button"),t.tabIndex=0}function b(t){"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var e,i,n,o=this,s=document.querySelector(".introjs-helperLayer"),l=document.querySelector(".introjs-tooltipReferenceLayer"),d="introjs-helperLayer";if("string"==typeof t.highlightClass&&(d+=" "+t.highlightClass),"string"==typeof this._options.highlightClass&&(d+=" "+this._options.highlightClass),null!==s){var h=l.querySelector(".introjs-helperNumberLayer"),f=l.querySelector(".introjs-tooltiptext"),p=l.querySelector(".introjs-arrow"),g=l.querySelector(".introjs-tooltip");if(n=l.querySelector(".introjs-skipbutton"),i=l.querySelector(".introjs-prevbutton"),e=l.querySelector(".introjs-nextbutton"),s.className=d,g.style.opacity=0,g.style.display="none",null!==h){var b=this._introItems[t.step-2>=0?t.step-2:0];(null!==b&&"forward"===this._direction&&"floating"===b.position||"backward"===this._direction&&"floating"===t.position)&&(h.style.opacity=0)}m.call(o,s),m.call(o,l);var D=document.querySelectorAll(".introjs-fixParent");k(D,function(t){x(t,/introjs-fixParent/g)}),_(),o._lastShowElementTimer&&window.clearTimeout(o._lastShowElementTimer),o._lastShowElementTimer=window.setTimeout(function(){null!==h&&(h.innerHTML=t.step),f.innerHTML=t.intro,g.style.display="block",u.call(o,t.element,g,p,h),o._options.showBullets&&(l.querySelector(".introjs-bullets li > a.active").className="",l.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active"),l.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style","width:"+W.call(o)+"%;"),l.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",W.call(o)),g.style.opacity=1,h&&(h.style.opacity=1),"undefined"!=typeof n&&null!==n&&/introjs-donebutton/gi.test(n.className)?n.focus():"undefined"!=typeof e&&null!==e&&e.focus(),w.call(o,t.scrollTo,t,f)},350)}else{var T=document.createElement("div"),O=document.createElement("div"),E=document.createElement("div"),A=document.createElement("div"),M=document.createElement("div"),I=document.createElement("div"),P=document.createElement("div"),R=document.createElement("div");T.className=d,O.className="introjs-tooltipReferenceLayer",m.call(o,T),m.call(o,O),this._targetElement.appendChild(T),this._targetElement.appendChild(O),E.className="introjs-arrow",M.className="introjs-tooltiptext",M.innerHTML=t.intro,I.className="introjs-bullets",this._options.showBullets===!1&&(I.style.display="none");var j=document.createElement("ul");j.setAttribute("role","tablist");var Y=function(){o.goToStep(this.getAttribute("data-stepnumber"))};k(this._introItems,function(e,i){var n=document.createElement("li"),o=document.createElement("a");n.setAttribute("role","presentation"),o.setAttribute("role","tab"),o.onclick=Y,i===t.step-1&&(o.className="active"),y(o),o.innerHTML="&nbsp;",o.setAttribute("data-stepnumber",e.step),n.appendChild(o),j.appendChild(n)}),I.appendChild(j),P.className="introjs-progress",this._options.showProgress===!1&&(P.style.display="none");var F=document.createElement("div");F.className="introjs-progressbar",F.setAttribute("role","progress"),F.setAttribute("aria-valuemin",0),F.setAttribute("aria-valuemax",100),F.setAttribute("aria-valuenow",W.call(this)),F.setAttribute("style","width:"+W.call(this)+"%;"),P.appendChild(F),R.className="introjs-tooltipbuttons",this._options.showButtons===!1&&(R.style.display="none"),A.className="introjs-tooltip",A.appendChild(M),A.appendChild(I),A.appendChild(P);var L=document.createElement("span");this._options.showStepNumbers===!0&&(L.className="introjs-helperNumberLayer",L.innerHTML=t.step,O.appendChild(L)),A.appendChild(E),O.appendChild(A),e=document.createElement("a"),e.onclick=function(){o._introItems.length-1!==o._currentStep&&r.call(o)},y(e),e.innerHTML=this._options.nextLabel,i=document.createElement("a"),i.onclick=function(){0!==o._currentStep&&a.call(o)},y(i),i.innerHTML=this._options.prevLabel,n=document.createElement("a"),n.className="introjs-button introjs-skipbutton",y(n),n.innerHTML=this._options.skipLabel,n.onclick=function(){o._introItems.length-1===o._currentStep&&"function"==typeof o._introCompleteCallback&&o._introCompleteCallback.call(o),c.call(o,o._targetElement)},R.appendChild(n),this._introItems.length>1&&(R.appendChild(i),R.appendChild(e)),A.appendChild(R),u.call(o,t.element,A,E,L),w.call(this,t.scrollTo,t,A)}var N=o._targetElement.querySelector(".introjs-disableInteraction");N&&N.parentNode.removeChild(N),t.disableInteraction&&v.call(o),0===this._currentStep&&this._introItems.length>1?("undefined"!=typeof n&&null!==n&&(n.className="introjs-button introjs-skipbutton"),"undefined"!=typeof e&&null!==e&&(e.className="introjs-button introjs-nextbutton"),this._options.hidePrev===!0?("undefined"!=typeof i&&null!==i&&(i.className="introjs-button introjs-prevbutton introjs-hidden"),"undefined"!=typeof e&&null!==e&&S(e,"introjs-fullbutton")):"undefined"!=typeof i&&null!==i&&(i.className="introjs-button introjs-prevbutton introjs-disabled"),"undefined"!=typeof n&&null!==n&&(n.innerHTML=this._options.skipLabel)):this._introItems.length-1===this._currentStep||1===this._introItems.length?("undefined"!=typeof n&&null!==n&&(n.innerHTML=this._options.doneLabel,S(n,"introjs-donebutton")),"undefined"!=typeof i&&null!==i&&(i.className="introjs-button introjs-prevbutton"),this._options.hideNext===!0?("undefined"!=typeof e&&null!==e&&(e.className="introjs-button introjs-nextbutton introjs-hidden"),"undefined"!=typeof i&&null!==i&&S(i,"introjs-fullbutton")):"undefined"!=typeof e&&null!==e&&(e.className="introjs-button introjs-nextbutton introjs-disabled")):("undefined"!=typeof n&&null!==n&&(n.className="introjs-button introjs-skipbutton"),"undefined"!=typeof i&&null!==i&&(i.className="introjs-button introjs-prevbutton"),"undefined"!=typeof e&&null!==e&&(e.className="introjs-button introjs-nextbutton"),"undefined"!=typeof n&&null!==n&&(n.innerHTML=this._options.skipLabel)),i.setAttribute("role","button"),e.setAttribute("role","button"),n.setAttribute("role","button"),"undefined"!=typeof e&&null!==e&&e.focus(),C(t),"undefined"!=typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function w(t,e,i){if("off"!==t){var n;if(this._options.scrollToElement&&(n="tooltip"===t?i.getBoundingClientRect():e.element.getBoundingClientRect(),!E(e.element))){var o=O().height,s=n.bottom-(n.bottom-n.top);0>s||e.element.clientHeight>o?window.scrollBy(0,n.top-(o/2-n.height/2)-this._options.scrollPadding):window.scrollBy(0,n.top-(o/2-n.height/2)+this._options.scrollPadding)}}}function _(){var t=document.querySelectorAll(".introjs-showElement");k(t,function(t){x(t,/introjs-[a-zA-Z]+/g)})}function C(t){var e;if(t.element instanceof SVGElement)for(e=t.element.parentNode;null!==t.element.parentNode&&e.tagName&&"body"!==e.tagName.toLowerCase();)"svg"===e.tagName.toLowerCase()&&S(e,"introjs-showElement introjs-relativePosition"),e=e.parentNode;S(t.element,"introjs-showElement");var i=D(t.element,"position");for("absolute"!==i&&"relative"!==i&&"fixed"!==i&&S(t.element,"introjs-relativePosition"),e=t.element.parentNode;null!==e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var n=D(e,"z-index"),o=parseFloat(D(e,"opacity")),s=D(e,"transform")||D(e,"-webkit-transform")||D(e,"-moz-transform")||D(e,"-ms-transform")||D(e,"-o-transform");(/[0-9]+/.test(n)||1>o||"none"!==s&&void 0!==s)&&S(e,"introjs-fixParent"),e=e.parentNode}}function k(t,e,i){if(t)for(var n=0,o=t.length;o>n;n++)e(t[n],n);"function"==typeof i&&i()}function S(t,e){if(t instanceof SVGElement){var i=t.getAttribute("class")||"";t.setAttribute("class",i+" "+e)}else if(void 0!==t.classList){var n=e.split(" ");k(n,function(e){t.classList.add(e)})}else t.className.match(e)||(t.className+=" "+e)}function x(t,e){if(t instanceof SVGElement){var i=t.getAttribute("class")||"";t.setAttribute("class",i.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function D(t,e){var i="";return t.currentStyle?i=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),i&&i.toLowerCase?i.toLowerCase():i}function T(t){var e=t.parentNode;return e&&"HTML"!==e.nodeName?"fixed"===D(t,"position")?!0:T(e):!1}function O(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function E(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}function A(t){var e=document.createElement("div"),i="",n=this;if(e.className="introjs-overlay",t.tagName&&"body"!==t.tagName.toLowerCase()){var o=G(t);o&&(i+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",e.setAttribute("style",i))}else i+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",i);return t.appendChild(e),e.onclick=function(){n._options.exitOnOverlayClick===!0&&c.call(n,t)},window.setTimeout(function(){i+="opacity: "+n._options.overlayOpacity.toString()+";",e.setAttribute("style",i)},10),!0}function M(){var t=document.querySelector(".introjs-hintReference");if(t){var e=t.getAttribute("data-step");return t.parentNode.removeChild(t),e}}function I(t){if(this._introItems=[],this._options.hints)k(this._options.hints,function(t){var e=n(t);"string"==typeof e.element&&(e.element=document.querySelector(e.element)),e.hintPosition=e.hintPosition||this._options.hintPosition,e.hintAnimation=e.hintAnimation||this._options.hintAnimation,null!==e.element&&this._introItems.push(e)}.bind(this));else{var e=t.querySelectorAll("*[data-hint]");if(!e||!e.length)return!1;k(e,function(t){var e=t.getAttribute("data-hintanimation");e=e?"true"===e:this._options.hintAnimation,this._introItems.push({element:t,hint:t.getAttribute("data-hint"),hintPosition:t.getAttribute("data-hintposition")||this._options.hintPosition,hintAnimation:e,tooltipClass:t.getAttribute("data-tooltipclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition})}.bind(this))}B.call(this),document.addEventListener?(document.addEventListener("click",M.bind(this),!1),window.addEventListener("resize",P.bind(this),!0)):document.attachEvent&&(document.attachEvent("onclick",M.bind(this)),document.attachEvent("onresize",P.bind(this)))}function P(){k(this._introItems,function(t){"undefined"!=typeof t.targetElement&&U.call(this,t.hintPosition,t.element,t.targetElement)}.bind(this))}function R(t){var e=document.querySelector(".introjs-hints");return e?e.querySelectorAll(t):[]}function j(t){var e=R('.introjs-hint[data-step="'+t+'"]')[0];M.call(this),e&&S(e,"introjs-hidehint"),"undefined"!=typeof this._hintCloseCallback&&this._hintCloseCallback.call(this,t)}function Y(){var t=R(".introjs-hint");k(t,function(t){j.call(this,t.getAttribute("data-step"))}.bind(this))}function F(){var t=R(".introjs-hint");t&&t.length?k(t,function(t){L.call(this,t.getAttribute("data-step"))}.bind(this)):I.call(this,this._targetElement)}function L(t){var e=R('.introjs-hint[data-step="'+t+'"]')[0];e&&x(e,/introjs-hidehint/g)}function N(){var t=R(".introjs-hint");k(t,function(t){H.call(this,t.getAttribute("data-step"))}.bind(this))}function H(t){var e=R('.introjs-hint[data-step="'+t+'"]')[0];e&&e.parentNode.removeChild(e)}function B(){var t=this,e=document.querySelector(".introjs-hints");null===e&&(e=document.createElement("div"),e.className="introjs-hints");var i=function(e){return function(i){var n=i?i:window.event;n.stopPropagation&&n.stopPropagation(),null!==n.cancelBubble&&(n.cancelBubble=!0),$.call(t,e)}};k(this._introItems,function(t,n){if(!document.querySelector('.introjs-hint[data-step="'+n+'"]')){var o=document.createElement("a");y(o),o.onclick=i(n),o.className="introjs-hint",t.hintAnimation||S(o,"introjs-hint-no-anim"),T(t.element)&&S(o,"introjs-fixedhint");var s=document.createElement("div");s.className="introjs-hint-dot";var r=document.createElement("div");r.className="introjs-hint-pulse",o.appendChild(s),o.appendChild(r),o.setAttribute("data-step",n),t.targetElement=t.element,t.element=o,U.call(this,t.hintPosition,o,t.targetElement),e.appendChild(o)}}.bind(this)),document.body.appendChild(e),"undefined"!=typeof this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function U(t,e,i){var n=G.call(this,i),o=20,s=20;switch(t){default:case"top-left":e.style.left=n.left+"px",e.style.top=n.top+"px";break;case"top-right":e.style.left=n.left+n.width-o+"px",e.style.top=n.top+"px";break;case"bottom-left":e.style.left=n.left+"px",e.style.top=n.top+n.height-s+"px";break;case"bottom-right":e.style.left=n.left+n.width-o+"px",e.style.top=n.top+n.height-s+"px";break;case"middle-left":e.style.left=n.left+"px",e.style.top=n.top+(n.height-s)/2+"px";break;case"middle-right":e.style.left=n.left+n.width-o+"px",e.style.top=n.top+(n.height-s)/2+"px";break;case"middle-middle":e.style.left=n.left+(n.width-o)/2+"px",e.style.top=n.top+(n.height-s)/2+"px";break;case"bottom-middle":e.style.left=n.left+(n.width-o)/2+"px",e.style.top=n.top+n.height-s+"px";break;case"top-middle":e.style.left=n.left+(n.width-o)/2+"px",e.style.top=n.top+"px"}}function $(t){var e=document.querySelector('.introjs-hint[data-step="'+t+'"]'),i=this._introItems[t];"undefined"!=typeof this._hintClickCallback&&this._hintClickCallback.call(this,e,i,t);var n=M.call(this);if(parseInt(n,10)!==t){var o=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div");o.className="introjs-tooltip",o.onclick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},s.className="introjs-tooltiptext";var l=document.createElement("p");l.innerHTML=i.hint;var c=document.createElement("a");c.className="introjs-button",c.setAttribute("role","button"),c.innerHTML=this._options.hintButtonLabel,c.onclick=j.bind(this,t),s.appendChild(l),s.appendChild(c),r.className="introjs-arrow",o.appendChild(r),o.appendChild(s),this._currentStep=e.getAttribute("data-step"),a.className="introjs-tooltipReferenceLayer introjs-hintReference",a.setAttribute("data-step",e.getAttribute("data-step")),m.call(this,a),a.appendChild(o),document.body.appendChild(a),u.call(this,e,o,r,null,!0)}}function G(t){var e={},i=document.body,n=document.documentElement,o=window.pageYOffset||n.scrollTop||i.scrollTop,s=window.pageXOffset||n.scrollLeft||i.scrollLeft;if(t instanceof SVGElement){var r=t.getBoundingClientRect();e.top=r.top+o,e.width=r.width,e.height=r.height,e.left=r.left+s}else{e.width=t.offsetWidth,e.height=t.offsetHeight;for(var a=0,l=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)a+=t.offsetLeft,l+=t.offsetTop,t=t.offsetParent;e.top=l,e.left=a}return e}function W(){var t=parseInt(this._currentStep+1,10);return t/this._introItems.length*100}function q(t,e){var i,n={};for(i in t)n[i]=t[i];for(i in e)n[i]=e[i];return n}var z=function(t){if("object"==typeof t)return new e(t);if("string"==typeof t){var i=document.querySelector(t);if(i)return new e(i);throw new Error("There is no element with given selector.")}return new e(document.body)};return z.version=t,z.fn=e.prototype={clone:function(){return new e(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=q(this._options,t),this},start:function(){return i.call(this,this._targetElement),this},goToStep:function(t){return o.call(this,t),this},addStep:function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},addSteps:function(t){if(t.length){for(var e=0;e<t.length;e++)this.addStep(t[e]);return this}},goToStepNumber:function(t){return s.call(this,t),this},nextStep:function(){return r.call(this),this},previousStep:function(){return a.call(this),this},exit:function(t){return c.call(this,this._targetElement,t),this},refresh:function(){return l.call(this),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onhintsadded:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},onhintclick:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},onhintclose:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},onbeforeexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},addHints:function(){return I.call(this,this._targetElement),this},hideHint:function(t){return j.call(this,t),this},hideHints:function(){return Y.call(this),this},showHint:function(t){return L.call(this,t),this},showHints:function(){return F.call(this),this},removeHints:function(){return N.call(this),this},removeHint:function(t){return H.call(this,t),this},showHintDialog:function(t){return $.call(this,t),this}},z}),define("flow/trade/module/order-list/pay-countdown",["jquery","doit/widget/countdown"],function(t,e){"use strict";return{init:function(){this.initCountdowns()},initCountdowns:function(){var i=this;t(".pay-countdown").each(function(){var n=t(this),o=n.data("timeout");if(o&&"object"==typeof o){n.css("display","inline-block");var s=24*o.day*3600+3600*o.hour+60*o.min+o.sec,r=new e({interval:1e3,countSize:s,onCountDown:function(t){var e=i.convert2TimeModel(t),o="";e.day>0&&(o+=e.day+"\u5929"),e.hour>0&&(o+=e.hour+"\u5c0f\u65f6"),e.min>0&&(o+=e.min+"\u5206"),n.text(o)},onCountDownEnd:function(){n.text("0\u59290\u5c0f\u65f60\u5206")}});r.countDown()}})},convert2TimeModel:function(t){var e=Math.floor(t/86400);t-=3600*e*24;var i=Math.floor(t/3600)%24;t-=3600*i;var n=Math.floor(t/60)%60;t-=60*n;var o=t%60;return{day:e,hour:i,min:n,second:o}}}}),window.lofty&&-1!==lofty.config("baseUrl").indexOf("g.alicdn.com")){var depVersion={sys:"0.0.2",fdevlib:"0.0.3",doit:"0.0.1",just:"0.0.2",flow:"0.0.5"};lofty.config({stamp:{".*":"20200420"}}),lofty.on("resolve",function(t){for(var e in depVersion)if(t.url&&(0===t.url.indexOf(e)||0===t.url.indexOf("app/"+e)))return void(t.url=0===t.url.indexOf("app")?t.url.replace("app",["ctf",e,depVersion[e]].join("/")):["ctf",e,depVersion[e]].join("/")+"/"+t.url)})}define(["jquery","justPage","require","flow/trade/module/order-list/list-logistics-status","flow/trade/module/order-list/list-invoice","flow/trade/module/order-list/list-actions","doit/mod/tooltip-support","doit/mod/bubbletip-support","doit/widget/ui/bubbletip-dpl-tpl","flow/trade/module/order-list/frame-dialog-helper","flow/trade/module/common-action/verify-order-pay"],function(t,e,i,n,o,s,r,a,l,c,u){e.register(function(){c.init()}),e.register("flow/trade/module/order-list/copy"),e.register(function(){"buyer"===t("#memberRole").val()&&i("flow/trade/module/order-list/combinepay")}),e.register(function(){t("#listBox .act-archive").length&&i("flow/trade/module/order-list/archive")}),e.register(function(){try{s.init()}catch(t){console.error("[flow/trade/module/order-list/list-actions]init error:"+t.message)}try{n.init()}catch(t){console.error("[flow/trade/module/order-list/list-logistics-status]init error:"+t.message)}try{o.init()}catch(t){console.error("[flow/trade/module/order-list/list-invoice]init error:"+t.message)}try{r("#new-content",{alignType:"tl",cls:"tooltip"})}catch(t){console.error("[doit/mod/tooltip-support]init error:"+t.message)}}),e.register("flow/trade/module/order-list/ladder-group-countdown"),e.register("flow/trade/module/order-list/pay-countdown"),e.register("flow/trade/module/order-list/list-misc"),e.register("flow/trade/module/order-list/tab-bubble"),e.register(function(){a(t("#content"),{insertTipContainer:function(t,e){var i=e.closest("li");return t.appendTo(i.length>0?i:e.parent())},isAutoFitInnerWidth:!1,tpl:l})}),e.use("flow/trade/module/order-list/alipay-level-warning"),e.register(["flow/trade/module/order-list/log","flow/doit/tracekit","flow/trade/module/order-list/error-log","flow/trade/module/order-list/is-hidden-cancel-offer","flow/trade/module/order-list/filter/trade-status","flow/trade/module/order-list/mod/filter/settle-status","flow/trade/module/order-list/order-classification","flow/trade/module/order-list/more-status","flow/trade/module/order-list/filter/trade-time-select","flow/trade/module/order-list/filter/trade-type-search","flow/trade/module/order-list/filter/biz-type-search","flow/trade/module/order-list/check-order-list","flow/trade/module/order-list/batch-dispatch","flow/trade/module/order-list/export","flow/trade/module/order-list/print","flow/trade/module/order-list/alitalk","flow/trade/module/order-list/delivery-company-dialog","flow/trade/module/order-list/auto-receive-timer","flow/trade/module/order-list/filter-toggle-show-more","flow/trade/module/order-list/highlight-keywords","flow/trade/module/order-list/date-picker","flow/trade/module/order-list/top-notice","flow/trade/module/order-list/get-memo-info","flow/trade/module/order-list/invoice-status","flow/trade/module/order-list/get-feedback-info"]),u.init(t("#orderList"))}),define("flow/trade/module/order-list/consignment-auto-dictionary-fail-balloon",["jquery","doit/widget/ui/bubbletip"],function(t,e){return{init:function(){var i=t(".error-reason-tips");i.each(function(i,n){var o=t(n).data("error-reason");new e({maxWidth:400,isHideOnDocClick:!0,isHoldOnTip:!0,arrowMargin:10,isAutoPos:!0,alignType:"tr",container:"body",applyTo:t(n),content:"<div>"+o+'<a href="https://114.1688.com/kb/detail/1060048743.html" style="margin-left: 10px;color: #07f;" target="_blank">\u67e5\u770b\u8be6\u60c5</a></div>',onBeforeHide:function(){}})})}}}),define(["jquery","justPage","doit/mod/trade-resource-position","flow/trade/module/order-list/recom","flow/trade/module/order-list/consignment-auto-dictionary-fail-balloon"],function(t,e,i,n,o){e.register(function(){i.init(),n.init(),o.init()})});