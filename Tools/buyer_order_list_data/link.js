define("lofty/lang/class",function(){"use strict";function t(){}var e={}.toString,n=function(t){return"[object Function]"===e.call(t)},i=function(t,e){var n,i;for(i in e)n=e[i],void 0!==n&&(t[i]=n);return t},r=function(e,r){r||(r=e,e=null);var o=function(){var t=this.initialize||this.init;n(t)&&t.apply(this,arguments)},s={};return e&&(t.prototype=o.superclass=n(e)?e.prototype:e,s=new t),o.prototype=i(s,r),o.prototype.constructor=o,o};return r}),define("lofty/lang/attribute",["lofty/lang/class"],function(t){"use strict";function e(t){return"[object String]"===v.call(t)}function n(t){return null!=t&&t==t.window}function i(t){if(!t||"[object Object]"!==v.call(t)||t.nodeType||n(t))return!1;try{if(t.constructor&&!g.call(t,"constructor")&&!g.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i;if(p)for(i in t)return g.call(t,i);for(i in t);return void 0===i||g.call(t,i)}function r(t){if(!t||"[object Object]"!==v.call(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e){var n,r;for(n in e)if(e.hasOwnProperty(n)){if(r=e[n],y(r))r=r.slice();else if(i(r)){var s=t[n];i(s)||(s={}),r=o(s,r)}t[n]=r}return t}function s(t,e){for(var n=[],i=e.constructor.prototype;i;)i.hasOwnProperty("options")||(i.options={}),r(i.options)||n.unshift(i.options),i=i.constructor.superclass;for(var s=0,a=n.length;a>s;s++)o(t,c(n[s]))}function a(t,e){o(t,c(e,!0))}function u(t,e,n){var i={silent:!0};t.__initializingAttrs=!0;for(var r in n)n.hasOwnProperty(r)&&e[r].setter&&t.set(r,e[r].value,i);delete t.__initializingAttrs}function c(t,e){var n={};for(var r in t){var o=t[r];n[r]=!e&&i(o)&&l(o,b)?o:{value:o}}return n}function l(t,e){for(var n=0,i=e.length;i>n;n++)if(t.hasOwnProperty(e[n]))return!0;return!1}function f(t){return null==t||(e(t)||y(t))&&0===t.length||r(t)}function h(t,e){if(t===e)return!0;if(f(t)&&f(e))return!0;var n=v.call(t);if(n!=v.call(e))return!1;switch(n){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase;case"[object Array]":var r=t.toString(),o=e.toString();return-1===r.indexOf("[object")&&-1===o.indexOf("[object")&&r===o}if("object"!=typeof t||"object"!=typeof e)return!1;if(i(t)&&i(e)){if(!h(m(t),m(e)))return!1;for(var s in t)if(t[s]!==e[s])return!1;return!0}return!1}var p,d=t({initOptions:function(t){var e=this.options={};s(e,this),t&&a(e,t),u(this,e,t)},get:function(t){var e=this.options[t]||{},n=e.value;return e.getter?e.getter.call(this,n,t):n},set:function(t,n,r){var s={};e(t)?s[t]=n:(s=t,r=n),r||(r={});var a=r.silent,u=r.override,c=this.options,l=this.__changedAttrs||(this.__changedAttrs={});for(t in s)if(s.hasOwnProperty(t)){var f=c[t]||(c[t]={});if(n=s[t],f.readOnly)throw new Error("This attribute is readOnly: "+t);f.setter&&(n=f.setter.call(this,n,t));var p=this.get(t);!u&&i(p)&&i(n)&&(n=o(o({},p),n)),c[t].value=n,this.__initializingAttrs||h(p,n)||(a?l[t]=[n,p]:this.trigger(t+"Changed",n,p,t))}return this},change:function(){var t=this.__changedAttrs;if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];this.trigger(e+"Changed",n[0],n[1],e)}delete this.__changedAttrs}return this}}),v=Object.prototype.toString,g=Object.prototype.hasOwnProperty;!function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);p="x"!==e[0]}();var y=Array.isArray||function(t){return"[object Array]"===v.call(t)},m=Object.keys;m||(m=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e});var b=["value","getter","setter","readOnly"];return d}),define("lofty/lang/observer",function(){"use strict";var t={}.toString,e=function(e){return"[object Function]"===t.call(e)},n=Array.isArray||function(e){return"[object Array]"===t.call(e)},i=function(t){return"string"==typeof t},r=Array.prototype.slice,o=function(t,e){var i;if(n(t))for(;i=t.shift();)e(i);else e(t)},s=function(t,e,n,r){if(i(e)){var o=t[e]||(t[e]=[]);o.push({listener:n,context:r})}},a=function(t,e,n,r){var o,s;if(i(e)&&(o=t[e]))if(n||r)for(var a=0;a<o.length;)s=o[a],n&&s.listener===n||r&&s.context===r?o.splice(a,1):a++;else delete t[e]},u=function(t,e,n){var r,o;if(i(e)&&(r=t[e]))for(var s=0,a=r.length;a>s;s++)o=r[s],o.listener.apply(o.context||this._observer_context||this,n)},c=function(t){this._observer_context=t};c.prototype={attach:function(t,n,i){var r;return e(n)?(r=this._observer_group||(this._observer_group={}),o(t,function(t){s(r,t,n,i)}),this):this},detach:function(t,e,n){var i;return(i=this._observer_group)?t?(o(t,function(t){a(i,t,e,n)}),this):(delete this._observer_group,this):this},notify:function(t){var e,n,i;return(e=this._observer_group)?(n=r.call(arguments,1),i=this,o(t,function(t){u.call(i,e,t,n)}),this):this}},c.prototype.on=c.prototype.attach,c.prototype.off=c.prototype.detach,c.prototype.trigger=c.prototype.notify;var l=new c(window);return l.create=function(t){return new c(t)},l.mixTo=function(t){t=t||{};var e=c.prototype;for(var n in e)t[n]=e[n];return t},l}),define("lofty/lang/pluginhost",["lofty/lang/class"],function(t){"use strict";var e=t({install:function(t,e){var n,o,s;if(this._plugins||(this._plugins={}),r(t))for(n=0,o=t.length;o>n;n++)this.install(t[n]);else t&&!i(t)&&(e=t.cfg,t=t.plg),t&&t.Name&&(s=t.Name,e=e||{},e.host=this,this.hasPlugin(s)?this[s].set&&this[s].set(e):(this[s]=new t(e),this._plugins[s]=t));return this},uninstall:function(t){if(!this._plugins)return this;var e=t,n=this._plugins;if(t)i(t)&&(e=t.Name,!e||n[e]&&n[e]===t||(e=null)),e&&(this[e]&&(this[e].destroy&&this[e].destroy(),delete this[e]),n[e]&&delete n[e]);else for(e in this._plugins)this._plugins.hasOwnProperty(e)&&this.uninstall(e);return this},hasPlugin:function(t){return this._plugins?this._plugins[t]&&this[t]:!1}}),n={}.toString,i=function(t){return"[object Function]"===n.call(t)},r=Array.isArray||function(t){return"[object Array]"===n.call(t)};return e}),define("lofty/lang/base",["lofty/lang/class","lofty/lang/attribute","lofty/lang/observer","lofty/lang/pluginhost"],function(t,e,n,i){"use strict";var r=function(t,e){var n,i;e=e.prototype||e;for(i in e)n=e[i],void 0!==n&&(t[i]=n)},o=t({init:function(t){this.initOptions(t),t&&t.plugins&&this.install(t.plugins)},destroy:function(){this.uninstall(),this.off();for(var t in this)this.hasOwnProperty(t)&&delete this[t]}});return r(o.prototype,e),r(o.prototype,i),n.mixTo(o.prototype),o}),define("lofty/lang/aop",function(){"use strict";var t=function(){this._list=[],this.isAttached=!0};t.prototype={before:function(t,n,i,o){return e(this,t,n,function(t){var e=o||t.target,n=i.call(e,t);if(n)return t.args=r(n)?n:t.args,t.method.apply(t.target,t.args)}),this},after:function(t,n,i,r){return e(this,t,n,function(t){t.result=t.method.apply(t.target,t.args);var e=r||t.target,n=i.call(e,t);return void 0===n?t.result:n}),this},detach:function(){for(var t=this._list,e=t.length;e--;){var n=t[e];n.target[n.name]=n.original}return this.isAttached=!1,this}};var e=function(t,e,i,o){if(e=e||window,"string"==typeof i&&(i=[i]),r(i))for(var s=0,a=i.length;a>s;s++)n(t,e,i[s],o);else if(i.test)for(var u in e)i.test(u)&&"function"==typeof e[u]&&n(t,e,u,o)},n=function(t,e,n,i){var r=e[n];if("function"!=typeof r)throw new Error("target method not exist: "+n);var o=function(){var t=[].slice.call(arguments,0);return i({target:e,name:n,args:t,method:r})};t._list.push({target:e,name:n,original:r,method:o}),t.isAttached&&(e[n]=o)},i=Object.prototype.toString,r=function(t){return"[object Array]"===i.apply(t)};return function(){for(var e=function(e){t[e]=function(t,n,i,r){var o=new this;return o[e](t,n,i,r)}},n=["before","after"],i=0,r=n.length;r>i;i++)e(n[i])}(),t}),define("fdevlib/js/app/link/1.0/core/seed",["lofty/lang/class","lofty/lang/base","jquery"],function(t,e,n){return e.extend=function i(e){var r=this;e||(e={}),n.each(e,function(t,i){if("function"==typeof i){var o=/("([^\\\"]*(\\.)?)*")|('([^\\\']*(\\.)?)*')|(\/{2,}.*?(\r|\n))|(\/\*(\n|.)*?\*\/)/g,s=i.toString();s=s.replace(o,function(t){return/^\/{2,}/.test(t)||/^\/\*/.test(t)?"":t});var a=/\b_super\b/.test(s);a&&(i.prototype.func=t,i.prototype.SuperClass=r);var u,c=s.match(/_private[a-z0-9A-Z]*/g)||[];if(n.each(c,function(t,n){void 0===e[n]&&(u=n)}),u)throw new Error("you can't use "+u+" at function>"+t+"!")}"event"==t&&"object"==typeof i&&r.prototype.event&&n.extend(i,r.prototype.event)});var o=t(this,e);return o.extend=i,o},e.extend({singleton:!1,abstr:!1,isLink:!0,init:function(t){t||(t={}),this._super(t,this,arguments),this.state="init",this.tags=[],this.children=[],this.parent=void 0,this.init_param=t,this.newTag("seed")},_super:function(t,e,n){var i,r,o;if(0==arguments.length)throw new Error("miss param arguments");2==arguments.length?(i={},r=t,o=e):1==arguments.length?(i={},r=void 0,o=t):(i=t,r=e,o=n);var s=o.callee.prototype.func,a=o.callee.prototype.SuperClass.prototype;if(!a[s]||"function"!=typeof a[s])throw new Error("parent not have same_name or not a function !");return r?a[s].call(r,i):a[s](i)},boot:function(){if(this.state="live",!this._id)throw new Error("Create fail!Please use Link.create!")},reload:function(){if(this.singleton)return console.error("singleton object does not support reload"),!1;var t=Link.create(this.getClass(),this.init_param,this.parent);return Link.destroy(this),t},newTag:function(t){var e=this,i=n.trim(t.replace(/\s+/g," ")).split(" ");n.each(i,function(t,i){var r=!1;n.each(e.tags,function(t,e){i===e&&(r=!0)}),r||e.tags.push(i)})},hasTag:function(t){return-1==n.inArray(t,this.tags)?!1:!0},breakLink:function(t){var e=this;n.each(this.children,function(n,i){i==t&&(e.children.splice(n,1),i.parent=void 0)}),this.parent==t&&(this.parent=void 0,t.breakLink(this))},getOpt:function(t,e,n){return t||(t={}),n===!0?void 0===t[e]?!0:t[e]:"function"!=typeof n?t[e]||n:t[e]?t[e]:void n()},getClass:function(){return this.constructor},subscribe:function(t,e){var n=this;this.on(t,e),Link.radio.on(t,function(e){n.trigger(t,e)})},unSubscribe:function(t){this.off(t)},destroy:function(){this._super(this,arguments),this.state="die"}})}),!function(){function t(t){return t.replace(b,"").replace(w,",").replace(_,"").replace(k,"").replace(j,"").split($)}function e(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function n(n,i){function r(t){return h+=t.split(/\n/).length-1,l&&(t=t.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),t&&(t=m[1]+e(t)+m[2]+"\n"),t}function o(e){var n=h;if(c?e=c(e,i):s&&(e=e.replace(/\n/g,function(){return h++,"$line="+h+";"})),0===e.indexOf("=")){var r=f&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),r){var o=e.replace(/\s*\([^\)]+\)/,"");p[o]||/^(include|print)$/.test(o)||(e="$escape("+e+")")}else e="$string("+e+")";e=m[1]+e+m[2]}return s&&(e="$line="+n+";"+e),y(t(e),function(t){if(t&&!v[t]){var e;e="print"===t?w:"include"===t?_:p[t]?"$utils."+t:d[t]?"$helpers."+t:"$data."+t,k+=t+"="+e+",",v[t]=!0}}),e+"\n"}var s=i.debug,a=i.openTag,u=i.closeTag,c=i.parser,l=i.compress,f=i.escape,h=1,v={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},g="".trim,m=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],b=g?"$out+=text;return $out;":"$out.push(text);",w="function(){var text=''.concat.apply('',arguments);"+b+"}",_="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+b+"}",k="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(s?"$line=0,":""),j=m[0],$="return new String("+m[3]+");";y(n.split(a),function(t){t=t.split(u);var e=t[0],n=t[1];1===t.length?j+=r(e):(j+=o(e),n&&(j+=r(n)))});var x=k+j+$;s&&(x="try{"+x+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+e(n)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var L=new Function("$data","$filename",x);return L.prototype=p,L}catch(E){throw E.temp="function anonymous($data,$filename) {"+x+"}",E}}var i=function(t,e){return"string"==typeof e?g(e,{filename:t}):s(t,e)};i.version="3.0.0",i.config=function(t,e){r[t]=e};var r=i.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},o=i.cache={};i.render=function(t,e){return g(t,e)};var s=i.renderFile=function(t,e){var n=i.get(t)||v({filename:t,name:"Render Error",message:"Template not found"});return e?n(e):n};i.get=function(t){var e;if(o[t])e=o[t];else if("object"==typeof document){var n=document.getElementById(t);if(n){var i=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");e=g(i,{filename:t})}}return e};var a=function(t,e){return"string"!=typeof t&&(e=typeof t,"number"===e?t+="":t="function"===e?a(t.call(t)):""),t},u={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},c=function(t){return u[t]},l=function(t){return a(t).replace(/&(?![\w#]+;)|[<>"']/g,c)},f=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},h=function(t,e){var n,i;if(f(t))for(n=0,i=t.length;i>n;n++)e.call(t,t[n],n,t);else for(n in t)e.call(t,t[n],n)},p=i.utils={$helpers:{},$include:s,$string:a,$escape:l,$each:h};i.helper=function(t,e){d[t]=e};var d=i.helpers=p.$helpers;i.onerror=function(t){var e="Template Error\n\n";for(var n in t)e+="<"+n+">\n"+t[n]+"\n\n";"object"==typeof console&&console.error(e)};var v=function(t){return i.onerror(t),function(){return"{Template Error}"}},g=i.compile=function(t,e){function i(n){try{return new u(n,a)+""}catch(i){return e.debug?v(i)():(e.debug=!0,g(t,e)(n))}}e=e||{};for(var s in r)void 0===e[s]&&(e[s]=r[s]);var a=e.filename;try{var u=n(t,e)}catch(c){return c.filename=a||"anonymous",c.name="Syntax Error",v(c)}return i.prototype=u.prototype,i.toString=function(){return u.toString()},a&&e.cache&&(o[a]=i),i},y=p.$each,m="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,w=/[^\w$]+/g,_=new RegExp(["\\b"+m.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),k=/^\d[^,]*|,\d[^,]*/g,j=/^,+|,+$/g,$=/^$|,+/;r.openTag="{{",r.closeTag="}}";var x=function(t,e){var n=e.split(":"),i=n.shift(),r=n.join(":")||"";return r&&(r=", "+r),"$helpers."+i+"("+t+r+")"};r.parser=function(t,e){t=t.replace(/^\s/,"");var n=t.split(" "),r=n.shift(),o=n.join(" ");switch(r){case"if":t="if("+o+"){";break;case"else":n="if"===n.shift()?" if("+n.join(" ")+")":"",t="}else"+n+"{";break;case"/if":t="}";break;case"each":var s=n[0]||"$data",a=n[1]||"as",u=n[2]||"$value",c=n[3]||"$index",l=u+","+c;"as"!==a&&(s="[]"),t="$each("+s+",function("+l+"){";break;case"/each":t="});";break;case"echo":t="print("+o+");";break;case"print":case"include":t=r+"("+n.join(",")+");";break;case"!":t=o;break;default:if(/^\s*\|\s*[\w\$]/.test(o)){var f=!0;0===t.indexOf("#")&&(t=t.substr(1),f=!1);for(var h=0,p=t.split("|"),d=p.length,v=p[h++];d>h;h++)v=x(v,p[h]);t=(f?"=":"=#")+v}else t=i.helpers[r]?"=#"+r+"("+n.join(",")+");":"="+t}return t},"function"==typeof define?define("lofty/util/template/2.0/template",["require","exports","module"],function(t,e,n){n.exports=i}):"undefined"!=typeof exports?module.exports=i:this.template=i}(),define("fdevlib/js/app/link/1.0/core/view",["lofty/lang/class","fdevlib/js/app/link/1.0/core/seed","util/template/2.0","jquery"],function(t,e,n,i){return 0==i("#LinkViewTakeContainer").length&&i("body").append(i('<span id="LinkViewTakeContainer" style="display:none"></span>')),e.extend({event:{},tplHelper:{},init:function(t){this._super(t,this,arguments),t||(t={}),this.container=i(t.container),this.$el=i('<span class="view"></span>'),this.container.append(this.$el),this.newTag("view")},boot:function(){this._super(this,arguments),this.el().data("factory_id",this._id),this._privateBindEvent(this.event)},_privateBindEvent:function(t){var e=this;i.each(t,function(t,n){-1==t.indexOf(":")&&(t+=":");var r,o=t.match(/\w+(?=:)/)[0],s=t.match(/:.*/)[0],a=s.substring(1,s.length);r="string"==typeof n?e[n]?i.proxy(e[n],e):i.noop:i.proxy(n,e);var u=function(t){r(t,this)};""==a?e.el().on(o+"."+e._id,u):"window"==a?i(window).on(o+"."+e._id,u):"document"==a?i(document).on(o+"."+e._id,u):e.el().on(o+"."+e._id,a,u),("screenover"==o||"screenout"==o)&&e._privateCheckScreenEvent(o,r,a)})},_privateCheckScreenEvent:function(t,e,n){var r=this;this.__testScreen=function(){r._privateScreenCheck(n)?"screenover"==t&&e():"screenout"==t&&e()},i(window).on("scroll."+r._id+" resize."+r._id,this.__testScreen),Link.timer.addEvent(this.__testScreen,{loop:"inf",duration:1e3})},_privateScreenCheck:function(t){t||(t="");var e,n={x:this.el(t).first().offset().left,y:this.el(t).first().offset().top,w:this.el(t).first().outerWidth(),h:this.el(t).first().outerHeight()},r={x:i(document).scrollLeft(),y:i(document).scrollTop(),w:i(window).width(),h:i(window).height()},o=n.x,s=n.x+n.w,a=n.y,u=n.y+n.h,c=r.x,l=r.x+r.w,f=r.y,h=r.y+r.h;e=c>o&&c>s||o>l&&s>l?!0:!1;var p;return p=f>a&&f>u||a>h&&u>h?!0:!1,p||e?!1:!0},el:function(t){return this.$el?t&&""!=t?this.$el.find(t):this.$el:i()},compile:function(t){var e,r;t||(t={}),2===arguments.length?(e=arguments[0],r=arguments[1]):(e=t.tpl||"",r=t.data||{}),i.each(Link.tplHelper,function(t,e){n.helper(t,e)}),i.each(this.tplHelper,function(t,e){n.helper(t,e)});var o=n.compile(e)(r);return"{Template Error}"==o&&(o=""),o},render:function(t,e){var n,i;t||(t={}),"string"==typeof t?2===arguments.length?(n=t,i=e):(n=t,i={}):(n=t.tpl||"",i=t.data||{});var r=this.compile({tpl:n,data:i});this.el().html(r)},renderAsync:function(t){var e=this,n=i.Deferred();return t||(t={}),Link.timer.addEvent(function(){var i=e.compile({tpl:t.tpl,data:t.data});e.el().html(i),n.resolve()},300),n},appendTo:function(t){this.container=i(t)||console.error("miss arg tgt"),this.el().appendTo(this.container),this.init_param.container=t},takeUp:function(){this.el().appendTo(i("#LinkViewTakeContainer")),this.init_param.container=i("#LinkViewTakeContainer")},_privateClearEvent:function(){i(window).off("."+this._id),i(document).off("."+this._id),this.el().off("."+this._id),this.__testScreen&&Link.timer.removeEvent(this.__testScreen)},destroy:function(){this._privateClearEvent(),this.el().remove(),this._super(this,arguments)}})}),define("fdevlib/js/app/link/1.0/core/factory",["lofty/lang/class","fdevlib/js/app/link/1.0/core/seed","jquery"],function(t,e,n){var i=new(e.extend({init:function(){this._super(this,arguments),this.objectList={},this.objectList.link_obj_0=this,this._id=0,this.idIndex=0,this.newTag("factory")},create:function(){var t=this,e=arguments[0],i=arguments[1]||{},r=arguments[2],o=arguments[3];if(!e||!e.prototype)throw new Error(r&&r.tags?'create undefind Class in "'+r.tags[r.tags.length-1]+'"!':"create undefind Class!");var s;if(!e.prototype.isLink)return new e(i);if(e.prototype.hasOwnProperty("abstr")&&e.prototype.abstr===!0)throw new Error("abstract class can not create");var a=function(){s=new e(i),s._id=t._privateIdBuild(),t.objectList["link_obj_"+s._id]=s,r&&(s.parent=r,r.children.push(s)),t.extEvt(s),o.bind(s),s.boot()};if(e.prototype.singleton){var u;n.each(this.objectList,function(t,n){n instanceof e&&(u=n)}),u?s=u:(r=void 0,a())}else a();return s},_privateIdBuild:function(){return this.idIndex++,this.idIndex},extEvt:function(t){},destroy:function(t){if(!t)return!1;if(!t.isLink)return t.destroy&&t.destroy(),!1;if("die"==t.state)return!1;if(t.singleton)return!1;if(t.children.length>0)for(;t.children.length>0;)Link.destroy(t.children[t.children.length-1]);t.parent&&(t.parent.breakLink(t),t.parent=void 0),delete this.objectList["link_obj_"+t._id],t.destroy()}}));return i}),define("fdevlib/js/app/link/1.0/core/router",["fdevlib/js/app/link/1.0/core/seed","jquery"],function(t,e){var n=t.extend({singleton:!0,routers:{},init:function(t){var n=this;if(t||(t={}),this._super(t,this,arguments),e(window).bind("hashchange",function(t){n.navigate()}),e.browser.msie&&"7.0"==e.browser.version){var i=n._privateUrlResolve().hash;setTimeout(function(){Link.timer.addEvent(function(){var t=n._privateUrlResolve().hash;t!=i&&(n.navigate(),i=t)},{duration:500,loop:"inf"})},30)}},_privateUrlResolve:function(t){t||(t=document.location.href);var e=t.match(/#.*$/);e&&(e=e[0]);var n={hash:e||""};return n},_privateResolve:function(t){t=t.substring(1,t.length);var e=t.split("/"),n={};n.param=[],n.action=e[0];for(var i=1;i<e.length;i++)n.param.push(e[i]);return n},navigate:function(t){var e;this.routers[""]||(this.routers[""]=function(){}),t||(t=this._privateUrlResolve().hash),e=""==t?{action:""}:this._privateResolve(t),""==e.action?this.routers[""].apply(this,[t]):this.routers[e.action]?this.routers[e.action].apply(this,e.param):this.routers[""].apply(this,[t])},bind:function(t,n){var i=this;(1==arguments.length||e.isArray(arguments[0]))&&e.each(arguments[0],function(t,e){i.routers[t]=e}),this.routers[t]=n}});return new n}),define("fdevlib/js/app/link/1.0/core/timer",["fdevlib/js/app/link/1.0/core/seed","jquery"],function(t,e){return t.extend({options:{},init:function(t){t||(t={}),this._super(t,this,arguments),this.set({delay:t.delay||30,running:!1}),this.time=0,this.taskList=[]},addEvent:function(t,e){e||(e={});var n;n="number"==typeof e?{loop:1,context:window,duration:e,immediate:e.immediate||!1}:{loop:e.loop||1,context:e.context||window,duration:e.duration||1,immediate:e.immediate||!1};var i=parseInt(n.duration/this.get("delay"));0==i&&(i=1);for(var r in this.taskList)if(this.taskList[r].fn===t)return!1;n.immediate&&(this.taskList.push({loop:1,frame:1,context:n.context,fn:t}),"inf"!==n.loop&&n.loop--),this.taskList.push({loop:n.loop,frame:i,context:n.context,fn:t})},removeEvent:function(t){for(var e=0;e<this.taskList.length;e++)this.taskList[e].fn===t&&(this.taskList.splice(e,1),e--)},start:function(){var t=this;return this.get("running")?!1:(this.set("running",!0),void(this.timer=setInterval(function(){t.time++,e.each(t.taskList,function(){this.loop>0?t.time%this.frame==0&&(this.loop--,this.fn.call(this.context,t.time)):"inf"==this.loop&&t.time%this.frame==0&&this.fn.call(this.context,t.time)});for(var n=t.taskList.length;n>0;)0==t.taskList[n-1].loop&&t.taskList.splice(n-1,1),n--},this.get("delay"))))},stop:function(){clearInterval(this.timer),this.set("running",!1),this.time=0},destroy:function(){this.stop(),this._super(this,arguments)}})}),define("fdevlib/js/app/link/1.0/core/radio",["fdevlib/js/app/link/1.0/core/seed"],function(t){return t.extend({singleton:!0,init:function(){this._super(this,arguments),this.history={}},publish:function(t,e){this.trigger(t,e),this.history[t]=e}})}),define("fdevlib/js/app/link/1.0/core/aop",["fdevlib/js/app/link/1.0/core/seed","lofty/lang/aop"],function(t,e){return t.extend({singleton:!0,init:function(){this._super(this,arguments),this.aopList=[]},watch:function(t){var e=this;jQuery.each(t,function(t,n){jQuery.each(n,function(n,i){var r=e._privateResolveFuncPos(n);e.aopList.push({tagName:t,position:r.position,event:r.event,func:i})})})},_privateResolveFuncPos:function(t){var e=t.match(/:.+/)[0],n=t.match(/\w+(?=:)/)[0],i=e.substring(1,e.length);return{position:n,event:i}},bind:function(t){jQuery.each(this.aopList,function(n,i){t.hasTag(i.tagName)&&e[i.position](t,i.event,i.func,t)})},push:function(t,n){var i,r,o,s=this;jQuery.each(n,function(t,e){var n=s._privateResolveFuncPos(t);r=n.position,i=n.event,o=e}),e[r](t,i,o,t)}})}),define("fdevlib/js/app/link/1.0/link",["fdevlib/js/app/link/1.0/core/seed","fdevlib/js/app/link/1.0/core/view","fdevlib/js/app/link/1.0/core/factory","fdevlib/js/app/link/1.0/core/router","fdevlib/js/app/link/1.0/core/timer","fdevlib/js/app/link/1.0/core/radio","fdevlib/js/app/link/1.0/core/aop","jquery"],function(t,e,n,i,r,o,s,a){return window.Link?window.Link:(window.console||(window.console={log:function(){},error:function(){},info:function(){}}),window.localStorage||(window.localStorage={setItem:function(){},getItem:function(){},removeItem:function(){},clear:function(){}},window.sessionStorage={setItem:function(){},getItem:function(){},removeItem:function(){},clear:function(){}}),window.Link=new(t.extend({singleton:!0,init:function(t){this._super(this,arguments),this.VERSION=this.version="1.5.5",this.router=i,this.radio=new o,this.aop=new s,this.timer=new r({delay:30}),this.timer.start()},create:function(t,e,i){2==arguments.length&&e._id&&(i=e,e={});var r=n.create(t,e,i,this.aop);return r},extend:function(t,e){if(!t)throw new Error("Class is undefined");return t.extend(e)},Seed:t,View:e,tplHelper:{},find:function(t){var e=[];return a.each(n.objectList,function(n,i){i.hasTag(t)&&e.push(i)}),e},findInDom:function(t){if(a(t).length>1)throw new Error("dom target must single");var e=[];return a(t).children("span.view").each(function(t,i){e.push(n.objectList["link_obj_"+a(this).data("factory_id")])}),e},getObjectList:function(){return n.objectList},plugin:function(t,e){return this[t]?this[t]:(this[t]=e,e)},destroy:function(t){n.destroy(t)}})),window.Link)}),define(["fdevlib/js/app/link/1.0/link"],function(){});;